{"ast":null,"code":"import $ from 'jquery';\n$(document).ready(function ($) {\n  \"use strict\"; // Fly-Out Navigation\n\n  $(\".mvp-fly-but-click\").on('click', function () {\n    $(\"#mvp-fly-wrap\").toggleClass(\"mvp-fly-menu\");\n    $(\".mvp-fly-but-wrap\").toggleClass(\"mvp-fly-open\");\n    $(\".mvp-fly-fade\").toggleClass(\"mvp-fly-fade-trans\");\n  }); // Back to Top Button\n\n  var duration = 500;\n  $('.back-to-top').on('click', function (event) {\n    event.preventDefault();\n    $('html, body').animate({\n      scrollTop: 0\n    }, duration);\n    return false;\n  }); // Search Toggle\n\n  $(\".mvp-search-click\").on('click', function () {\n    $(\"#mvp-search-wrap\").toggleClass(\"mvp-search-toggle\");\n  }); // Mobile Social Toggle\n\n  $(\".mvp-mob-soc-click\").on('click', function () {\n    $(\".mvp-mob-soc-list\").toggleClass(\"mvp-mob-soc-tog\");\n  }); // Trending Toggle\n\n  $(\".mvp-post-trend-but-click\").on('click', function () {\n    $(\"#mvp-post-trend-wrap\").toggleClass(\"mvp-post-trend-tog\");\n  }); // Comments Toggle\n\n  $(\".mvp-com-click\").on('click', function () {\n    $(\"#comments\").show();\n    $(\"#disqus_thread\").show();\n    $(\"#mvp-comments-button\").hide();\n  }); // Continue Reading Toggle\n\n  $(\".mvp-ad-rel-click\").on('click', function () {\n    $(\"#mvp-content-main\").css('max-height', 'none');\n    $('#mvp-ad-rel-wrap').css('margin-top', '20px');\n    $(\"#mvp-ad-rel-top\").hide();\n  }); // Columns Toggle\n\n  $('.mvp-side-tab-wrap').each(function () {\n    $(this).find(\".mvp-tab-col-cont\").hide(); //Hide all content\n\n    $(this).find(\"ul.mvp-col-tabs li.mvp-feat-col-tab\").addClass(\"active\").show(); //Activate first tab\n\n    $(this).find(\".mvp-tab-col-cont:first\").show(); //Show first tab content\n  });\n  $(\"ul.mvp-col-tabs li\").on('click', function (e) {\n    $(this).parents('.mvp-side-tab-wrap').find(\"ul.mvp-col-tabs li\").removeClass(\"active\"); //Remove any \"active\" class\n\n    $(this).addClass(\"active\"); //Add \"active\" class to selected tab\n\n    $(this).parents('.mvp-side-tab-wrap').find(\".mvp-tab-col-cont\").hide(); //Hide all tab content\n\n    var activeTab = $(this).find(\"a\").attr(\"href\"); //Find the href attribute value to identify the active tab + content\n\n    $(this).parents('.mvp-side-tab-wrap').find(activeTab).fadeIn(); //Fade in the active ID content\n\n    e.preventDefault();\n  });\n  $(\"ul.mvp-col-tabs li a\").on('click', function (e) {\n    e.preventDefault();\n  });\n  $('.theiaStickySidebar').theiaStickySidebar({\n    // Settings\n    additionalMarginTop: 30\n  });\n}); // \t// Nicescroll\n// (function(jQuery){\n//   // globals\n//   var domfocus = false;\n//   var mousefocus = false;\n//   var zoomactive = false;\n//   var tabindexcounter = 5000;\n//   var ascrailcounter = 2000;\n//   var globalmaxzindex = 0;\n//   var $ = jQuery;  // sandbox\n//   // http://stackoverflow.com/questions/2161159/get-script-path\n//   function getScriptPath() {\n//     var scripts=document.getElementsByTagName('script');\n//     var path=scripts[scripts.length-1].src.split('?')[0];\n//     return (path.split('/').length>0) ? path.split('/').slice(0,-1).join('/')+'/' : '';\n//   }\n//   var scriptpath = getScriptPath();\n//   var vendors = ['ms','moz','webkit','o'];\n//   var setAnimationFrame = window.requestAnimationFrame||false;\n//   var clearAnimationFrame = window.cancelAnimationFrame||false;\n//   if (!setAnimationFrame) {\n//     for(var vx in vendors) {\n//       var v = vendors[vx];\n//       if (!setAnimationFrame) setAnimationFrame = window[v+'RequestAnimationFrame'];\n//       if (!clearAnimationFrame) clearAnimationFrame = window[v+'CancelAnimationFrame']||window[v+'CancelRequestAnimationFrame'];\n//     }\n//   }\n//   var clsMutationObserver = window.MutationObserver || window.WebKitMutationObserver || false;\n//   var _globaloptions = {\n//       zindex:\"auto\",\n//       cursoropacitymin:0,\n//       cursoropacitymax:1,\n//       cursorcolor:\"#424242\",\n//       cursorwidth:\"5px\",\n//       cursorborder:\"1px solid #fff\",\n//       cursorborderradius:\"5px\",\n//       scrollspeed:60,\n//       mousescrollstep:8*3,\n//       touchbehavior:false,\n//       hwacceleration:true,\n//       usetransition:true,\n//       boxzoom:false,\n//       dblclickzoom:true,\n//       gesturezoom:true,\n//       grabcursorenabled:true,\n//       autohidemode:true,\n//       background:\"\",\n//       iframeautoresize:true,\n//       cursorminheight:32,\n//       preservenativescrolling:true,\n//       railoffset:false,\n//       bouncescroll:true,\n//       spacebarenabled:true,\n//       railpadding:{top:0,right:0,left:0,bottom:0},\n//       disableoutline:true,\n//       horizrailenabled:true,\n//       railalign:\"right\",\n//       railvalign:\"bottom\",\n//       enabletranslate3d:true,\n//       enablemousewheel:true,\n//       enablekeyboard:true,\n//       smoothscroll:true,\n//       sensitiverail:true,\n//       enablemouselockapi:true,\n// //      cursormaxheight:false,\n//       cursorfixedheight:false,\n//       directionlockdeadzone:6,\n//       hidecursordelay:400,\n//       nativeparentscrolling:true,\n//       enablescrollonselection:true,\n//       overflowx:true,\n//       overflowy:true,\n//       cursordragspeed:0.3,\n//       rtlmode:false,\n//       cursordragontouch:false,\n//       oneaxismousemode:\"auto\"\n//   }\n//   var browserdetected = false;\n//   var getBrowserDetection = function() {\n//     if (browserdetected) return browserdetected;\n//     var domtest = document.createElement('DIV');\n//     var d = {};\n// \t\td.haspointerlock = \"pointerLockElement\" in document || \"mozPointerLockElement\" in document || \"webkitPointerLockElement\" in document;\n//     d.isopera = (\"opera\" in window);\n//     d.isopera12 = (d.isopera&&(\"getUserMedia\" in navigator));\n//     d.isoperamini = (Object.prototype.toString.call(window.operamini) === \"[object OperaMini]\");\n//     d.isie = ((\"all\" in document) && (\"attachEvent\" in domtest) && !d.isopera);\n//     d.isieold = (d.isie && !(\"msInterpolationMode\" in domtest.style));  // IE6 and older\n//     d.isie7 = d.isie&&!d.isieold&&(!(\"documentMode\" in document)||(document.documentMode==7));\n//     d.isie8 = d.isie&&(\"documentMode\" in document)&&(document.documentMode==8);\n//     d.isie9 = d.isie&&(\"performance\" in window)&&(document.documentMode>=9);\n//     d.isie10 = d.isie&&(\"performance\" in window)&&(document.documentMode>=10);\n//     d.isie9mobile = /iemobile.9/i.test(navigator.userAgent);  //wp 7.1 mango\n//     if (d.isie9mobile) d.isie9 = false;\n//     d.isie7mobile = (!d.isie9mobile&&d.isie7) && /iemobile/i.test(navigator.userAgent);  //wp 7.0\n//     d.ismozilla = (\"MozAppearance\" in domtest.style);\n//     d.iswebkit = (\"WebkitAppearance\" in domtest.style);\n//     d.ischrome = (\"chrome\" in window);\n// \t\td.ischrome22 = (d.ischrome&&d.haspointerlock);\n//     d.ischrome26 = (d.ischrome&&(\"transition\" in domtest.style));  // issue with transform detection (maintain prefix)\n//     d.cantouch = (\"ontouchstart\" in document.documentElement)||(\"ontouchstart\" in window);  // detection for Chrome Touch Emulation\n//     d.hasmstouch = (window.navigator.msPointerEnabled||false);  // IE10+ pointer events\n//     d.ismac = /^mac$/i.test(navigator.platform);\n//     d.isios = (d.cantouch && /iphone|ipad|ipod/i.test(navigator.platform));\n//     d.isios4 = ((d.isios)&&!(\"seal\" in Object));\n//     d.isandroid = (/android/i.test(navigator.userAgent));\n//     d.trstyle = false;\n//     d.hastransform = false;\n//     d.hastranslate3d = false;\n//     d.transitionstyle = false;\n//     d.hastransition = false;\n//     d.transitionend = false;\n//     var check = ['transform','msTransform','webkitTransform','MozTransform','OTransform'];\n//     for(var a=0;a<check.length;a++){\n//       if (typeof domtest.style[check[a]] != \"undefined\") {\n//         d.trstyle = check[a];\n//         break;\n//       }\n//     }\n//     d.hastransform = (d.trstyle != false);\n//     if (d.hastransform) {\n//       domtest.style[d.trstyle] = \"translate3d(1px,2px,3px)\";\n//       d.hastranslate3d = /translate3d/.test(domtest.style[d.trstyle]);\n//     }\n//     d.transitionstyle = false;\n//     d.prefixstyle = '';\n//     d.transitionend = false;\n//     var check = ['transition','webkitTransition','MozTransition','OTransition','OTransition','msTransition','KhtmlTransition'];\n//     var prefix = ['','-webkit-','-moz-','-o-','-o','-ms-','-khtml-'];\n//     var evs = ['transitionend','webkitTransitionEnd','transitionend','otransitionend','oTransitionEnd','msTransitionEnd','KhtmlTransitionEnd'];\n//     for(var a=0;a<check.length;a++) {\n//       if (check[a] in domtest.style) {\n//         d.transitionstyle = check[a];\n//         d.prefixstyle = prefix[a];\n//         d.transitionend = evs[a];\n//         break;\n//       }\n//     }\n//     if (d.ischrome26) {  // use always prefix\n//       d.prefixstyle = prefix[1];\n//     }\n//     d.hastransition = (d.transitionstyle);\n//     function detectCursorGrab() {\n//       var lst = ['-moz-grab','-webkit-grab','grab'];\n//       if ((d.ischrome&&!d.ischrome22)||d.isie) lst=[];  // force setting for IE returns false positive and chrome cursor bug\n//       for(var a=0;a<lst.length;a++) {\n//         var p = lst[a];\n//         domtest.style['cursor']=p;\n//         if (domtest.style['cursor']==p) return p;\n//       }\n//       return 'url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize';  // thank you google for custom cursor!\n//     }\n//     d.cursorgrabvalue = detectCursorGrab();\n//     d.hasmousecapture = (\"setCapture\" in domtest);\n//     d.hasMutationObserver = (clsMutationObserver !== false);\n//     domtest = null;  //memory released\n//     browserdetected = d;\n//     return d;\n//   }\n//   var NiceScrollClass = function(myopt,me) {\n//     var self = this;\n//     this.version = '3.5.0 BETA5';\n//     this.name = 'nicescroll';\n//     this.me = me;\n//     this.opt = {\n//       doc:$(\"body\"),\n//       win:false\n//     };\n//     $.extend(this.opt,_globaloptions);\n// // Options for internal use\n//     this.opt.snapbackspeed = 80;\n//     if (myopt||false) {\n//       for(var a in self.opt) {\n//         if (typeof myopt[a] != \"undefined\") self.opt[a] = myopt[a];\n//       }\n//     }\n//     this.doc = self.opt.doc;\n//     this.iddoc = (this.doc&&this.doc[0])?this.doc[0].id||'':'';\n//     this.ispage = /BODY|HTML/.test((self.opt.win)?self.opt.win[0].nodeName:this.doc[0].nodeName);\n//     this.haswrapper = (self.opt.win!==false);\n//     this.win = self.opt.win||(this.ispage?$(window):this.doc);\n//     this.docscroll = (this.ispage&&!this.haswrapper)?$(window):this.win;\n//     this.body = $(\"body\");\n//     this.viewport = false;\n//     this.isfixed = false;\n//     this.iframe = false;\n//     this.isiframe = ((this.doc[0].nodeName == 'IFRAME') && (this.win[0].nodeName == 'IFRAME'));\n//     this.istextarea = (this.win[0].nodeName == 'TEXTAREA');\n//     this.forcescreen = false; //force to use screen position on events\n//     this.canshowonmouseevent = (self.opt.autohidemode!=\"scroll\");\n// // Events jump table\n//     this.onmousedown = false;\n//     this.onmouseup = false;\n//     this.onmousemove = false;\n//     this.onmousewheel = false;\n//     this.onkeypress = false;\n//     this.ongesturezoom = false;\n//     this.onclick = false;\n// // Nicescroll custom events\n//     this.onscrollstart = false;\n//     this.onscrollend = false;\n//     this.onscrollcancel = false;\n//     this.onzoomin = false;\n//     this.onzoomout = false;\n// // Let's start!\n//     this.view = false;\n//     this.page = false;\n//     this.scroll = {x:0,y:0};\n//     this.scrollratio = {x:0,y:0};\n//     this.cursorheight = 20;\n//     this.scrollvaluemax = 0;\n//     this.checkrtlmode = false;\n//     this.scrollrunning = false;\n//     this.scrollmom = false;\n//     this.observer = false;\n//     this.observerremover = false;  // observer on parent for remove detection\n//     do {\n//       this.id = \"ascrail\"+(ascrailcounter++);\n//     } while (document.getElementById(this.id));\n//     this.rail = false;\n//     this.cursor = false;\n//     this.cursorfreezed = false;\n//     this.selectiondrag = false;\n//     this.zoom = false;\n//     this.zoomactive = false;\n//     this.hasfocus = false;\n//     this.hasmousefocus = false;\n//     this.visibility = true;\n//     this.locked = false;\n//     this.hidden = false; // rails always hidden\n//     this.cursoractive = true; // user can interact with cursors\n//     this.overflowx = self.opt.overflowx;\n//     this.overflowy = self.opt.overflowy;\n//     this.nativescrollingarea = false;\n//     this.checkarea = 0;\n//     this.events = [];  // event list for unbind\n//     this.saved = {};\n//     this.delaylist = {};\n//     this.synclist = {};\n//     this.lastdeltax = 0;\n//     this.lastdeltay = 0;\n//     this.detected = getBrowserDetection();\n//     var cap = $.extend({},this.detected);\n//     this.canhwscroll = (cap.hastransform&&self.opt.hwacceleration);\n//     this.ishwscroll = (this.canhwscroll&&self.haswrapper);\n//     this.istouchcapable = false;  // desktop devices with touch screen support\n// //## Check Chrome desktop with touch support\n//     if (cap.cantouch&&cap.ischrome&&!cap.isios&&!cap.isandroid) {\n//       this.istouchcapable = true;\n//       cap.cantouch = false;  // parse normal desktop events\n//     }\n// //## Firefox 18 nightly build (desktop) false positive (or desktop with touch support)\n//     if (cap.cantouch&&cap.ismozilla&&!cap.isios&&!cap.isandroid) {\n//       this.istouchcapable = true;\n//       cap.cantouch = false;  // parse normal desktop events\n//     }\n// //## disable MouseLock API on user request\n//     if (!self.opt.enablemouselockapi) {\n//       cap.hasmousecapture = false;\n//       cap.haspointerlock = false;\n//     }\n//     this.delayed = function(name,fn,tm,lazy) {\n//       var dd = self.delaylist[name];\n//       var nw = (new Date()).getTime();\n//       if (!lazy&&dd&&dd.tt) return false;\n//       if (dd&&dd.tt) clearTimeout(dd.tt);\n//       if (dd&&dd.last+tm>nw&&!dd.tt) {\n//         self.delaylist[name] = {\n//           last:nw+tm,\n//           tt:setTimeout(function(){self.delaylist[name].tt=0;fn.call();},tm)\n//         }\n//       }\n//       else if (!dd||!dd.tt) {\n//         self.delaylist[name] = {\n//           last:nw,\n//           tt:0\n//         }\n//         setTimeout(function(){fn.call();},0);\n//       }\n//     };\n//     this.debounced = function(name,fn,tm) {\n//       var dd = self.delaylist[name];\n//       var nw = (new Date()).getTime();\n//       self.delaylist[name] = fn;\n//       if (!dd) {\n//         setTimeout(function(){var fn=self.delaylist[name];self.delaylist[name]=false;fn.call();},tm);\n//       }\n//     }\n//     this.synched = function(name,fn) {\n//       function requestSync() {\n//         if (self.onsync) return;\n//         setAnimationFrame(function(){\n//           self.onsync = false;\n//           for(name in self.synclist){\n//             var fn = self.synclist[name];\n//             if (fn) fn.call(self);\n//             self.synclist[name] = false;\n//           }\n//         });\n//         self.onsync = true;\n//       };\n//       self.synclist[name] = fn;\n//       requestSync();\n//       return name;\n//     };\n//     this.unsynched = function(name) {\n//       if (self.synclist[name]) self.synclist[name] = false;\n//     }\n//     this.css = function(el,pars) {  // save & set\n//       for(var n in pars) {\n//         self.saved.css.push([el,n,el.css(n)]);\n//         el.css(n,pars[n]);\n//       }\n//     };\n//     this.scrollTop = function(val) {\n//       return (typeof val == \"undefined\") ? self.getScrollTop() : self.setScrollTop(val);\n//     };\n//     this.scrollLeft = function(val) {\n//       return (typeof val == \"undefined\") ? self.getScrollLeft() : self.setScrollLeft(val);\n//     };\n// // derived by by Dan Pupius www.pupius.net\n//     BezierClass = function(st,ed,spd,p1,p2,p3,p4) {\n//       this.st = st;\n//       this.ed = ed;\n//       this.spd = spd;\n//       this.p1 = p1||0;\n//       this.p2 = p2||1;\n//       this.p3 = p3||0;\n//       this.p4 = p4||1;\n//       this.ts = (new Date()).getTime();\n//       this.df = this.ed-this.st;\n//     };\n//     BezierClass.prototype = {\n//       B2:function(t){ return 3*t*t*(1-t) },\n//       B3:function(t){ return 3*t*(1-t)*(1-t) },\n//       B4:function(t){ return (1-t)*(1-t)*(1-t) },\n//       getNow:function(){\n//         var nw = (new Date()).getTime();\n//         var pc = 1-((nw-this.ts)/this.spd);\n//         var bz = this.B2(pc) + this.B3(pc) + this.B4(pc);\n//         return (pc<0) ? this.ed : this.st+Math.round(this.df*bz);\n//       },\n//       update:function(ed,spd){\n//         this.st = this.getNow();\n//         this.ed = ed;\n//         this.spd = spd;\n//         this.ts = (new Date()).getTime();\n//         this.df = this.ed-this.st;\n//         return this;\n//       }\n//     };\n//     if (this.ishwscroll) {\n//     // hw accelerated scroll\n//       this.doc.translate = {x:0,y:0,tx:\"0px\",ty:\"0px\"};\n//       //this one can help to enable hw accel on ios6 http://indiegamr.com/ios6-html-hardware-acceleration-changes-and-how-to-fix-them/\n//       if (cap.hastranslate3d&&cap.isios) this.doc.css(\"-webkit-backface-visibility\",\"hidden\");  // prevent flickering http://stackoverflow.com/questions/3461441/\n//       //derived from http://stackoverflow.com/questions/11236090/\n//       function getMatrixValues() {\n//         var tr = self.doc.css(cap.trstyle);\n//         if (tr&&(tr.substr(0,6)==\"matrix\")) {\n//           return tr.replace(/^.*\\((.*)\\)$/g, \"$1\").replace(/px/g,'').split(/, +/);\n//         }\n//         return false;\n//       }\n//       this.getScrollTop = function(last) {\n//         if (!last) {\n//           var mtx = getMatrixValues();\n//           if (mtx) return (mtx.length==16) ? -mtx[13] : -mtx[5];  //matrix3d 16 on IE10\n//           if (self.timerscroll&&self.timerscroll.bz) return self.timerscroll.bz.getNow();\n//         }\n//         return self.doc.translate.y;\n//       };\n//       this.getScrollLeft = function(last) {\n//         if (!last) {\n//           var mtx = getMatrixValues();\n//           if (mtx) return (mtx.length==16) ? -mtx[12] : -mtx[4];  //matrix3d 16 on IE10\n//           if (self.timerscroll&&self.timerscroll.bh) return self.timerscroll.bh.getNow();\n//         }\n//         return self.doc.translate.x;\n//       };\n//       if (document.createEvent) {\n//         this.notifyScrollEvent = function(el) {\n//           var e = document.createEvent(\"UIEvents\");\n//           e.initUIEvent(\"scroll\", false, true, window, 1);\n//           el.dispatchEvent(e);\n//         };\n//       }\n//       else if (document.fireEvent) {\n//         this.notifyScrollEvent = function(el) {\n//           var e = document.createEventObject();\n//           el.fireEvent(\"onscroll\");\n//           e.cancelBubble = true;\n//         };\n//       }\n//       else {\n//         this.notifyScrollEvent = function(el,add) {}; //NOPE\n//       }\n//       if (cap.hastranslate3d&&self.opt.enabletranslate3d) {\n//         this.setScrollTop = function(val,silent) {\n//           self.doc.translate.y = val;\n//           self.doc.translate.ty = (val*-1)+\"px\";\n//           self.doc.css(cap.trstyle,\"translate3d(\"+self.doc.translate.tx+\",\"+self.doc.translate.ty+\",0px)\");\n//           if (!silent) self.notifyScrollEvent(self.win[0]);\n//         };\n//         this.setScrollLeft = function(val,silent) {\n//           self.doc.translate.x = val;\n//           self.doc.translate.tx = (val*-1)+\"px\";\n//           self.doc.css(cap.trstyle,\"translate3d(\"+self.doc.translate.tx+\",\"+self.doc.translate.ty+\",0px)\");\n//           if (!silent) self.notifyScrollEvent(self.win[0]);\n//         };\n//       } else {\n//         this.setScrollTop = function(val,silent) {\n//           self.doc.translate.y = val;\n//           self.doc.translate.ty = (val*-1)+\"px\";\n//           self.doc.css(cap.trstyle,\"translate(\"+self.doc.translate.tx+\",\"+self.doc.translate.ty+\")\");\n//           if (!silent) self.notifyScrollEvent(self.win[0]);\n//         };\n//         this.setScrollLeft = function(val,silent) {\n//           self.doc.translate.x = val;\n//           self.doc.translate.tx = (val*-1)+\"px\";\n//           self.doc.css(cap.trstyle,\"translate(\"+self.doc.translate.tx+\",\"+self.doc.translate.ty+\")\");\n//           if (!silent) self.notifyScrollEvent(self.win[0]);\n//         };\n//       }\n//     } else {\n//     // native scroll\n//       this.getScrollTop = function() {\n//         return self.docscroll.scrollTop();\n//       };\n//       this.setScrollTop = function(val) {\n//         return self.docscroll.scrollTop(val);\n//       };\n//       this.getScrollLeft = function() {\n//         return self.docscroll.scrollLeft();\n//       };\n//       this.setScrollLeft = function(val) {\n//         return self.docscroll.scrollLeft(val);\n//       };\n//     }\n//     this.getTarget = function(e) {\n//       if (!e) return false;\n//       if (e.target) return e.target;\n//       if (e.srcElement) return e.srcElement;\n//       return false;\n//     };\n//     this.hasParent = function(e,id) {\n//       if (!e) return false;\n//       var el = e.target||e.srcElement||e||false;\n//       while (el && el.id != id) {\n//         el = el.parentNode||false;\n//       }\n//       return (el!==false);\n//     };\n//     function getZIndex() {\n//       var dom = self.win;\n//       if (\"zIndex\" in dom) return dom.zIndex();  // use jQuery UI method when available\n//       while (dom.length>0) {\n//         if (dom[0].nodeType==9) return false;\n//         var zi = dom.css('zIndex');\n//         if (!isNaN(zi)&&zi!=0) return parseInt(zi);\n//         dom = dom.parent();\n//       }\n//       return false;\n//     };\n// //inspired by http://forum.jquery.com/topic/width-includes-border-width-when-set-to-thin-medium-thick-in-ie\n//     var _convertBorderWidth = {\"thin\":1,\"medium\":3,\"thick\":5};\n//     function getWidthToPixel(dom,prop,chkheight) {\n//       var wd = dom.css(prop);\n//       var px = parseFloat(wd);\n//       if (isNaN(px)) {\n//         px = _convertBorderWidth[wd]||0;\n//         var brd = (px==3) ? ((chkheight)?(self.win.outerHeight() - self.win.innerHeight()):(self.win.outerWidth() - self.win.innerWidth())) : 1; //DON'T TRUST CSS\n//         if (self.isie8&&px) px+=1;\n//         return (brd) ? px : 0;\n//       }\n//       return px;\n//     };\n//     this.getOffset = function() {\n//       if (self.isfixed) return {top:parseFloat(self.win.css('top')),left:parseFloat(self.win.css('left'))};\n//       if (!self.viewport) return self.win.offset();\n//       var ww = self.win.offset();\n//       var vp = self.viewport.offset();\n//       return {top:ww.top-vp.top+self.viewport.scrollTop(),left:ww.left-vp.left+self.viewport.scrollLeft()};\n//     };\n//     this.updateScrollBar = function(len) {\n//       if (self.ishwscroll) {\n//         self.rail.css({height:self.win.innerHeight()});\n//         if (self.railh) self.railh.css({width:self.win.innerWidth()});\n//       } else {\n//         var wpos = self.getOffset();\n//         var pos = {top:wpos.top,left:wpos.left};\n//         pos.top+= getWidthToPixel(self.win,'border-top-width',true);\n//         var brd = (self.win.outerWidth() - self.win.innerWidth())/2;\n//         pos.left+= (self.rail.align) ? self.win.outerWidth() - getWidthToPixel(self.win,'border-right-width') - self.rail.width : getWidthToPixel(self.win,'border-left-width');\n//         var off = self.opt.railoffset;\n//         if (off) {\n//           if (off.top) pos.top+=off.top;\n//           if (self.rail.align&&off.left) pos.left+=off.left;\n//         }\n// \t\t\t\tif (!self.locked) self.rail.css({top:pos.top,left:pos.left,height:(len)?len.h:self.win.innerHeight()});\n// \t\t\t\tif (self.zoom) {\n// \t\t\t\t  self.zoom.css({top:pos.top+1,left:(self.rail.align==1) ? pos.left-20 : pos.left+self.rail.width+4});\n// \t\t\t  }\n// \t\t\t\tif (self.railh&&!self.locked) {\n// \t\t\t\t\tvar pos = {top:wpos.top,left:wpos.left};\n// \t\t\t\t\tvar y = (self.railh.align) ? pos.top + getWidthToPixel(self.win,'border-top-width',true) + self.win.innerHeight() - self.railh.height : pos.top + getWidthToPixel(self.win,'border-top-width',true);\n// \t\t\t\t\tvar x = pos.left + getWidthToPixel(self.win,'border-left-width');\n// \t\t\t\t\tself.railh.css({top:y,left:x,width:self.railh.width});\n// \t\t\t\t}\n//       }\n//     };\n//     this.doRailClick = function(e,dbl,hr) {\n//       var fn,pg,cur,pos;\n// //      if (self.rail.drag&&self.rail.drag.pt!=1) return;\n//       if (self.locked) return;\n// //      if (self.rail.drag) return;\n// //      self.cancelScroll();\n//       self.cancelEvent(e);\n//       if (dbl) {\n//         fn = (hr) ? self.doScrollLeft : self.doScrollTop;\n//         cur = (hr) ? ((e.pageX - self.railh.offset().left - (self.cursorwidth/2)) * self.scrollratio.x) : ((e.pageY - self.rail.offset().top - (self.cursorheight/2)) * self.scrollratio.y);\n//         fn(cur);\n//       } else {\n// //        console.log(e.pageY);\n//         fn = (hr) ? self.doScrollLeftBy : self.doScrollBy;\n//         cur = (hr) ? self.scroll.x : self.scroll.y;\n//         pos = (hr) ? e.pageX - self.railh.offset().left : e.pageY - self.rail.offset().top;\n//         pg = (hr) ? self.view.w : self.view.h;\n//         (cur>=pos) ? fn(pg) : fn(-pg);\n//       }\n//     }\n//     self.hasanimationframe = (setAnimationFrame);\n//     self.hascancelanimationframe = (clearAnimationFrame);\n//     if (!self.hasanimationframe) {\n//       setAnimationFrame=function(fn){return setTimeout(fn,15-Math.floor((+new Date)/1000)%16)}; // 1000/60)};\n//       clearAnimationFrame=clearInterval;\n//     }\n//     else if (!self.hascancelanimationframe) clearAnimationFrame=function(){self.cancelAnimationFrame=true};\n//     this.init = function() {\n//       self.saved.css = [];\n//       if (cap.isie7mobile) return true; // SORRY, DO NOT WORK!\n//       if (cap.isoperamini) return true; // SORRY, DO NOT WORK!\n//       if (cap.hasmstouch) self.css((self.ispage)?$(\"html\"):self.win,{'-ms-touch-action':'none'});\n//       self.zindex = \"auto\";\n//       if (!self.ispage&&self.opt.zindex==\"auto\") {\n//         self.zindex = getZIndex()||\"auto\";\n//       } else {\n//         self.zindex = self.opt.zindex;\n//       }\n//       if (!self.ispage&&self.zindex!=\"auto\") {\n//         if (self.zindex>globalmaxzindex) globalmaxzindex=self.zindex;\n//       }\n//       if (self.isie&&self.zindex==0&&self.opt.zindex==\"auto\") {  // fix IE auto == 0\n//         self.zindex=\"auto\";\n//       }\n// /*\n//       self.ispage = true;\n//       self.haswrapper = true;\n// //      self.win = $(window);\n//       self.docscroll = $(\"body\");\n// //      self.doc = $(\"body\");\n// */\n//       if (!self.ispage || (!cap.cantouch && !cap.isieold && !cap.isie9mobile)) {\n//         var cont = self.docscroll;\n//         if (self.ispage) cont = (self.haswrapper)?self.win:self.doc;\n//         if (!cap.isie9mobile) self.css(cont,{'overflow-y':'hidden'});\n//         if (self.ispage&&cap.isie7) {\n//           if (self.doc[0].nodeName=='BODY') self.css($(\"html\"),{'overflow-y':'hidden'});  //IE7 double scrollbar issue\n//           else if (self.doc[0].nodeName=='HTML') self.css($(\"body\"),{'overflow-y':'hidden'});  //IE7 double scrollbar issue\n//         }\n//         if (cap.isios&&!self.ispage&&!self.haswrapper) self.css($(\"body\"),{\"-webkit-overflow-scrolling\":\"touch\"});  //force hw acceleration\n//         var cursor = $(document.createElement('div'));\n//         cursor.css({\n//           position:\"relative\",top:0,\"float\":\"right\",width:self.opt.cursorwidth,height:\"0px\",\n//           'background-color':self.opt.cursorcolor,\n//           border:self.opt.cursorborder,\n//           'background-clip':'padding-box',\n//           '-webkit-border-radius':self.opt.cursorborderradius,\n//           '-moz-border-radius':self.opt.cursorborderradius,\n//           'border-radius':self.opt.cursorborderradius\n//         });\n//         cursor.hborder = parseFloat(cursor.outerHeight() - cursor.innerHeight());\n//         self.cursor = cursor;\n//         var rail = $(document.createElement('div'));\n//         rail.attr('id',self.id);\n//         rail.addClass('nicescroll-rails');\n//         var v,a,kp = [\"left\",\"right\"];  //\"top\",\"bottom\"\n//         for(var n in kp) {\n//           a=kp[n];\n//           v = self.opt.railpadding[a];\n//           (v) ? rail.css(\"padding-\"+a,v+\"px\") : self.opt.railpadding[a] = 0;\n//         }\n//         rail.append(cursor);\n//         rail.width = Math.max(parseFloat(self.opt.cursorwidth),cursor.outerWidth()) + self.opt.railpadding['left'] + self.opt.railpadding['right'];\n//         rail.css({width:rail.width+\"px\",'zIndex':self.zindex,\"background\":self.opt.background,cursor:\"default\"});\n//         rail.visibility = true;\n//         rail.scrollable = true;\n//         rail.align = (self.opt.railalign==\"left\") ? 0 : 1;\n//         self.rail = rail;\n//         self.rail.drag = false;\n//         var zoom = false;\n//         if (self.opt.boxzoom&&!self.ispage&&!cap.isieold) {\n//           zoom = document.createElement('div');\n//           self.bind(zoom,\"click\",self.doZoom);\n//           self.zoom = $(zoom);\n//           self.zoom.css({\"cursor\":\"pointer\",'z-index':self.zindex,'backgroundImage':'url('+scriptpath+'zoomico.png)','height':18,'width':18,'backgroundPosition':'0px 0px'});\n//           if (self.opt.dblclickzoom) self.bind(self.win,\"dblclick\",self.doZoom);\n//           if (cap.cantouch&&self.opt.gesturezoom) {\n//             self.ongesturezoom = function(e) {\n//               if (e.scale>1.5) self.doZoomIn(e);\n//               if (e.scale<0.8) self.doZoomOut(e);\n//               return self.cancelEvent(e);\n//             };\n//             self.bind(self.win,\"gestureend\",self.ongesturezoom);\n//           }\n//         }\n// // init HORIZ\n//         self.railh = false;\n//         if (self.opt.horizrailenabled) {\n//           self.css(cont,{'overflow-x':'hidden'});\n//           var cursor = $(document.createElement('div'));\n//           cursor.css({\n//             position:\"relative\",top:0,height:self.opt.cursorwidth,width:\"0px\",\n//             'background-color':self.opt.cursorcolor,\n//             border:self.opt.cursorborder,\n//             'background-clip':'padding-box',\n//             '-webkit-border-radius':self.opt.cursorborderradius,\n//             '-moz-border-radius':self.opt.cursorborderradius,\n//             'border-radius':self.opt.cursorborderradius\n//           });\n//           cursor.wborder = parseFloat(cursor.outerWidth() - cursor.innerWidth());\n//           self.cursorh = cursor;\n//           var railh = $(document.createElement('div'));\n//           railh.attr('id',self.id+'-hr');\n//           railh.addClass('nicescroll-rails');\n//           railh.height = Math.max(parseFloat(self.opt.cursorwidth),cursor.outerHeight());\n//           railh.css({height:railh.height+\"px\",'zIndex':self.zindex,\"background\":self.opt.background});\n//           railh.append(cursor);\n//           railh.visibility = true;\n//           railh.scrollable = true;\n//           railh.align = (self.opt.railvalign==\"top\") ? 0 : 1;\n//           self.railh = railh;\n//           self.railh.drag = false;\n//         }\n// //\n//         if (self.ispage) {\n//           rail.css({position:\"fixed\",top:\"0px\",height:\"100%\"});\n//           (rail.align) ? rail.css({right:\"0px\"}) : rail.css({left:\"0px\"});\n//           self.body.append(rail);\n//           if (self.railh) {\n//             railh.css({position:\"fixed\",left:\"0px\",width:\"100%\"});\n//             (railh.align) ? railh.css({bottom:\"0px\"}) : railh.css({top:\"0px\"});\n//             self.body.append(railh);\n//           }\n//         } else {\n//           if (self.ishwscroll) {\n//             if (self.win.css('position')=='static') self.css(self.win,{'position':'relative'});\n//             var bd = (self.win[0].nodeName == 'HTML') ? self.body : self.win;\n//             if (self.zoom) {\n//               self.zoom.css({position:\"absolute\",top:1,right:0,\"margin-right\":rail.width+4});\n//               bd.append(self.zoom);\n//             }\n//             rail.css({position:\"absolute\",top:0});\n//             (rail.align) ? rail.css({right:0}) : rail.css({left:0});\n//             bd.append(rail);\n//             if (railh) {\n//               railh.css({position:\"absolute\",left:0,bottom:0});\n//               (railh.align) ? railh.css({bottom:0}) : railh.css({top:0});\n//               bd.append(railh);\n//             }\n//           } else {\n//             self.isfixed = (self.win.css(\"position\")==\"fixed\");\n//             var rlpos = (self.isfixed) ? \"fixed\" : \"absolute\";\n//             if (!self.isfixed) self.viewport = self.getViewport(self.win[0]);\n//             if (self.viewport) {\n//               self.body = self.viewport;\n//               if ((/relative|absolute/.test(self.viewport.css(\"position\")))==false) self.css(self.viewport,{\"position\":\"relative\"});\n//             }\n//             rail.css({position:rlpos});\n//             if (self.zoom) self.zoom.css({position:rlpos});\n//             self.updateScrollBar();\n//             self.body.append(rail);\n//             if (self.zoom) self.body.append(self.zoom);\n//             if (self.railh) {\n//               railh.css({position:rlpos});\n//               self.body.append(railh);\n//             }\n//           }\n//           if (cap.isios) self.css(self.win,{'-webkit-tap-highlight-color':'rgba(0,0,0,0)','-webkit-touch-callout':'none'});  // prevent grey layer on click\n// \t\t\t\t\tif (cap.isie&&self.opt.disableoutline) self.win.attr(\"hideFocus\",\"true\");  // IE, prevent dotted rectangle on focused div\n// \t\t\t\t\tif (cap.iswebkit&&self.opt.disableoutline) self.win.css({\"outline\":\"none\"});\n// //          if (cap.isopera&&self.opt.disableoutline) self.win.css({\"outline\":\"0\"});  // Opera to test [TODO]\n//         }\n//         if (self.opt.autohidemode===false) {\n//           self.autohidedom = false;\n//           self.rail.css({opacity:self.opt.cursoropacitymax});\n//           if (self.railh) self.railh.css({opacity:self.opt.cursoropacitymax});\n//         }\n//         else if (self.opt.autohidemode===true) {\n//           self.autohidedom = $().add(self.rail);\n//           if (cap.isie8) self.autohidedom=self.autohidedom.add(self.cursor);\n//           if (self.railh) self.autohidedom=self.autohidedom.add(self.railh);\n//           if (self.railh&&cap.isie8) self.autohidedom=self.autohidedom.add(self.cursorh);\n//         }\n//         else if (self.opt.autohidemode==\"scroll\") {\n//           self.autohidedom = $().add(self.rail);\n//           if (self.railh) self.autohidedom=self.autohidedom.add(self.railh);\n//         }\n//         else if (self.opt.autohidemode==\"cursor\") {\n//           self.autohidedom = $().add(self.cursor);\n//           if (self.railh) self.autohidedom=self.autohidedom.add(self.cursorh);\n//         }\n//         else if (self.opt.autohidemode==\"hidden\") {\n//           self.autohidedom = false;\n//           self.hide();\n//           self.locked = false;\n//         }\n//         if (cap.isie9mobile) {\n//           self.scrollmom = new ScrollMomentumClass2D(self);\n//           /*\n//           var trace = function(msg) {\n//             var db = $(\"#debug\");\n//             if (isNaN(msg)&&(typeof msg != \"string\")) {\n//               var x = [];\n//               for(var a in msg) {\n//                 x.push(a+\":\"+msg[a]);\n//               }\n//               msg =\"{\"+x.join(\",\")+\"}\";\n//             }\n//             if (db.children().length>0) {\n//               db.children().eq(0).before(\"<div>\"+msg+\"</div>\");\n//             } else {\n//               db.append(\"<div>\"+msg+\"</div>\");\n//             }\n//           }\n//           window.onerror = function(msg,url,ln) {\n//             trace(\"ERR: \"+msg+\" at \"+ln);\n//           }\n// */\n//           self.onmangotouch = function(e) {\n//             var py = self.getScrollTop();\n//             var px = self.getScrollLeft();\n//             if ((py == self.scrollmom.lastscrolly)&&(px == self.scrollmom.lastscrollx)) return true;\n// //            $(\"#debug\").html('DRAG:'+py);\n//             var dfy = py-self.mangotouch.sy;\n//             var dfx = px-self.mangotouch.sx;\n//             var df = Math.round(Math.sqrt(Math.pow(dfx,2)+Math.pow(dfy,2)));\n//             if (df==0) return;\n//             var dry = (dfy<0)?-1:1;\n//             var drx = (dfx<0)?-1:1;\n//             var tm = +new Date();\n//             if (self.mangotouch.lazy) clearTimeout(self.mangotouch.lazy);\n//             if (((tm-self.mangotouch.tm)>80)||(self.mangotouch.dry!=dry)||(self.mangotouch.drx!=drx)) {\n// //              trace('RESET+'+(tm-self.mangotouch.tm));\n//               self.scrollmom.stop();\n//               self.scrollmom.reset(px,py);\n//               self.mangotouch.sy = py;\n//               self.mangotouch.ly = py;\n//               self.mangotouch.sx = px;\n//               self.mangotouch.lx = px;\n//               self.mangotouch.dry = dry;\n//               self.mangotouch.drx = drx;\n//               self.mangotouch.tm = tm;\n//             } else {\n//               self.scrollmom.stop();\n//               self.scrollmom.update(self.mangotouch.sx-dfx,self.mangotouch.sy-dfy);\n//               var gap = tm - self.mangotouch.tm;\n//               self.mangotouch.tm = tm;\n// //              trace('MOVE:'+df+\" - \"+gap);\n//               var ds = Math.max(Math.abs(self.mangotouch.ly-py),Math.abs(self.mangotouch.lx-px));\n//               self.mangotouch.ly = py;\n//               self.mangotouch.lx = px;\n//               if (ds>2) {\n//                 self.mangotouch.lazy = setTimeout(function(){\n// //                  trace('END:'+ds+'+'+gap);\n//                   self.mangotouch.lazy = false;\n//                   self.mangotouch.dry = 0;\n//                   self.mangotouch.drx = 0;\n//                   self.mangotouch.tm = 0;\n//                   self.scrollmom.doMomentum(30);\n//                 },100);\n//               }\n//             }\n//           }\n//           var top = self.getScrollTop();\n//           var lef = self.getScrollLeft();\n//           self.mangotouch = {sy:top,ly:top,dry:0,sx:lef,lx:lef,drx:0,lazy:false,tm:0};\n//           self.bind(self.docscroll,\"scroll\",self.onmangotouch);\n//         } else {\n//           if (cap.cantouch||self.istouchcapable||self.opt.touchbehavior||cap.hasmstouch) {\n//             self.scrollmom = new ScrollMomentumClass2D(self);\n//             self.ontouchstart = function(e) {\n//               if (e.pointerType&&e.pointerType!=2) return false;\n//               if (!self.locked) {\n//                 if (cap.hasmstouch) {\n//                   var tg = (e.target) ? e.target : false;\n//                   while (tg) {\n//                     var nc = $(tg).getNiceScroll();\n//                     if ((nc.length>0)&&(nc[0].me == self.me)) break;\n//                     if (nc.length>0) return false;\n//                     if ((tg.nodeName=='DIV')&&(tg.id==self.id)) break;\n//                     tg = (tg.parentNode) ? tg.parentNode : false;\n//                   }\n//                 }\n//                 self.cancelScroll();\n//                 var tg = self.getTarget(e);\n//                 if (tg) {\n//                   var skp = (/INPUT/i.test(tg.nodeName))&&(/range/i.test(tg.type));\n//                   if (skp) return self.stopPropagation(e);\n//                 }\n//                 if (!(\"clientX\" in e) && (\"changedTouches\" in e)) {\n//                   e.clientX = e.changedTouches[0].clientX;\n//                   e.clientY = e.changedTouches[0].clientY;\n//                 }\n//                 if (self.forcescreen) {\n//                   var le = e;\n//                   var e = {\"original\":(e.original)?e.original:e};\n//                   e.clientX = le.screenX;\n//                   e.clientY = le.screenY;\n//                 }\n//                 self.rail.drag = {x:e.clientX,y:e.clientY,sx:self.scroll.x,sy:self.scroll.y,st:self.getScrollTop(),sl:self.getScrollLeft(),pt:2,dl:false};\n//                 if (self.ispage||!self.opt.directionlockdeadzone) {\n//                   self.rail.drag.dl = \"f\";\n//                 } else {\n//                   var view = {\n//                     w:$(window).width(),\n//                     h:$(window).height()\n//                   };\n//                   var page = {\n//                     w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),\n//                     h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)\n//                   }\n//                   var maxh = Math.max(0,page.h - view.h);\n//                   var maxw = Math.max(0,page.w - view.w);\n//                   if (!self.rail.scrollable&&self.railh.scrollable) self.rail.drag.ck = (maxh>0) ? \"v\" : false;\n//                   else if (self.rail.scrollable&&!self.railh.scrollable) self.rail.drag.ck = (maxw>0) ? \"h\" : false;\n//                   else self.rail.drag.ck = false;\n//                   if (!self.rail.drag.ck) self.rail.drag.dl = \"f\";\n//                 }\n//                 if (self.opt.touchbehavior&&self.isiframe&&cap.isie) {\n//                   var wp = self.win.position();\n//                   self.rail.drag.x+=wp.left;\n//                   self.rail.drag.y+=wp.top;\n//                 }\n//                 self.hasmoving = false;\n//                 self.lastmouseup = false;\n//                 self.scrollmom.reset(e.clientX,e.clientY);\n//                 if (!cap.cantouch&&!this.istouchcapable&&!cap.hasmstouch) {\n//                   var ip = (tg)?/INPUT|SELECT|TEXTAREA/i.test(tg.nodeName):false;\n//                   if (!ip) {\n//                     if (!self.ispage&&cap.hasmousecapture) tg.setCapture();\n// //                  return self.cancelEvent(e);\n//                     return (self.opt.touchbehavior) ? self.cancelEvent(e) : self.stopPropagation(e);\n//                   }\n//                   if (/SUBMIT|CANCEL|BUTTON/i.test($(tg).attr('type'))) {\n//                     pc = {\"tg\":tg,\"click\":false};\n//                     self.preventclick = pc;\n//                   }\n//                 }\n//               }\n//             };\n//             self.ontouchend = function(e) {\n//               if (e.pointerType&&e.pointerType!=2) return false;\n//               if (self.rail.drag&&(self.rail.drag.pt==2)) {\n//                 self.scrollmom.doMomentum();\n//                 self.rail.drag = false;\n//                 if (self.hasmoving) {\n//                   self.hasmoving = false;\n//                   self.lastmouseup = true;\n//                   self.hideCursor();\n//                   if (cap.hasmousecapture) document.releaseCapture();\n//                   if (!cap.cantouch) return self.cancelEvent(e);\n//                 }\n//               }\n//             };\n//             var moveneedoffset = (self.opt.touchbehavior&&self.isiframe&&!cap.hasmousecapture);\n//             self.ontouchmove = function(e,byiframe) {\n//               if (e.pointerType&&e.pointerType!=2) return false;\n//               if (self.rail.drag&&(self.rail.drag.pt==2)) {\n//                 if (cap.cantouch&&(typeof e.original == \"undefined\")) return true;  // prevent ios \"ghost\" events by clickable elements\n//                 self.hasmoving = true;\n//                 if (self.preventclick&&!self.preventclick.click) {\n//                   self.preventclick.click = self.preventclick.tg.onclick||false;\n//                   self.preventclick.tg.onclick = self.onpreventclick;\n//                 }\n//                 var ev = $.extend({\"original\":e},e);\n//                 e = ev;\n//                 if ((\"changedTouches\" in e)) {\n//                   e.clientX = e.changedTouches[0].clientX;\n//                   e.clientY = e.changedTouches[0].clientY;\n//                 }\n//                 if (self.forcescreen) {\n//                   var le = e;\n//                   var e = {\"original\":(e.original)?e.original:e};\n//                   e.clientX = le.screenX;\n//                   e.clientY = le.screenY;\n//                 }\n//                 var ofx = ofy = 0;\n//                 if (moveneedoffset&&!byiframe) {\n//                   var wp = self.win.position();\n//                   ofx=-wp.left;\n//                   ofy=-wp.top;\n//                 }\n//                 var fy = e.clientY + ofy;\n//                 var my = (fy-self.rail.drag.y);\n//                 var fx = e.clientX + ofx;\n//                 var mx = (fx-self.rail.drag.x);\n//                 var ny = self.rail.drag.st-my;\n//                 if (self.ishwscroll&&self.opt.bouncescroll) {\n//                   if (ny<0) {\n//                     ny = Math.round(ny/2);\n// //                    fy = 0;\n//                   }\n//                   else if (ny>self.page.maxh) {\n//                     ny = self.page.maxh+Math.round((ny-self.page.maxh)/2);\n// //                    fy = 0;\n//                   }\n//                 } else {\n//                   if (ny<0) {ny=0;fy=0}\n//                   if (ny>self.page.maxh) {ny=self.page.maxh;fy=0}\n//                 }\n//                 if (self.railh&&self.railh.scrollable) {\n//                   var nx = self.rail.drag.sl-mx;\n//                   if (self.ishwscroll&&self.opt.bouncescroll) {\n//                     if (nx<0) {\n//                       nx = Math.round(nx/2);\n// //                      fx = 0;\n//                     }\n//                     else if (nx>self.page.maxw) {\n//                       nx = self.page.maxw+Math.round((nx-self.page.maxw)/2);\n// //                      fx = 0;\n//                     }\n//                   } else {\n//                     if (nx<0) {nx=0;fx=0}\n//                     if (nx>self.page.maxw) {nx=self.page.maxw;fx=0}\n//                   }\n//                 }\n//                 var grabbed = false;\n//                 if (self.rail.drag.dl) {\n//                   grabbed = true;\n//                   if (self.rail.drag.dl==\"v\") nx = self.rail.drag.sl;\n//                   else if (self.rail.drag.dl==\"h\") ny = self.rail.drag.st;\n//                 } else {\n//                   var ay = Math.abs(my);\n//                   var ax = Math.abs(mx);\n//                   var dz = self.opt.directionlockdeadzone;\n//                   if (self.rail.drag.ck==\"v\") {\n//                     if (ay>dz&&(ax<=(ay*0.3))) {\n//                       self.rail.drag = false;\n//                       return true;\n//                     }\n//                     else if (ax>dz) {\n//                       self.rail.drag.dl=\"f\";\n//                       $(\"body\").scrollTop($(\"body\").scrollTop());  // stop iOS native scrolling (when active javascript has blocked)\n//                     }\n//                   }\n//                   else if (self.rail.drag.ck==\"h\") {\n//                     if (ax>dz&&(ay<=(ax*0.3))) {\n//                       self.rail.drag = false;\n//                       return true;\n//                     }\n//                     else if (ay>dz) {\n//                       self.rail.drag.dl=\"f\";\n//                       $(\"body\").scrollLeft($(\"body\").scrollLeft());  // stop iOS native scrolling (when active javascript has blocked)\n//                     }\n//                   }\n//                 }\n//                 self.synched(\"touchmove\",function(){\n//                   if (self.rail.drag&&(self.rail.drag.pt==2)) {\n//                     if (self.prepareTransition) self.prepareTransition(0);\n//                     if (self.rail.scrollable) self.setScrollTop(ny);\n//                     self.scrollmom.update(fx,fy);\n//                     if (self.railh&&self.railh.scrollable) {\n//                       self.setScrollLeft(nx);\n//                       self.showCursor(ny,nx);\n//                     } else {\n//                       self.showCursor(ny);\n//                     }\n//                     if (cap.isie10) document.selection.clear();\n//                   }\n//                 });\n//                 if (cap.ischrome&&self.istouchcapable) grabbed=false;  //chrome touch emulation doesn't like!\n//                 if (grabbed) return self.cancelEvent(e);\n//               }\n//             };\n//           }\n//           self.onmousedown = function(e,hronly) {\n//             if (self.rail.drag&&self.rail.drag.pt!=1) return;\n//             if (self.locked) return self.cancelEvent(e);\n//             self.cancelScroll();\n//             self.rail.drag = {x:e.clientX,y:e.clientY,sx:self.scroll.x,sy:self.scroll.y,pt:1,hr:(!!hronly)};\n//             var tg = self.getTarget(e);\n//             if (!self.ispage&&cap.hasmousecapture) tg.setCapture();\n//             if (self.isiframe&&!cap.hasmousecapture) {\n//               self.saved[\"csspointerevents\"] = self.doc.css(\"pointer-events\");\n//               self.css(self.doc,{\"pointer-events\":\"none\"});\n//             }\n//             return self.cancelEvent(e);\n//           };\n//           self.onmouseup = function(e) {\n//             if (self.rail.drag) {\n//               if (cap.hasmousecapture) document.releaseCapture();\n//               if (self.isiframe&&!cap.hasmousecapture) self.doc.css(\"pointer-events\",self.saved[\"csspointerevents\"]);\n//               if(self.rail.drag.pt!=1)return;\n//               self.rail.drag = false;\n//               //if (!self.rail.active) self.hideCursor();\n//               return self.cancelEvent(e);\n//             }\n//           };\n//           self.onmousemove = function(e) {\n//             if (self.rail.drag) {\n//               if(self.rail.drag.pt!=1)return;\n//               if (cap.ischrome&&e.which==0) return self.onmouseup(e);\n//               self.cursorfreezed = true;\n//               if (self.rail.drag.hr) {\n//                 self.scroll.x = self.rail.drag.sx + (e.clientX-self.rail.drag.x);\n//                 if (self.scroll.x<0) self.scroll.x=0;\n//                 var mw = self.scrollvaluemaxw;\n//                 if (self.scroll.x>mw) self.scroll.x=mw;\n//               } else {\n//                 self.scroll.y = self.rail.drag.sy + (e.clientY-self.rail.drag.y);\n//                 if (self.scroll.y<0) self.scroll.y=0;\n//                 var my = self.scrollvaluemax;\n//                 if (self.scroll.y>my) self.scroll.y=my;\n//               }\n//               self.synched('mousemove',function(){\n//                 if (self.rail.drag&&(self.rail.drag.pt==1)) {\n//                   self.showCursor();\n//                   if (self.rail.drag.hr) self.doScrollLeft(Math.round(self.scroll.x*self.scrollratio.x),self.opt.cursordragspeed);\n//                   else self.doScrollTop(Math.round(self.scroll.y*self.scrollratio.y),self.opt.cursordragspeed);\n//                 }\n//               });\n//               return self.cancelEvent(e);\n//             }\n// /*\n//             else {\n//               self.checkarea = true;\n//             }\n// */\n//           };\n//           if (cap.cantouch||self.opt.touchbehavior) {\n//             self.onpreventclick = function(e) {\n//               if (self.preventclick) {\n//                 self.preventclick.tg.onclick = self.preventclick.click;\n//                 self.preventclick = false;\n//                 return self.cancelEvent(e);\n//               }\n//             }\n// //            self.onmousedown = self.ontouchstart;\n// //            self.onmouseup = self.ontouchend;\n// //            self.onmousemove = self.ontouchmove;\n//             self.bind(self.win,\"mousedown\",self.ontouchstart);  // control content dragging\n//             self.onclick = (cap.isios) ? false : function(e) {\n//               if (self.lastmouseup) {\n//                 self.lastmouseup = false;\n//                 return self.cancelEvent(e);\n//               } else {\n//                 return true;\n//               }\n//             };\n//             if (self.opt.grabcursorenabled&&cap.cursorgrabvalue) {\n//               self.css((self.ispage)?self.doc:self.win,{'cursor':cap.cursorgrabvalue});\n//               self.css(self.rail,{'cursor':cap.cursorgrabvalue});\n//             }\n//           } else {\n//             function checkSelectionScroll(e) {\n//               if (!self.selectiondrag) return;\n//               if (e) {\n//                 var ww = self.win.outerHeight();\n//                 var df = (e.pageY - self.selectiondrag.top);\n//                 if (df>0&&df<ww) df=0;\n//                 if (df>=ww) df-=ww;\n//                 self.selectiondrag.df = df;\n//               }\n//               if (self.selectiondrag.df==0) return;\n//               var rt = -Math.floor(self.selectiondrag.df/6)*2;\n// //              self.doScrollTop(self.getScrollTop(true)+rt);\n//               self.doScrollBy(rt);\n//               self.debounced(\"doselectionscroll\",function(){checkSelectionScroll()},50);\n//             }\n//             if (\"getSelection\" in document) {  // A grade - Major browsers\n//               self.hasTextSelected = function() {\n//                 return (document.getSelection().rangeCount>0);\n//               }\n//             }\n//             else if (\"selection\" in document) {  //IE9-\n//               self.hasTextSelected = function() {\n//                 return (document.selection.type != \"None\");\n//               }\n//             }\n//             else {\n//               self.hasTextSelected = function() {  // no support\n//                 return false;\n//               }\n//             }\n//             self.onselectionstart = function(e) {\n//               if (self.ispage) return;\n//               self.selectiondrag = self.win.offset();\n//             }\n//             self.onselectionend = function(e) {\n//               self.selectiondrag = false;\n//             }\n//             self.onselectiondrag = function(e) {\n//               if (!self.selectiondrag) return;\n//               if (self.hasTextSelected()) self.debounced(\"selectionscroll\",function(){checkSelectionScroll(e)},250);\n//             }\n//           }\n//           if (cap.hasmstouch) {\n//             self.css(self.rail,{'-ms-touch-action':'none'});\n//             self.css(self.cursor,{'-ms-touch-action':'none'});\n//             self.bind(self.win,\"MSPointerDown\",self.ontouchstart);\n//             self.bind(document,\"MSPointerUp\",self.ontouchend);\n//             self.bind(document,\"MSPointerMove\",self.ontouchmove);\n//             self.bind(self.cursor,\"MSGestureHold\",function(e){e.preventDefault()});\n//             self.bind(self.cursor,\"contextmenu\",function(e){e.preventDefault()});\n//           }\n//           if (this.istouchcapable) {  //desktop with screen touch enabled\n//             self.bind(self.win,\"touchstart\",self.ontouchstart);\n//             self.bind(document,\"touchend\",self.ontouchend);\n//             self.bind(document,\"touchcancel\",self.ontouchend);\n//             self.bind(document,\"touchmove\",self.ontouchmove);\n//           }\n//           self.bind(self.cursor,\"mousedown\",self.onmousedown);\n//           self.bind(self.cursor,\"mouseup\",self.onmouseup);\n//           if (self.railh) {\n//             self.bind(self.cursorh,\"mousedown\",function(e){self.onmousedown(e,true)});\n//             self.bind(self.cursorh,\"mouseup\",function(e){\n//               if (self.rail.drag&&self.rail.drag.pt==2) return;\n//               self.rail.drag = false;\n//               self.hasmoving = false;\n//               self.hideCursor();\n//               if (cap.hasmousecapture) document.releaseCapture();\n//               return self.cancelEvent(e);\n//             });\n//           }\n//           if (self.opt.cursordragontouch||!cap.cantouch&&!self.opt.touchbehavior) {\n//             self.rail.css({\"cursor\":\"default\"});\n//             self.railh&&self.railh.css({\"cursor\":\"default\"});\n//             self.jqbind(self.rail,\"mouseenter\",function() {\n//               if (self.canshowonmouseevent) self.showCursor();\n//               self.rail.active = true;\n//             });\n//             self.jqbind(self.rail,\"mouseleave\",function() {\n//               self.rail.active = false;\n//               if (!self.rail.drag) self.hideCursor();\n//             });\n//             if (self.opt.sensitiverail) {\n//               self.bind(self.rail,\"click\",function(e){self.doRailClick(e,false,false)});\n//               self.bind(self.rail,\"dblclick\",function(e){self.doRailClick(e,true,false)});\n//               self.bind(self.cursor,\"click\",function(e){self.cancelEvent(e)});\n//               self.bind(self.cursor,\"dblclick\",function(e){self.cancelEvent(e)});\n//             }\n//             if (self.railh) {\n//               self.jqbind(self.railh,\"mouseenter\",function() {\n//                 if (self.canshowonmouseevent) self.showCursor();\n//                 self.rail.active = true;\n//               });\n//               self.jqbind(self.railh,\"mouseleave\",function() {\n//                 self.rail.active = false;\n//                 if (!self.rail.drag) self.hideCursor();\n//               });\n//               if (self.opt.sensitiverail) {\n//                 self.bind(self.railh, \"click\", function(e){self.doRailClick(e,false,true)});\n//                 self.bind(self.railh, \"dblclick\", function(e){self.doRailClick(e, true, true) });\n//                 self.bind(self.cursorh, \"click\", function (e) { self.cancelEvent(e) });\n//                 self.bind(self.cursorh, \"dblclick\", function (e) { self.cancelEvent(e) });\n//               }\n//             }\n//           }\n//           if (!cap.cantouch&&!self.opt.touchbehavior) {\n//             self.bind((cap.hasmousecapture)?self.win:document,\"mouseup\",self.onmouseup);\n//             self.bind(document,\"mousemove\",self.onmousemove);\n//             if (self.onclick) self.bind(document,\"click\",self.onclick);\n//             if (!self.ispage&&self.opt.enablescrollonselection) {\n//               self.bind(self.win[0],\"mousedown\",self.onselectionstart);\n//               self.bind(document,\"mouseup\",self.onselectionend);\n//               self.bind(self.cursor,\"mouseup\",self.onselectionend);\n//               if (self.cursorh) self.bind(self.cursorh,\"mouseup\",self.onselectionend);\n//               self.bind(document,\"mousemove\",self.onselectiondrag);\n//             }\n// \t\t\t\t\t\tif (self.zoom) {\n// \t\t\t\t\t\t\tself.jqbind(self.zoom,\"mouseenter\",function() {\n// \t\t\t\t\t\t\t\tif (self.canshowonmouseevent) self.showCursor();\n// \t\t\t\t\t\t\t\tself.rail.active = true;\n// \t\t\t\t\t\t\t});\n// \t\t\t\t\t\t\tself.jqbind(self.zoom,\"mouseleave\",function() {\n// \t\t\t\t\t\t\t\tself.rail.active = false;\n// \t\t\t\t\t\t\t\tif (!self.rail.drag) self.hideCursor();\n// \t\t\t\t\t\t\t});\n// \t\t\t\t\t\t}\n//           } else {\n//             self.bind((cap.hasmousecapture)?self.win:document,\"mouseup\",self.ontouchend);\n//             self.bind(document,\"mousemove\",self.ontouchmove);\n//             if (self.onclick) self.bind(document,\"click\",self.onclick);\n//             if (self.opt.cursordragontouch) {\n//               self.bind(self.cursor,\"mousedown\",self.onmousedown);\n//               self.bind(self.cursor,\"mousemove\",self.onmousemove);\n//               self.cursorh&&self.bind(self.cursorh,\"mousedown\",self.onmousedown);\n//               self.cursorh&&self.bind(self.cursorh,\"mousemove\",self.onmousemove);\n//             }\n//           }\n// \t\t\t\t\tif (self.opt.enablemousewheel) {\n// \t\t\t\t\t\tif (!self.isiframe) self.bind((cap.isie&&self.ispage) ? document : self.win /*self.docscroll*/ ,\"mousewheel\",self.onmousewheel);\n// \t\t\t\t\t\tself.bind(self.rail,\"mousewheel\",self.onmousewheel);\n// \t\t\t\t\t\tif (self.railh) self.bind(self.railh,\"mousewheel\",self.onmousewheelhr);\n// \t\t\t\t\t}\n//           if (!self.ispage&&!cap.cantouch&&!(/HTML|BODY/.test(self.win[0].nodeName))) {\n//             if (!self.win.attr(\"tabindex\")) self.win.attr({\"tabindex\":tabindexcounter++});\n//             self.jqbind(self.win,\"focus\",function(e) {\n//               domfocus = (self.getTarget(e)).id||true;\n//               self.hasfocus = true;\n//               if (self.canshowonmouseevent) self.noticeCursor();\n//             });\n//             self.jqbind(self.win,\"blur\",function(e) {\n//               domfocus = false;\n//               self.hasfocus = false;\n//             });\n//             self.jqbind(self.win,\"mouseenter\",function(e) {\n//               mousefocus = (self.getTarget(e)).id||true;\n//               self.hasmousefocus = true;\n//               if (self.canshowonmouseevent) self.noticeCursor();\n//             });\n//             self.jqbind(self.win,\"mouseleave\",function() {\n//               mousefocus = false;\n//               self.hasmousefocus = false;\n//             });\n//           };\n//         }  // !ie9mobile\n//         //Thanks to http://www.quirksmode.org !!\n//         self.onkeypress = function(e) {\n//           if (self.locked&&self.page.maxh==0) return true;\n//           e = (e) ? e : window.e;\n//           var tg = self.getTarget(e);\n//           if (tg&&/INPUT|TEXTAREA|SELECT|OPTION/.test(tg.nodeName)) {\n//             var tp = tg.getAttribute('type')||tg.type||false;\n//             if ((!tp)||!(/submit|button|cancel/i.tp)) return true;\n//           }\n//           if (self.hasfocus||(self.hasmousefocus&&!domfocus)||(self.ispage&&!domfocus&&!mousefocus)) {\n//             var key = e.keyCode;\n//             if (self.locked&&key!=27) return self.cancelEvent(e);\n//             var ctrl = e.ctrlKey||false;\n//             var shift = e.shiftKey || false;\n//             var ret = false;\n//             switch (key) {\n//               case 38:\n//               case 63233: //safari\n//                 self.doScrollBy(24*3);\n//                 ret = true;\n//                 break;\n//               case 40:\n//               case 63235: //safari\n//                 self.doScrollBy(-24*3);\n//                 ret = true;\n//                 break;\n//               case 37:\n//               case 63232: //safari\n//                 if (self.railh) {\n//                   (ctrl) ? self.doScrollLeft(0) : self.doScrollLeftBy(24*3);\n//                   ret = true;\n//                 }\n//                 break;\n//               case 39:\n//               case 63234: //safari\n//                 if (self.railh) {\n//                   (ctrl) ? self.doScrollLeft(self.page.maxw) : self.doScrollLeftBy(-24*3);\n//                   ret = true;\n//                 }\n//                 break;\n//               case 33:\n//               case 63276: // safari\n//                 self.doScrollBy(self.view.h);\n//                 ret = true;\n//                 break;\n//               case 34:\n//               case 63277: // safari\n//                 self.doScrollBy(-self.view.h);\n//                 ret = true;\n//                 break;\n//               case 36:\n//               case 63273: // safari\n//                 (self.railh&&ctrl) ? self.doScrollPos(0,0) : self.doScrollTo(0);\n//                 ret = true;\n//                 break;\n//               case 35:\n//               case 63275: // safari\n//                 (self.railh&&ctrl) ? self.doScrollPos(self.page.maxw,self.page.maxh) : self.doScrollTo(self.page.maxh);\n//                 ret = true;\n//                 break;\n//               case 32:\n//                 if (self.opt.spacebarenabled) {\n//                   (shift) ? self.doScrollBy(self.view.h) : self.doScrollBy(-self.view.h);\n//                   ret = true;\n//                 }\n//                 break;\n//               case 27: // ESC\n//                 if (self.zoomactive) {\n//                   self.doZoom();\n//                   ret = true;\n//                 }\n//                 break;\n//             }\n//             if (ret) return self.cancelEvent(e);\n//           }\n//         };\n//         if (self.opt.enablekeyboard) self.bind(document,(cap.isopera&&!cap.isopera12)?\"keypress\":\"keydown\",self.onkeypress);\n//         self.bind(window,'resize',self.lazyResize);\n//         self.bind(window,'orientationchange',self.lazyResize);\n//         self.bind(window,\"load\",self.lazyResize);\n//         if (cap.ischrome&&!self.ispage&&!self.haswrapper) { //chrome void scrollbar bug - it persists in version 26\n//           var tmp=self.win.attr(\"style\");\n// \t\t\t\t\tvar ww = parseFloat(self.win.css(\"width\"))+1;\n//           self.win.css('width',ww);\n//           self.synched(\"chromefix\",function(){self.win.attr(\"style\",tmp)});\n//         }\n// // Trying a cross-browser implementation - good luck!\n//         self.onAttributeChange = function(e) {\n//           self.lazyResize(250);\n//         }\n//         if (!self.ispage&&!self.haswrapper) {\n//           // redesigned MutationObserver for Chrome18+/Firefox14+/iOS6+ with support for: remove div, add/remove content\n//           if (clsMutationObserver !== false) {\n//             self.observer = new clsMutationObserver(function(mutations) {\n//               mutations.forEach(self.onAttributeChange);\n//             });\n//             self.observer.observe(self.win[0],{childList: true, characterData: false, attributes: true, subtree: false});\n//             self.observerremover = new clsMutationObserver(function(mutations) {\n//                mutations.forEach(function(mo){\n//                  if (mo.removedNodes.length>0) {\n//                    for (var dd in mo.removedNodes) {\n//                      if (mo.removedNodes[dd]==self.win[0]) return self.remove();\n//                    }\n//                  }\n//                });\n//             });\n//             self.observerremover.observe(self.win[0].parentNode,{childList: true, characterData: false, attributes: false, subtree: false});\n//           } else {\n//             self.bind(self.win,(cap.isie&&!cap.isie9)?\"propertychange\":\"DOMAttrModified\",self.onAttributeChange);\n//             if (cap.isie9) self.win[0].attachEvent(\"onpropertychange\",self.onAttributeChange); //IE9 DOMAttrModified bug\n//             self.bind(self.win,\"DOMNodeRemoved\",function(e){\n//               if (e.target==self.win[0]) self.remove();\n//             });\n//           }\n//         }\n// //\n//         if (!self.ispage&&self.opt.boxzoom) self.bind(window,\"resize\",self.resizeZoom);\n//         if (self.istextarea) self.bind(self.win,\"mouseup\",self.lazyResize);\n//         self.checkrtlmode = true;\n//         self.lazyResize(30);\n//       }\n//       if (this.doc[0].nodeName == 'IFRAME') {\n//         function oniframeload(e) {\n//           self.iframexd = false;\n//           try {\n//             var doc = 'contentDocument' in this ? this.contentDocument : this.contentWindow.document;\n//             var a = doc.domain;\n//           } catch(e){self.iframexd = true;doc=false};\n//           if (self.iframexd) {\n//             if (\"console\" in window) console.log('NiceScroll error: policy restriced iframe');\n//             return true;  //cross-domain - I can't manage this\n//           }\n//           self.forcescreen = true;\n//           if (self.isiframe) {\n//             self.iframe = {\n//               \"doc\":$(doc),\n//               \"html\":self.doc.contents().find('html')[0],\n//               \"body\":self.doc.contents().find('body')[0]\n//             };\n//             self.getContentSize = function(){\n//               return {\n//                 w:Math.max(self.iframe.html.scrollWidth,self.iframe.body.scrollWidth),\n//                 h:Math.max(self.iframe.html.scrollHeight,self.iframe.body.scrollHeight)\n//               }\n//             }\n//             self.docscroll = $(self.iframe.body);//$(this.contentWindow);\n//           }\n//           if (!cap.isios&&self.opt.iframeautoresize&&!self.isiframe) {\n//             self.win.scrollTop(0); // reset position\n//             self.doc.height(\"\");  //reset height to fix browser bug\n//             var hh=Math.max(doc.getElementsByTagName('html')[0].scrollHeight,doc.body.scrollHeight);\n//             self.doc.height(hh);\n//           }\n//           self.lazyResize(30);\n//           if (cap.isie7) self.css($(self.iframe.html),{'overflow-y':'hidden'});\n//           //self.css($(doc.body),{'overflow-y':'hidden'});\n//           self.css($(self.iframe.body),{'overflow-y':'hidden'});\n//           if (cap.isios&&self.haswrapper) {\n//             self.css($(doc.body),{'-webkit-transform':'translate3d(0,0,0)'});  // avoid iFrame content clipping - thanks to http://blog.derraab.com/2012/04/02/avoid-iframe-content-clipping-with-css-transform-on-ios/\n//             console.log(1);\n//           }\n//           if ('contentWindow' in this) {\n//             self.bind(this.contentWindow,\"scroll\",self.onscroll);  //IE8 & minor\n//           } else {\n//             self.bind(doc,\"scroll\",self.onscroll);\n//           }\n//           if (self.opt.enablemousewheel) {\n//             self.bind(doc,\"mousewheel\",self.onmousewheel);\n//           }\n//           if (self.opt.enablekeyboard) self.bind(doc,(cap.isopera)?\"keypress\":\"keydown\",self.onkeypress);\n//           if (cap.cantouch||self.opt.touchbehavior) {\n//             self.bind(doc,\"mousedown\",self.ontouchstart);\n//             self.bind(doc,\"mousemove\",function(e){self.ontouchmove(e,true)});\n//             if (self.opt.grabcursorenabled&&cap.cursorgrabvalue) self.css($(doc.body),{'cursor':cap.cursorgrabvalue});\n//           }\n//           self.bind(doc,\"mouseup\",self.ontouchend);\n//           if (self.zoom) {\n//             if (self.opt.dblclickzoom) self.bind(doc,'dblclick',self.doZoom);\n//             if (self.ongesturezoom) self.bind(doc,\"gestureend\",self.ongesturezoom);\n//           }\n//         };\n//         if (this.doc[0].readyState&&this.doc[0].readyState==\"complete\"){\n//           setTimeout(function(){oniframeload.call(self.doc[0],false)},500);\n//         }\n//         self.bind(this.doc,\"load\",oniframeload);\n//       }\n//     };\n//     this.showCursor = function(py,px) {\n//       if (self.cursortimeout) {\n//         clearTimeout(self.cursortimeout);\n//         self.cursortimeout = 0;\n//       }\n//       if (!self.rail) return;\n//       if (self.autohidedom) {\n//         self.autohidedom.stop().css({opacity:self.opt.cursoropacitymax});\n//         self.cursoractive = true;\n//       }\n//       if (!self.rail.drag||self.rail.drag.pt!=1) {\n//         if ((typeof py != \"undefined\")&&(py!==false)) {\n//           self.scroll.y = Math.round(py * 1/self.scrollratio.y);\n//         }\n//         if (typeof px != \"undefined\") {\n//           self.scroll.x = Math.round(px * 1/self.scrollratio.x);\n//         }\n//       }\n//       self.cursor.css({height:self.cursorheight,top:self.scroll.y});\n//       if (self.cursorh) {\n//         (!self.rail.align&&self.rail.visibility) ? self.cursorh.css({width:self.cursorwidth,left:self.scroll.x+self.rail.width}) : self.cursorh.css({width:self.cursorwidth,left:self.scroll.x});\n//         self.cursoractive = true;\n//       }\n//       if (self.zoom) self.zoom.stop().css({opacity:self.opt.cursoropacitymax});\n//     };\n//     this.hideCursor = function(tm) {\n//       if (self.cursortimeout) return;\n//       if (!self.rail) return;\n//       if (!self.autohidedom) return;\n//       self.cursortimeout = setTimeout(function() {\n//          if (!self.rail.active||!self.showonmouseevent) {\n//            self.autohidedom.stop().animate({opacity:self.opt.cursoropacitymin});\n//            if (self.zoom) self.zoom.stop().animate({opacity:self.opt.cursoropacitymin});\n//            self.cursoractive = false;\n//          }\n//          self.cursortimeout = 0;\n//       },tm||self.opt.hidecursordelay);\n//     };\n//     this.noticeCursor = function(tm,py,px) {\n//       self.showCursor(py,px);\n//       if (!self.rail.active) self.hideCursor(tm);\n//     };\n//     this.getContentSize =\n//       (self.ispage) ?\n//         function(){\n//           return {\n//             w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),\n//             h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)\n//           }\n//         }\n//       : (self.haswrapper) ?\n//         function(){\n//           return {\n//             w:self.doc.outerWidth()+parseInt(self.win.css('paddingLeft'))+parseInt(self.win.css('paddingRight')),\n//             h:self.doc.outerHeight()+parseInt(self.win.css('paddingTop'))+parseInt(self.win.css('paddingBottom'))\n//           }\n//         }\n//       : function() {\n//         return {\n//           w:self.docscroll[0].scrollWidth,\n//           h:self.docscroll[0].scrollHeight\n//         }\n//       };\n//     this.onResize = function(e,page) {\n// \t  if (!self.win) return false;\n//       if (!self.haswrapper&&!self.ispage) {\n//         if (self.win.css('display')=='none') {\n//           if (self.visibility) self.hideRail().hideRailHr();\n//           return false;\n//         } else {\n//           if (!self.hidden&&!self.visibility) self.showRail().showRailHr();\n//         }\n//       }\n//       var premaxh = self.page.maxh;\n//       var premaxw = self.page.maxw;\n//       var preview = {h:self.view.h,w:self.view.w};\n//       self.view = {\n//         w:(self.ispage) ? self.win.width() : parseInt(self.win[0].clientWidth),\n//         h:(self.ispage) ? self.win.height() : parseInt(self.win[0].clientHeight)\n//       };\n//       self.page = (page) ? page : self.getContentSize();\n//       self.page.maxh = Math.max(0,self.page.h - self.view.h);\n//       self.page.maxw = Math.max(0,self.page.w - self.view.w);\n//       if ((self.page.maxh==premaxh)&&(self.page.maxw==premaxw)&&(self.view.w==preview.w)) {\n//         // test position\n//         if (!self.ispage) {\n//           var pos = self.win.offset();\n//           if (self.lastposition) {\n//             var lst = self.lastposition;\n//             if ((lst.top==pos.top)&&(lst.left==pos.left)) return self; //nothing to do\n//           }\n//           self.lastposition = pos;\n//         } else {\n//           return self; //nothing to do\n//         }\n//       }\n//       if (self.page.maxh==0) {\n//         self.hideRail();\n//         self.scrollvaluemax = 0;\n//         self.scroll.y = 0;\n//         self.scrollratio.y = 0;\n//         self.cursorheight = 0;\n//         self.setScrollTop(0);\n//         self.rail.scrollable = false;\n//       } else {\n//         self.rail.scrollable = true;\n//       }\n//       if (self.page.maxw==0) {\n//         self.hideRailHr();\n//         self.scrollvaluemaxw = 0;\n//         self.scroll.x = 0;\n//         self.scrollratio.x = 0;\n//         self.cursorwidth = 0;\n//         self.setScrollLeft(0);\n//         self.railh.scrollable = false;\n//       } else {\n//         self.railh.scrollable = true;\n//       }\n//       self.locked = (self.page.maxh==0)&&(self.page.maxw==0);\n//       if (self.locked) {\n// \t\t\t\tif (!self.ispage) self.updateScrollBar(self.view);\n// \t\t\t  return false;\n// \t\t  }\n//       if (!self.hidden&&!self.visibility) {\n//         self.showRail().showRailHr();\n//       }\n//       else if (!self.hidden&&!self.railh.visibility) self.showRailHr();\n//       if (self.istextarea&&self.win.css('resize')&&self.win.css('resize')!='none') self.view.h-=20;\n//       self.cursorheight = Math.min(self.view.h,Math.round(self.view.h * (self.view.h / self.page.h)));\n//       self.cursorheight = (self.opt.cursorfixedheight) ? self.opt.cursorfixedheight : Math.max(self.opt.cursorminheight,self.cursorheight);\n//       self.cursorwidth = Math.min(self.view.w,Math.round(self.view.w * (self.view.w / self.page.w)));\n//       self.cursorwidth = (self.opt.cursorfixedheight) ? self.opt.cursorfixedheight : Math.max(self.opt.cursorminheight,self.cursorwidth);\n//       self.scrollvaluemax = self.view.h-self.cursorheight-self.cursor.hborder;\n//       if (self.railh) {\n//         self.railh.width = (self.page.maxh>0) ? (self.view.w-self.rail.width) : self.view.w;\n//         self.scrollvaluemaxw = self.railh.width-self.cursorwidth-self.cursorh.wborder;\n//       }\n//       if (self.checkrtlmode&&self.railh) {\n//         self.checkrtlmode = false;\n//         if (self.opt.rtlmode&&self.scroll.x==0) self.setScrollLeft(self.page.maxw);\n//       }\n//       if (!self.ispage) self.updateScrollBar(self.view);\n//       self.scrollratio = {\n//         x:(self.page.maxw/self.scrollvaluemaxw),\n//         y:(self.page.maxh/self.scrollvaluemax)\n//       };\n//       var sy = self.getScrollTop();\n//       if (sy>self.page.maxh) {\n//         self.doScrollTop(self.page.maxh);\n//       } else {\n//         self.scroll.y = Math.round(self.getScrollTop() * (1/self.scrollratio.y));\n//         self.scroll.x = Math.round(self.getScrollLeft() * (1/self.scrollratio.x));\n//         if (self.cursoractive) self.noticeCursor();\n//       }\n//       if (self.scroll.y&&(self.getScrollTop()==0)) self.doScrollTo(Math.floor(self.scroll.y*self.scrollratio.y));\n//       return self;\n//     };\n//     this.resize = self.onResize;\n//     this.lazyResize = function(tm) {   // event debounce\n//       tm = (isNaN(tm)) ? 30 : tm;\n//       self.delayed('resize',self.resize,tm);\n//       return self;\n//     }\n// // modified by MDN https://developer.mozilla.org/en-US/docs/DOM/Mozilla_event_reference/wheel\n//     function _modernWheelEvent(dom,name,fn,bubble) {\n//       self._bind(dom,name,function(e){\n//         var  e = (e) ? e : window.event;\n//         var event = {\n//           original: e,\n//           target: e.target || e.srcElement,\n//           type: \"wheel\",\n//           deltaMode: e.type == \"MozMousePixelScroll\" ? 0 : 1,\n//           deltaX: 0,\n//           deltaZ: 0,\n//           preventDefault: function() {\n//             e.preventDefault ? e.preventDefault() : e.returnValue = false;\n//             return false;\n//           },\n//           stopImmediatePropagation: function() {\n//             (e.stopImmediatePropagation) ? e.stopImmediatePropagation() : e.cancelBubble = true;\n//           }\n//         };\n//         if (name==\"mousewheel\") {\n//           event.deltaY = - 1/40 * e.wheelDelta;\n//           e.wheelDeltaX && (event.deltaX = - 1/40 * e.wheelDeltaX);\n//         } else {\n//           event.deltaY = e.detail;\n//         }\n//         return fn.call(dom,event);\n//       },bubble);\n//     };\n//     this._bind = function(el,name,fn,bubble) {  // primitive bind\n//       self.events.push({e:el,n:name,f:fn,b:bubble,q:false});\n//       if (el.addEventListener) {\n//         el.addEventListener(name,fn,bubble||false);\n//       }\n//       else if (el.attachEvent) {\n//         el.attachEvent(\"on\"+name,fn);\n//       }\n//       else {\n//         el[\"on\"+name] = fn;\n//       }\n//     };\n//     this.jqbind = function(dom,name,fn) {  // use jquery bind for non-native events (mouseenter/mouseleave)\n//       self.events.push({e:dom,n:name,f:fn,q:true});\n//       $(dom).bind(name,fn);\n//     }\n//     this.bind = function(dom,name,fn,bubble) {  // touch-oriented & fixing jquery bind\n//       var el = (\"jquery\" in dom) ? dom[0] : dom;\n//       if (name=='mousewheel') {\n//         if (\"onwheel\" in self.win) {\n//           self._bind(el,\"wheel\",fn,bubble||false);\n//         } else {\n//           var wname = (typeof document.onmousewheel != \"undefined\") ? \"mousewheel\" : \"DOMMouseScroll\";  // older IE/Firefox\n//           _modernWheelEvent(el,wname,fn,bubble||false);\n//           if (wname==\"DOMMouseScroll\") _modernWheelEvent(el,\"MozMousePixelScroll\",fn,bubble||false);  // Firefox legacy\n//         }\n//       }\n//       else if (el.addEventListener) {\n//         if (cap.cantouch && /mouseup|mousedown|mousemove/.test(name)) {  // touch device support\n//           var tt=(name=='mousedown')?'touchstart':(name=='mouseup')?'touchend':'touchmove';\n//           self._bind(el,tt,function(e){\n//             if (e.touches) {\n//               if (e.touches.length<2) {var ev=(e.touches.length)?e.touches[0]:e;ev.original=e;fn.call(this,ev);}\n//             }\n//             else if (e.changedTouches) {var ev=e.changedTouches[0];ev.original=e;fn.call(this,ev);}  //blackberry\n//           },bubble||false);\n//         }\n//         self._bind(el,name,fn,bubble||false);\n//         if (cap.cantouch && name==\"mouseup\") self._bind(el,\"touchcancel\",fn,bubble||false);\n//       }\n//       else {\n//         self._bind(el,name,function(e) {\n//           e = e||window.event||false;\n//           if (e) {\n//             if (e.srcElement) e.target=e.srcElement;\n//           }\n//           if (!(\"pageY\" in e)) {\n//             e.pageX = e.clientX + document.documentElement.scrollLeft;\n//             e.pageY = e.clientY + document.documentElement.scrollTop;\n//           }\n//           return ((fn.call(el,e)===false)||bubble===false) ? self.cancelEvent(e) : true;\n//         });\n//       }\n//     };\n//     this._unbind = function(el,name,fn,bub) {  // primitive unbind\n//       if (el.removeEventListener) {\n//         el.removeEventListener(name,fn,bub);\n//       }\n//       else if (el.detachEvent) {\n//         el.detachEvent('on'+name,fn);\n//       } else {\n//         el['on'+name] = false;\n//       }\n//     };\n//     this.unbindAll = function() {\n//       for(var a=0;a<self.events.length;a++) {\n//         var r = self.events[a];\n//         (r.q) ? r.e.unbind(r.n,r.f) : self._unbind(r.e,r.n,r.f,r.b);\n//       }\n//     };\n//     // Thanks to http://www.switchonthecode.com !!\n//     this.cancelEvent = function(e) {\n//       var e = (e.original) ? e.original : (e) ? e : window.event||false;\n//       if (!e) return false;\n//       if(e.preventDefault) e.preventDefault();\n//       if(e.stopPropagation) e.stopPropagation();\n//       if(e.preventManipulation) e.preventManipulation();  //IE10\n//       e.cancelBubble = true;\n//       e.cancel = true;\n//       e.returnValue = false;\n//       return false;\n//     };\n//     this.stopPropagation = function(e) {\n//       var e = (e.original) ? e.original : (e) ? e : window.event||false;\n//       if (!e) return false;\n//       if (e.stopPropagation) return e.stopPropagation();\n//       if (e.cancelBubble) e.cancelBubble=true;\n//       return false;\n//     }\n//     this.showRail = function() {\n//       if ((self.page.maxh!=0)&&(self.ispage||self.win.css('display')!='none')) {\n//         self.visibility = true;\n//         self.rail.visibility = true;\n//         self.rail.css('display','block');\n//       }\n//       return self;\n//     };\n//     this.showRailHr = function() {\n//       if (!self.railh) return self;\n//       if ((self.page.maxw!=0)&&(self.ispage||self.win.css('display')!='none')) {\n//         self.railh.visibility = true;\n//         self.railh.css('display','block');\n//       }\n//       return self;\n//     };\n//     this.hideRail = function() {\n//       self.visibility = false;\n//       self.rail.visibility = false;\n//       self.rail.css('display','none');\n//       return self;\n//     };\n//     this.hideRailHr = function() {\n//       if (!self.railh) return self;\n//       self.railh.visibility = false;\n//       self.railh.css('display','none');\n//       return self;\n//     };\n//     this.show = function() {\n//       self.hidden = false;\n//       self.locked = false;\n//       return self.showRail().showRailHr();\n//     };\n//     this.hide = function() {\n//       self.hidden = true;\n//       self.locked = true;\n//       return self.hideRail().hideRailHr();\n//     };\n//     this.toggle = function() {\n//       return (self.hidden) ? self.show() : self.hide();\n//     };\n//     this.remove = function() {\n//       self.stop();\n//       if (self.cursortimeout) clearTimeout(self.cursortimeout);\n//       self.doZoomOut();\n//       self.unbindAll();\n//       if (cap.isie9) self.win[0].detachEvent(\"onpropertychange\",self.onAttributeChange); //IE9 DOMAttrModified bug\n//       if (self.observer !== false) self.observer.disconnect();\n//       if (self.observerremover !== false) self.observerremover.disconnect();\n//       self.events = null;\n//       if (self.cursor) {\n//         self.cursor.remove();\n//       }\n//       if (self.cursorh) {\n//         self.cursorh.remove();\n//       }\n//       if (self.rail) {\n//         self.rail.remove();\n//       }\n//       if (self.railh) {\n//         self.railh.remove();\n//       }\n//       if (self.zoom) {\n//         self.zoom.remove();\n//       }\n//       for(var a=0;a<self.saved.css.length;a++) {\n//         var d=self.saved.css[a];\n//         d[0].css(d[1],(typeof d[2]==\"undefined\") ? '' : d[2]);\n//       }\n//       self.saved = false;\n//       self.me.data('__nicescroll',''); //erase all traces\n//       // memory leak fixed by GianlucaGuarini - thanks a lot!\n//       // remove the current nicescroll from the $.nicescroll array & normalize array\n//       var lst = $.nicescroll;\n//       lst.each(function(i){\n//         if (!this) return;\n//         if(this.id === self.id) {\n//           delete lst[i];\n//           for(var b=++i;b<lst.length;b++,i++) lst[i]=lst[b];\n//           lst.length--;\n//           if (lst.length) delete lst[lst.length];\n//         }\n//       });\n//       for (var i in self) {\n//         self[i] = null;\n//         delete self[i];\n//       }\n//       self = null;\n//     };\n//     this.scrollstart = function(fn) {\n//       this.onscrollstart = fn;\n//       return self;\n//     }\n//     this.scrollend = function(fn) {\n//       this.onscrollend = fn;\n//       return self;\n//     }\n//     this.scrollcancel = function(fn) {\n//       this.onscrollcancel = fn;\n//       return self;\n//     }\n//     this.zoomin = function(fn) {\n//       this.onzoomin = fn;\n//       return self;\n//     }\n//     this.zoomout = function(fn) {\n//       this.onzoomout = fn;\n//       return self;\n//     }\n//     this.isScrollable = function(e) {\n//       var dom = (e.target) ? e.target : e;\n//       if (dom.nodeName == 'OPTION') return true;\n//       while (dom&&(dom.nodeType==1)&&!(/BODY|HTML/.test(dom.nodeName))) {\n//         var dd = $(dom);\n//         var ov = dd.css('overflowY')||dd.css('overflowX')||dd.css('overflow')||'';\n//         if (/scroll|auto/.test(ov)) return (dom.clientHeight!=dom.scrollHeight);\n//         dom = (dom.parentNode) ? dom.parentNode : false;\n//       }\n//       return false;\n//     };\n//     this.getViewport = function(me) {\n//       var dom = (me&&me.parentNode) ? me.parentNode : false;\n//       while (dom&&(dom.nodeType==1)&&!(/BODY|HTML/.test(dom.nodeName))) {\n//         var dd = $(dom);\n//         var ov = dd.css('overflowY')||dd.css('overflowX')||dd.css('overflow')||'';\n//         if ((/scroll|auto/.test(ov))&&(dom.clientHeight!=dom.scrollHeight)) return dd;\n//         if (dd.getNiceScroll().length>0) return dd;\n//         dom = (dom.parentNode) ? dom.parentNode : false;\n//       }\n//       return false;\n//     };\n//     function execScrollWheel(e,hr,chkscroll) {\n//       var px,py;\n//       var rt = 1;\n//       if (e.deltaMode==0) {  // PIXEL\n//         px = -Math.floor(e.deltaX*(self.opt.mousescrollstep/(18*3)));\n//         py = -Math.floor(e.deltaY*(self.opt.mousescrollstep/(18*3)));\n//       }\n//       else if (e.deltaMode==1) {  // LINE\n//         px = -Math.floor(e.deltaX*self.opt.mousescrollstep);\n//         py = -Math.floor(e.deltaY*self.opt.mousescrollstep);\n//       }\n//       if (hr&&self.opt.oneaxismousemode&&(px==0)&&py) {  // classic vertical-only mousewheel + browser with x/y support\n//         px = py;\n//         py = 0;\n//       }\n//       if (px) {\n//         if (self.scrollmom) {self.scrollmom.stop()}\n//         self.lastdeltax+=px;\n//         self.debounced(\"mousewheelx\",function(){var dt=self.lastdeltax;self.lastdeltax=0;if(!self.rail.drag){self.doScrollLeftBy(dt)}},120);\n//       }\n//       if (py) {\n//         if (self.opt.nativeparentscrolling&&chkscroll&&!self.ispage&&!self.zoomactive) {\n//           if (py<0) {\n//             if (self.getScrollTop()>=self.page.maxh) return true;\n//           } else {\n//             if (self.getScrollTop()<=0) return true;\n//           }\n//         }\n//         if (self.scrollmom) {self.scrollmom.stop()}\n//         self.lastdeltay+=py;\n//         self.debounced(\"mousewheely\",function(){var dt=self.lastdeltay;self.lastdeltay=0;if(!self.rail.drag){self.doScrollBy(dt)}},120);\n//       }\n//       e.stopImmediatePropagation();\n//       return e.preventDefault();\n// //      return self.cancelEvent(e);\n//     };\n//     this.onmousewheel = function(e) {\n//       if (self.locked) {\n//         self.debounced(\"checkunlock\",self.resize,250);\n//         return true;\n//       }\n//       if (self.rail.drag) return self.cancelEvent(e);\n//       if (self.opt.oneaxismousemode==\"auto\"&&e.deltaX!=0) self.opt.oneaxismousemode = false;  // check two-axis mouse support (not very elegant)\n//       if (self.opt.oneaxismousemode&&e.deltaX==0) {\n//         if (!self.rail.scrollable) {\n//           if (self.railh&&self.railh.scrollable) {\n//             return self.onmousewheelhr(e);\n//           } else {\n//             return true;\n//           }\n//         }\n//       }\n//       var nw = +(new Date());\n//       var chk = false;\n//       if (self.opt.preservenativescrolling&&((self.checkarea+600)<nw)) {\n// //        self.checkarea = false;\n//         self.nativescrollingarea = self.isScrollable(e);\n//         chk = true;\n//       }\n//       self.checkarea = nw;\n//       if (self.nativescrollingarea) return true; // this isn't my business\n// //      if (self.locked) return self.cancelEvent(e);\n//       var ret = execScrollWheel(e,false,chk);\n//       if (ret) self.checkarea = 0;\n//       return ret;\n//     };\n//     this.onmousewheelhr = function(e) {\n//       if (self.locked||!self.railh.scrollable) return true;\n//       if (self.rail.drag) return self.cancelEvent(e);\n//       var nw = +(new Date());\n//       var chk = false;\n//       if (self.opt.preservenativescrolling&&((self.checkarea+600)<nw)) {\n// //        self.checkarea = false;\n//         self.nativescrollingarea = self.isScrollable(e);\n//         chk = true;\n//       }\n//       self.checkarea = nw;\n//       if (self.nativescrollingarea) return true; // this isn't my business\n//       if (self.locked) return self.cancelEvent(e);\n//       return execScrollWheel(e,true,chk);\n//     };\n//     this.stop = function() {\n//       self.cancelScroll();\n//       if (self.scrollmon) self.scrollmon.stop();\n//       self.cursorfreezed = false;\n//       self.scroll.y = Math.round(self.getScrollTop() * (1/self.scrollratio.y));\n//       self.noticeCursor();\n//       return self;\n//     };\n//     this.getTransitionSpeed = function(dif) {\n//       var sp = Math.round(self.opt.scrollspeed*10);\n//       var ex = Math.min(sp,Math.round((dif / 20) * self.opt.scrollspeed));\n//       return (ex>20) ? ex : 0;\n//     }\n//     if (!self.opt.smoothscroll) {\n//       this.doScrollLeft = function(x,spd) {  //direct\n//         var y = self.getScrollTop();\n//         self.doScrollPos(x,y,spd);\n//       }\n//       this.doScrollTop = function(y,spd) {   //direct\n//         var x = self.getScrollLeft();\n//         self.doScrollPos(x,y,spd);\n//       }\n//       this.doScrollPos = function(x,y,spd) {  //direct\n//         var nx = (x>self.page.maxw) ? self.page.maxw : x;\n//         if (nx<0) nx=0;\n//         var ny = (y>self.page.maxh) ? self.page.maxh : y;\n//         if (ny<0) ny=0;\n//         self.synched('scroll',function(){\n//           self.setScrollTop(ny);\n//           self.setScrollLeft(nx);\n//         });\n//       }\n//       this.cancelScroll = function() {}; // direct\n//     }\n//     else if (self.ishwscroll&&cap.hastransition&&self.opt.usetransition) {\n//       this.prepareTransition = function(dif,istime) {\n//         var ex = (istime) ? ((dif>20)?dif:0) : self.getTransitionSpeed(dif);\n//         var trans = (ex) ? cap.prefixstyle+'transform '+ex+'ms ease-out' : '';\n//         if (!self.lasttransitionstyle||self.lasttransitionstyle!=trans) {\n//           self.lasttransitionstyle = trans;\n//           self.doc.css(cap.transitionstyle,trans);\n//         }\n//         return ex;\n//       };\n//       this.doScrollLeft = function(x,spd) {  //trans\n//         var y = (self.scrollrunning) ? self.newscrolly : self.getScrollTop();\n//         self.doScrollPos(x,y,spd);\n//       }\n//       this.doScrollTop = function(y,spd) {   //trans\n//         var x = (self.scrollrunning) ? self.newscrollx : self.getScrollLeft();\n//         self.doScrollPos(x,y,spd);\n//       }\n//       this.doScrollPos = function(x,y,spd) {  //trans\n//         var py = self.getScrollTop();\n//         var px = self.getScrollLeft();\n//         if (((self.newscrolly-py)*(y-py)<0)||((self.newscrollx-px)*(x-px)<0)) self.cancelScroll();  //inverted movement detection\n//         if (self.opt.bouncescroll==false) {\n//           if (y<0) y=0;\n//           else if (y>self.page.maxh) y=self.page.maxh;\n//           if (x<0) x=0;\n//           else if (x>self.page.maxw) x=self.page.maxw;\n//         }\n//         if (self.scrollrunning&&x==self.newscrollx&&y==self.newscrolly) return false;\n//         self.newscrolly = y;\n//         self.newscrollx = x;\n//         self.newscrollspeed = spd||false;\n//         if (self.timer) return false;\n//         self.timer = setTimeout(function(){\n//           var top = self.getScrollTop();\n//           var lft = self.getScrollLeft();\n//           var dst = {};\n//           dst.x = x-lft;\n//           dst.y = y-top;\n//           dst.px = lft;\n//           dst.py = top;\n//           var dd = Math.round(Math.sqrt(Math.pow(dst.x,2)+Math.pow(dst.y,2)));\n// //          var df = (self.newscrollspeed) ? self.newscrollspeed : dd;\n//           var ms = (self.newscrollspeed && self.newscrollspeed>1) ? self.newscrollspeed : self.getTransitionSpeed(dd);\n//           if (self.newscrollspeed&&self.newscrollspeed<=1) ms*=self.newscrollspeed;\n//           self.prepareTransition(ms,true);\n//           if (self.timerscroll&&self.timerscroll.tm) clearInterval(self.timerscroll.tm);\n//           if (ms>0) {\n//             if (!self.scrollrunning&&self.onscrollstart) {\n//               var info = {\"type\":\"scrollstart\",\"current\":{\"x\":lft,\"y\":top},\"request\":{\"x\":x,\"y\":y},\"end\":{\"x\":self.newscrollx,\"y\":self.newscrolly},\"speed\":ms};\n//               self.onscrollstart.call(self,info);\n//             }\n//             if (cap.transitionend) {\n//               if (!self.scrollendtrapped) {\n//                 self.scrollendtrapped = true;\n//                 self.bind(self.doc,cap.transitionend,self.onScrollEnd,false); //I have got to do something usefull!!\n//               }\n//             } else {\n//               if (self.scrollendtrapped) clearTimeout(self.scrollendtrapped);\n//               self.scrollendtrapped = setTimeout(self.onScrollEnd,ms);  // simulate transitionend event\n//             }\n//             var py = top;\n//             var px = lft;\n//             self.timerscroll = {\n//               bz: new BezierClass(py,self.newscrolly,ms,0,0,0.58,1),\n//               bh: new BezierClass(px,self.newscrollx,ms,0,0,0.58,1)\n//             };\n//             if (!self.cursorfreezed) self.timerscroll.tm=setInterval(function(){self.showCursor(self.getScrollTop(),self.getScrollLeft())},60);\n//           }\n//           self.synched(\"doScroll-set\",function(){\n//             self.timer = 0;\n//             if (self.scrollendtrapped) self.scrollrunning = true;\n//             self.setScrollTop(self.newscrolly);\n//             self.setScrollLeft(self.newscrollx);\n//             if (!self.scrollendtrapped) self.onScrollEnd();\n//           });\n//         },50);\n//       };\n//       this.cancelScroll = function() {\n//         if (!self.scrollendtrapped) return true;\n//         var py = self.getScrollTop();\n//         var px = self.getScrollLeft();\n//         self.scrollrunning = false;\n//         if (!cap.transitionend) clearTimeout(cap.transitionend);\n//         self.scrollendtrapped = false;\n//         self._unbind(self.doc,cap.transitionend,self.onScrollEnd);\n//         self.prepareTransition(0);\n//         self.setScrollTop(py); // fire event onscroll\n//         if (self.railh) self.setScrollLeft(px);\n//         if (self.timerscroll&&self.timerscroll.tm) clearInterval(self.timerscroll.tm);\n//         self.timerscroll = false;\n//         self.cursorfreezed = false;\n//         //self.noticeCursor(false,py,px);\n//         self.showCursor(py,px);\n//         return self;\n//       };\n//       this.onScrollEnd = function() {\n//         if (self.scrollendtrapped) self._unbind(self.doc,cap.transitionend,self.onScrollEnd);\n//         self.scrollendtrapped = false;\n//         self.prepareTransition(0);\n//         if (self.timerscroll&&self.timerscroll.tm) clearInterval(self.timerscroll.tm);\n//         self.timerscroll = false;\n//         var py = self.getScrollTop();\n//         var px = self.getScrollLeft();\n//         self.setScrollTop(py);  // fire event onscroll\n//         if (self.railh) self.setScrollLeft(px);  // fire event onscroll left\n//         self.noticeCursor(false,py,px);\n//         self.cursorfreezed = false;\n//         if (py<0) py=0\n//         else if (py>self.page.maxh) py=self.page.maxh;\n//         if (px<0) px=0\n//         else if (px>self.page.maxw) px=self.page.maxw;\n//         if((py!=self.newscrolly)||(px!=self.newscrollx)) return self.doScrollPos(px,py,self.opt.snapbackspeed);\n//         if (self.onscrollend&&self.scrollrunning) {\n//           var info = {\"type\":\"scrollend\",\"current\":{\"x\":px,\"y\":py},\"end\":{\"x\":self.newscrollx,\"y\":self.newscrolly}};\n//           self.onscrollend.call(self,info);\n//         }\n//         self.scrollrunning = false;\n//       };\n//     } else {\n//       this.doScrollLeft = function(x,spd) {  //no-trans\n//         var y = (self.scrollrunning) ? self.newscrolly : self.getScrollTop();\n//         self.doScrollPos(x,y,spd);\n//       }\n//       this.doScrollTop = function(y,spd) {  //no-trans\n//         var x = (self.scrollrunning) ? self.newscrollx : self.getScrollLeft();\n//         self.doScrollPos(x,y,spd);\n//       }\n//       this.doScrollPos = function(x,y,spd) {  //no-trans\n//         var y = ((typeof y == \"undefined\")||(y===false)) ? self.getScrollTop(true) : y;\n//         if  ((self.timer)&&(self.newscrolly==y)&&(self.newscrollx==x)) return true;\n//         if (self.timer) clearAnimationFrame(self.timer);\n//         self.timer = 0;\n//         var py = self.getScrollTop();\n//         var px = self.getScrollLeft();\n//         if (((self.newscrolly-py)*(y-py)<0)||((self.newscrollx-px)*(x-px)<0)) self.cancelScroll();  //inverted movement detection\n//         self.newscrolly = y;\n//         self.newscrollx = x;\n//         if (!self.bouncescroll||!self.rail.visibility) {\n//           if (self.newscrolly<0) {\n//             self.newscrolly = 0;\n//           }\n//           else if (self.newscrolly>self.page.maxh) {\n//             self.newscrolly = self.page.maxh;\n//           }\n//         }\n//         if (!self.bouncescroll||!self.railh.visibility) {\n//           if (self.newscrollx<0) {\n//             self.newscrollx = 0;\n//           }\n//           else if (self.newscrollx>self.page.maxw) {\n//             self.newscrollx = self.page.maxw;\n//           }\n//         }\n//         self.dst = {};\n//         self.dst.x = x-px;\n//         self.dst.y = y-py;\n//         self.dst.px = px;\n//         self.dst.py = py;\n//         var dst = Math.round(Math.sqrt(Math.pow(self.dst.x,2)+Math.pow(self.dst.y,2)));\n//         self.dst.ax = self.dst.x / dst;\n//         self.dst.ay = self.dst.y / dst;\n//         var pa = 0;\n//         var pe = dst;\n//         if (self.dst.x==0) {\n//           pa = py;\n//           pe = y;\n//           self.dst.ay = 1;\n//           self.dst.py = 0;\n//         } else if (self.dst.y==0) {\n//           pa = px;\n//           pe = x;\n//           self.dst.ax = 1;\n//           self.dst.px = 0;\n//         }\n//         var ms = self.getTransitionSpeed(dst);\n//         if (spd&&spd<=1) ms*=spd;\n//         if (ms>0) {\n//           self.bzscroll = (self.bzscroll) ? self.bzscroll.update(pe,ms) : new BezierClass(pa,pe,ms,0,1,0,1);\n//         } else {\n//           self.bzscroll = false;\n//         }\n//         if (self.timer) return;\n//         if ((py==self.page.maxh&&y>=self.page.maxh)||(px==self.page.maxw&&x>=self.page.maxw)) self.checkContentSize();\n//         var sync = 1;\n//         function scrolling() {\n//           if (self.cancelAnimationFrame) return true;\n//           self.scrollrunning = true;\n//           sync = 1-sync;\n//           if (sync) return (self.timer = setAnimationFrame(scrolling)||1);\n//           var done = 0;\n//           var sc = sy = self.getScrollTop();\n//           if (self.dst.ay) {\n//             sc = (self.bzscroll) ? self.dst.py + (self.bzscroll.getNow()*self.dst.ay) : self.newscrolly;\n//             var dr=sc-sy;\n//             if ((dr<0&&sc<self.newscrolly)||(dr>0&&sc>self.newscrolly)) sc = self.newscrolly;\n//             self.setScrollTop(sc);\n//             if (sc == self.newscrolly) done=1;\n//           } else {\n//             done=1;\n//           }\n//           var scx = sx = self.getScrollLeft();\n//           if (self.dst.ax) {\n//             scx = (self.bzscroll) ? self.dst.px + (self.bzscroll.getNow()*self.dst.ax) : self.newscrollx;\n//             var dr=scx-sx;\n//             if ((dr<0&&scx<self.newscrollx)||(dr>0&&scx>self.newscrollx)) scx = self.newscrollx;\n//             self.setScrollLeft(scx);\n//             if (scx == self.newscrollx) done+=1;\n//           } else {\n//             done+=1;\n//           }\n//           if (done==2) {\n//             self.timer = 0;\n//             self.cursorfreezed = false;\n//             self.bzscroll = false;\n//             self.scrollrunning = false;\n//             if (sc<0) sc=0;\n//             else if (sc>self.page.maxh) sc=self.page.maxh;\n//             if (scx<0) scx=0;\n//             else if (scx>self.page.maxw) scx=self.page.maxw;\n//             if ((scx!=self.newscrollx)||(sc!=self.newscrolly)) self.doScrollPos(scx,sc);\n//             else {\n//               if (self.onscrollend) {\n//                 var info = {\"type\":\"scrollend\",\"current\":{\"x\":sx,\"y\":sy},\"end\":{\"x\":self.newscrollx,\"y\":self.newscrolly}};\n//                 self.onscrollend.call(self,info);\n//               }\n//             }\n//           } else {\n//             self.timer = setAnimationFrame(scrolling)||1;\n//           }\n//         };\n//         self.cancelAnimationFrame=false;\n//         self.timer = 1;\n//         if (self.onscrollstart&&!self.scrollrunning) {\n//           var info = {\"type\":\"scrollstart\",\"current\":{\"x\":px,\"y\":py},\"request\":{\"x\":x,\"y\":y},\"end\":{\"x\":self.newscrollx,\"y\":self.newscrolly},\"speed\":ms};\n//           self.onscrollstart.call(self,info);\n//         }\n//         scrolling();\n//         if ((py==self.page.maxh&&y>=py)||(px==self.page.maxw&&x>=px)) self.checkContentSize();\n//         self.noticeCursor();\n//       };\n//       this.cancelScroll = function() {\n//         if (self.timer) clearAnimationFrame(self.timer);\n//         self.timer = 0;\n//         self.bzscroll = false;\n//         self.scrollrunning = false;\n//         return self;\n//       };\n//     }\n//     this.doScrollBy = function(stp,relative) {\n//       var ny = 0;\n//       if (relative) {\n//         ny = Math.floor((self.scroll.y-stp)*self.scrollratio.y)\n//       } else {\n//         var sy = (self.timer) ? self.newscrolly : self.getScrollTop(true);\n//         ny = sy-stp;\n//       }\n//       if (self.bouncescroll) {\n//         var haf = Math.round(self.view.h/2);\n//         if (ny<-haf) ny=-haf\n//         else if (ny>(self.page.maxh+haf)) ny = (self.page.maxh+haf);\n//       }\n//       self.cursorfreezed = false;\n//       py = self.getScrollTop(true);\n//       if (ny<0&&py<=0) return self.noticeCursor();\n//       else if (ny>self.page.maxh&&py>=self.page.maxh) {\n//         self.checkContentSize();\n//         return self.noticeCursor();\n//       }\n//       self.doScrollTop(ny);\n//     };\n//     this.doScrollLeftBy = function(stp,relative) {\n//       var nx = 0;\n//       if (relative) {\n//         nx = Math.floor((self.scroll.x-stp)*self.scrollratio.x)\n//       } else {\n//         var sx = (self.timer) ? self.newscrollx : self.getScrollLeft(true);\n//         nx = sx-stp;\n//       }\n//       if (self.bouncescroll) {\n//         var haf = Math.round(self.view.w/2);\n//         if (nx<-haf) nx=-haf\n//         else if (nx>(self.page.maxw+haf)) nx = (self.page.maxw+haf);\n//       }\n//       self.cursorfreezed = false;\n//       px = self.getScrollLeft(true);\n//       if (nx<0&&px<=0) return self.noticeCursor();\n//       else if (nx>self.page.maxw&&px>=self.page.maxw) return self.noticeCursor();\n//       self.doScrollLeft(nx);\n//     };\n//     this.doScrollTo = function(pos,relative) {\n//       var ny = (relative) ? Math.round(pos*self.scrollratio.y) : pos;\n//       if (ny<0) ny=0\n//       else if (ny>self.page.maxh) ny = self.page.maxh;\n//       self.cursorfreezed = false;\n//       self.doScrollTop(pos);\n//     };\n//     this.checkContentSize = function() {\n//       var pg = self.getContentSize();\n//       if ((pg.h!=self.page.h)||(pg.w!=self.page.w)) self.resize(false,pg);\n//     };\n//     self.onscroll = function(e) {\n//       if (self.rail.drag) return;\n//       if (!self.cursorfreezed) {\n//         self.synched('scroll',function(){\n//           self.scroll.y = Math.round(self.getScrollTop() * (1/self.scrollratio.y));\n//           if (self.railh) self.scroll.x = Math.round(self.getScrollLeft() * (1/self.scrollratio.x));\n//           self.noticeCursor();\n//         });\n//       }\n//     };\n//     self.bind(self.docscroll,\"scroll\",self.onscroll);\n//     this.doZoomIn = function(e) {\n//       if (self.zoomactive) return;\n//       self.zoomactive = true;\n//       self.zoomrestore = {\n//         style:{}\n//       };\n//       var lst = ['position','top','left','zIndex','backgroundColor','marginTop','marginBottom','marginLeft','marginRight'];\n//       var win = self.win[0].style;\n//       for(var a in lst) {\n//         var pp = lst[a];\n//         self.zoomrestore.style[pp] = (typeof win[pp] != \"undefined\") ? win[pp] : '';\n//       }\n//       self.zoomrestore.style.width = self.win.css('width');\n//       self.zoomrestore.style.height = self.win.css('height');\n//       self.zoomrestore.padding = {\n//         w:self.win.outerWidth()-self.win.width(),\n//         h:self.win.outerHeight()-self.win.height()\n//       };\n//       if (cap.isios4) {\n//         self.zoomrestore.scrollTop = $(window).scrollTop();\n//         $(window).scrollTop(0);\n//       }\n//       self.win.css({\n//         \"position\":(cap.isios4)?\"absolute\":\"fixed\",\n//         \"top\":0,\n//         \"left\":0,\n//         \"z-index\":globalmaxzindex+100,\n//         \"margin\":\"0px\"\n//       });\n//       var bkg = self.win.css(\"backgroundColor\");\n//       if (bkg==\"\"||/transparent|rgba\\(0, 0, 0, 0\\)|rgba\\(0,0,0,0\\)/.test(bkg)) self.win.css(\"backgroundColor\",\"#fff\");\n//       self.rail.css({\"z-index\":globalmaxzindex+101});\n//       self.zoom.css({\"z-index\":globalmaxzindex+102});\n//       self.zoom.css('backgroundPosition','0px -18px');\n//       self.resizeZoom();\n//       if (self.onzoomin) self.onzoomin.call(self);\n//       return self.cancelEvent(e);\n//     };\n//     this.doZoomOut = function(e) {\n//       if (!self.zoomactive) return;\n//       self.zoomactive = false;\n//       self.win.css(\"margin\",\"\");\n//       self.win.css(self.zoomrestore.style);\n//       if (cap.isios4) {\n//         $(window).scrollTop(self.zoomrestore.scrollTop);\n//       }\n//       self.rail.css({\"z-index\":self.zindex});\n//       self.zoom.css({\"z-index\":self.zindex});\n//       self.zoomrestore = false;\n//       self.zoom.css('backgroundPosition','0px 0px');\n//       self.onResize();\n//       if (self.onzoomout) self.onzoomout.call(self);\n//       return self.cancelEvent(e);\n//     };\n//     this.doZoom = function(e) {\n//       return (self.zoomactive) ? self.doZoomOut(e) : self.doZoomIn(e);\n//     };\n//     this.resizeZoom = function() {\n//       if (!self.zoomactive) return;\n//       var py = self.getScrollTop(); //preserve scrolling position\n//       self.win.css({\n//         width:$(window).width()-self.zoomrestore.padding.w+\"px\",\n//         height:$(window).height()-self.zoomrestore.padding.h+\"px\"\n//       });\n//       self.onResize();\n//       self.setScrollTop(Math.min(self.page.maxh,py));\n//     };\n//     this.init();\n//     $.nicescroll.push(this);\n//   };\n// // Inspired by the work of Kin Blas\n// // http://webpro.host.adobe.com/people/jblas/momentum/includes/jquery.momentum.0.7.js\n//   var ScrollMomentumClass2D = function(nc) {\n//     var self = this;\n//     this.nc = nc;\n//     this.lastx = 0;\n//     this.lasty = 0;\n//     this.speedx = 0;\n//     this.speedy = 0;\n//     this.lasttime = 0;\n//     this.steptime = 0;\n//     this.snapx = false;\n//     this.snapy = false;\n//     this.demulx = 0;\n//     this.demuly = 0;\n//     this.lastscrollx = -1;\n//     this.lastscrolly = -1;\n//     this.chkx = 0;\n//     this.chky = 0;\n//     this.timer = 0;\n//     this.time = function() {\n//       return +new Date();//beautifull hack\n//     };\n//     this.reset = function(px,py) {\n//       self.stop();\n//       var now = self.time();\n//       self.steptime = 0;\n//       self.lasttime = now;\n//       self.speedx = 0;\n//       self.speedy = 0;\n//       self.lastx = px;\n//       self.lasty = py;\n//       self.lastscrollx = -1;\n//       self.lastscrolly = -1;\n//     };\n//     this.update = function(px,py) {\n//       var now = self.time();\n//       self.steptime = now - self.lasttime;\n//       self.lasttime = now;\n//       var dy = py - self.lasty;\n//       var dx = px - self.lastx;\n//       var sy = self.nc.getScrollTop();\n//       var sx = self.nc.getScrollLeft();\n//       var newy = sy + dy;\n//       var newx = sx + dx;\n//       self.snapx = (newx<0)||(newx>self.nc.page.maxw);\n//       self.snapy = (newy<0)||(newy>self.nc.page.maxh);\n//       self.speedx = dx;\n//       self.speedy = dy;\n//       self.lastx = px;\n//       self.lasty = py;\n//     };\n//     this.stop = function() {\n//       self.nc.unsynched(\"domomentum2d\");\n//       if (self.timer) clearTimeout(self.timer);\n//       self.timer = 0;\n//       self.lastscrollx = -1;\n//       self.lastscrolly = -1;\n//     };\n//     this.doSnapy = function(nx,ny) {\n//       var snap = false;\n//       if (ny<0) {\n//         ny=0;\n//         snap=true;\n//       }\n//       else if (ny>self.nc.page.maxh) {\n//         ny=self.nc.page.maxh;\n//         snap=true;\n//       }\n//       if (nx<0) {\n//         nx=0;\n//         snap=true;\n//       }\n//       else if (nx>self.nc.page.maxw) {\n//         nx=self.nc.page.maxw;\n//         snap=true;\n//       }\n//       if (snap) self.nc.doScrollPos(nx,ny,self.nc.opt.snapbackspeed);\n//     };\n//     this.doMomentum = function(gp) {\n//       var t = self.time();\n//       var l = (gp) ? t+gp : self.lasttime;\n//       var sl = self.nc.getScrollLeft();\n//       var st = self.nc.getScrollTop();\n//       var pageh = self.nc.page.maxh;\n//       var pagew = self.nc.page.maxw;\n//       self.speedx = (pagew>0) ? Math.min(60,self.speedx) : 0;\n//       self.speedy = (pageh>0) ? Math.min(60,self.speedy) : 0;\n//       var chk = l && (t - l) <= 60;\n//       if ((st<0)||(st>pageh)||(sl<0)||(sl>pagew)) chk = false;\n//       var sy = (self.speedy && chk) ? self.speedy : false;\n//       var sx = (self.speedx && chk) ? self.speedx : false;\n//       if (sy||sx) {\n//         var tm = Math.max(16,self.steptime); //timeout granularity\n//         if (tm>50) {  // do smooth\n//           var xm = tm/50;\n//           self.speedx*=xm;\n//           self.speedy*=xm;\n//           tm = 50;\n//         }\n//         self.demulxy = 0;\n//         self.lastscrollx = self.nc.getScrollLeft();\n//         self.chkx = self.lastscrollx;\n//         self.lastscrolly = self.nc.getScrollTop();\n//         self.chky = self.lastscrolly;\n//         var nx = self.lastscrollx;\n//         var ny = self.lastscrolly;\n//         var onscroll = function(){\n//           var df = ((self.time()-t)>600) ? 0.04 : 0.02;\n//           if (self.speedx) {\n//             nx = Math.floor(self.lastscrollx - (self.speedx*(1-self.demulxy)));\n//             self.lastscrollx = nx;\n//             if ((nx<0)||(nx>pagew)) df=0.10;\n//           }\n//           if (self.speedy) {\n//             ny = Math.floor(self.lastscrolly - (self.speedy*(1-self.demulxy)));\n//             self.lastscrolly = ny;\n//             if ((ny<0)||(ny>pageh)) df=0.10;\n//           }\n//           self.demulxy = Math.min(1,self.demulxy+df);\n//           self.nc.synched(\"domomentum2d\",function(){\n//             if (self.speedx) {\n//               var scx = self.nc.getScrollLeft();\n//               if (scx!=self.chkx) self.stop();\n//               self.chkx=nx;\n//               self.nc.setScrollLeft(nx);\n//             }\n//             if (self.speedy) {\n//               var scy = self.nc.getScrollTop();\n//               if (scy!=self.chky) self.stop();\n//               self.chky=ny;\n//               self.nc.setScrollTop(ny);\n//             }\n//             if(!self.timer) {\n//               self.nc.hideCursor();\n//               self.doSnapy(nx,ny);\n//             }\n//           });\n//           if (self.demulxy<1) {\n//             self.timer = setTimeout(onscroll,tm);\n//           } else {\n//             self.stop();\n//             self.nc.hideCursor();\n//             self.doSnapy(nx,ny);\n//           }\n//         };\n//         onscroll();\n//       } else {\n//         self.doSnapy(self.nc.getScrollLeft(),self.nc.getScrollTop());\n//       }\n//     }\n//   };\n// // override jQuery scrollTop\n//   var _scrollTop = jQuery.fn.scrollTop; // preserve original function\n//   jQuery.cssHooks[\"pageYOffset\"] = {\n//     get: function(elem,computed,extra) {\n//       var nice = $.data(elem,'__nicescroll')||false;\n//       return (nice&&nice.ishwscroll) ? nice.getScrollTop() : _scrollTop.call(elem);\n//     },\n//     set: function(elem,value) {\n//       var nice = $.data(elem,'__nicescroll')||false;\n//       (nice&&nice.ishwscroll) ? nice.setScrollTop(parseInt(value)) : _scrollTop.call(elem,value);\n//       return this;\n//     }\n//   };\n// /*\n//   $.fx.step[\"scrollTop\"] = function(fx){\n//     $.cssHooks[\"scrollTop\"].set( fx.elem, fx.now + fx.unit );\n//   };\n// */\n//   jQuery.fn.scrollTop = function(value) {\n//     if (typeof value == \"undefined\") {\n//       var nice = (this[0]) ? $.data(this[0],'__nicescroll')||false : false;\n//       return (nice&&nice.ishwscroll) ? nice.getScrollTop() : _scrollTop.call(this);\n//     } else {\n//       return this.each(function() {\n//         var nice = $.data(this,'__nicescroll')||false;\n//         (nice&&nice.ishwscroll) ? nice.setScrollTop(parseInt(value)) : _scrollTop.call($(this),value);\n//       });\n//     }\n//   }\n// // override jQuery scrollLeft\n//   var _scrollLeft = jQuery.fn.scrollLeft; // preserve original function\n//   $.cssHooks.pageXOffset = {\n//     get: function(elem,computed,extra) {\n//       var nice = $.data(elem,'__nicescroll')||false;\n//       return (nice&&nice.ishwscroll) ? nice.getScrollLeft() : _scrollLeft.call(elem);\n//     },\n//     set: function(elem,value) {\n//       var nice = $.data(elem,'__nicescroll')||false;\n//       (nice&&nice.ishwscroll) ? nice.setScrollLeft(parseInt(value)) : _scrollLeft.call(elem,value);\n//       return this;\n//     }\n//   };\n// /*\n//   $.fx.step[\"scrollLeft\"] = function(fx){\n//     $.cssHooks[\"scrollLeft\"].set( fx.elem, fx.now + fx.unit );\n//   };\n// */\n//   jQuery.fn.scrollLeft = function(value) {\n//     if (typeof value == \"undefined\") {\n//       var nice = (this[0]) ? $.data(this[0],'__nicescroll')||false : false;\n//       return (nice&&nice.ishwscroll) ? nice.getScrollLeft() : _scrollLeft.call(this);\n//     } else {\n//       return this.each(function() {\n//         var nice = $.data(this,'__nicescroll')||false;\n//         (nice&&nice.ishwscroll) ? nice.setScrollLeft(parseInt(value)) : _scrollLeft.call($(this),value);\n//       });\n//     }\n//   }\n//   var NiceScrollArray = function(doms) {\n//     var self = this;\n//     this.length = 0;\n//     this.name = \"nicescrollarray\";\n//     this.each = function(fn) {\n//       for(var a=0,i=0;a<self.length;a++) fn.call(self[a],i++);\n//       return self;\n//     };\n//     this.push = function(nice) {\n//       self[self.length]=nice;\n//       self.length++;\n//     };\n//     this.eq = function(idx) {\n//       return self[idx];\n//     };\n//     if (doms) {\n//       for(a=0;a<doms.length;a++) {\n//         var nice = $.data(doms[a],'__nicescroll')||false;\n//         if (nice) {\n//           this[this.length]=nice;\n//           this.length++;\n//         }\n//       };\n//     }\n//     return this;\n//   };\n//   function mplex(el,lst,fn) {\n//     for(var a=0;a<lst.length;a++) fn(el,lst[a]);\n//   };\n//   mplex(\n//     NiceScrollArray.prototype,\n//     ['show','hide','toggle','onResize','resize','remove','stop','doScrollPos'],\n//     function(e,n) {\n//       e[n] = function(){\n//         var args = arguments;\n//         return this.each(function(){\n//           this[n].apply(this,args);\n//         });\n//       };\n//     }\n//   );\n//   jQuery.fn.getNiceScroll = function(index) {\n//     if (typeof index == \"undefined\") {\n//       return new NiceScrollArray(this);\n//     } else {\n//       var nice = this[index]&&$.data(this[index],'__nicescroll')||false;\n//       return nice;\n//     }\n//   };\n//   jQuery.extend(jQuery.expr[':'], {\n//     nicescroll: function(a) {\n//       return ($.data(a,'__nicescroll'))?true:false;\n//     }\n//   });\n//   $.fn.niceScroll = function(wrapper,opt) {\n//     if (typeof opt==\"undefined\") {\n//       if ((typeof wrapper==\"object\")&&!(\"jquery\" in wrapper)) {\n//         opt = wrapper;\n//         wrapper = false;\n//       }\n//     }\n//     var ret = new NiceScrollArray();\n//     if (typeof opt==\"undefined\") opt = {};\n//     if (wrapper||false) {\n//       opt.doc = $(wrapper);\n//       opt.win = $(this);\n//     }\n//     var docundef = !(\"doc\" in opt);\n//     if (!docundef&&!(\"win\" in opt)) opt.win = $(this);\n//     this.each(function() {\n//       var nice = $(this).data('__nicescroll')||false;\n//       if (!nice) {\n//         opt.doc = (docundef) ? $(this) : opt.doc;\n//         nice = new NiceScrollClass(opt,$(this));\n//         $(this).data('__nicescroll',nice);\n//       }\n//       ret.push(nice);\n//     });\n//     return (ret.length==1) ? ret[0] : ret;\n//   };\n//   window.NiceScroll = {\n//     getjQuery:function(){return jQuery}\n//   };\n//   if (!$.nicescroll) {\n//    $.nicescroll = new NiceScrollArray();\n//    $.nicescroll.options = _globaloptions;\n//   }\n// })( jQuery );","map":{"version":3,"sources":["/Users/thanh.nguyen/Documents/ThanhNguyen/React/web/application/src/access/scripts.js"],"names":["$","document","ready","on","toggleClass","duration","event","preventDefault","animate","scrollTop","show","hide","css","each","find","addClass","e","parents","removeClass","activeTab","attr","fadeIn","theiaStickySidebar","additionalMarginTop"],"mappings":"AAAA,OAAOA,CAAP,MAAc,QAAd;AAEAA,CAAC,CAACC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,UAASF,CAAT,EAAY;AAC9B,eAD8B,CAE3B;;AACFA,EAAAA,CAAC,CAAC,oBAAD,CAAD,CAAwBG,EAAxB,CAA2B,OAA3B,EAAoC,YAAU;AAC7CH,IAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBI,WAAnB,CAA+B,cAA/B;AACEJ,IAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBI,WAAvB,CAAmC,cAAnC;AACAJ,IAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBI,WAAnB,CAA+B,oBAA/B;AACF,GAJD,EAH6B,CAS7B;;AACI,MAAIC,QAAQ,GAAG,GAAf;AACAL,EAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBG,EAAlB,CAAqB,OAArB,EAA8B,UAASG,KAAT,EAAgB;AACzCA,IAAAA,KAAK,CAACC,cAAN;AACAP,IAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBQ,OAAhB,CAAwB;AAACC,MAAAA,SAAS,EAAE;AAAZ,KAAxB,EAAwCJ,QAAxC;AACA,WAAO,KAAP;AACJ,GAJD,EAXyB,CAiB5B;;AACAL,EAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBG,EAAvB,CAA0B,OAA1B,EAAmC,YAAU;AAC3CH,IAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsBI,WAAtB,CAAkC,mBAAlC;AACA,GAFF,EAlB4B,CAsB5B;;AACAJ,EAAAA,CAAC,CAAC,oBAAD,CAAD,CAAwBG,EAAxB,CAA2B,OAA3B,EAAoC,YAAU;AAC5CH,IAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBI,WAAvB,CAAmC,iBAAnC;AACA,GAFF,EAvB4B,CA2B5B;;AACAJ,EAAAA,CAAC,CAAC,2BAAD,CAAD,CAA+BG,EAA/B,CAAkC,OAAlC,EAA2C,YAAU;AACnDH,IAAAA,CAAC,CAAC,sBAAD,CAAD,CAA0BI,WAA1B,CAAsC,oBAAtC;AACA,GAFF,EA5B4B,CAgC1B;;AACAJ,EAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBG,EAApB,CAAuB,OAAvB,EAAgC,YAAU;AAC3CH,IAAAA,CAAC,CAAC,WAAD,CAAD,CAAeU,IAAf;AACEV,IAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBU,IAApB;AACAV,IAAAA,CAAC,CAAC,sBAAD,CAAD,CAA0BW,IAA1B;AACD,GAJA,EAjC0B,CAuC1B;;AACAX,EAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBG,EAAvB,CAA0B,OAA1B,EAAmC,YAAU;AAC9CH,IAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBY,GAAvB,CAA2B,YAA3B,EAAwC,MAAxC;AACEZ,IAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsBY,GAAtB,CAA0B,YAA1B,EAAuC,MAAvC;AACAZ,IAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqBW,IAArB;AACD,GAJA,EAxC0B,CA8C7B;;AACAX,EAAAA,CAAC,CAAC,oBAAD,CAAD,CAAwBa,IAAxB,CAA6B,YAAW;AACvCb,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQc,IAAR,CAAa,mBAAb,EAAkCH,IAAlC,GADuC,CACG;;AAC1CX,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQc,IAAR,CAAa,qCAAb,EAAoDC,QAApD,CAA6D,QAA7D,EAAuEL,IAAvE,GAFuC,CAEwC;;AAC/EV,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQc,IAAR,CAAa,yBAAb,EAAwCJ,IAAxC,GAHuC,CAGS;AAChD,GAJD;AAMAV,EAAAA,CAAC,CAAC,oBAAD,CAAD,CAAwBG,EAAxB,CAA2B,OAA3B,EAAoC,UAASa,CAAT,EAAY;AAC/ChB,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQiB,OAAR,CAAgB,oBAAhB,EAAsCH,IAAtC,CAA2C,oBAA3C,EAAiEI,WAAjE,CAA6E,QAA7E,EAD+C,CACyC;;AACxFlB,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQe,QAAR,CAAiB,QAAjB,EAF+C,CAEnB;;AAC5Bf,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQiB,OAAR,CAAgB,oBAAhB,EAAsCH,IAAtC,CAA2C,mBAA3C,EAAgEH,IAAhE,GAH+C,CAGyB;;AAExE,QAAIQ,SAAS,GAAGnB,CAAC,CAAC,IAAD,CAAD,CAAQc,IAAR,CAAa,GAAb,EAAkBM,IAAlB,CAAuB,MAAvB,CAAhB,CAL+C,CAKC;;AAChDpB,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQiB,OAAR,CAAgB,oBAAhB,EAAsCH,IAAtC,CAA2CK,SAA3C,EAAsDE,MAAtD,GAN+C,CAMiB;;AAEhEL,IAAAA,CAAC,CAACT,cAAF;AACA,GATD;AAWAP,EAAAA,CAAC,CAAC,sBAAD,CAAD,CAA0BG,EAA1B,CAA6B,OAA7B,EAAsC,UAASa,CAAT,EAAY;AACjDA,IAAAA,CAAC,CAACT,cAAF;AACA,GAFD;AAIAP,EAAAA,CAAC,CAAC,qBAAD,CAAD,CAAyBsB,kBAAzB,CAA4C;AAC3C;AACAC,IAAAA,mBAAmB,EAAE;AAFsB,GAA5C;AAKA,CAzED,E,CA4EA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AAEA;AAGA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA","sourcesContent":["import $ from 'jquery';\n\n$(document).ready(function($) {\n\"use strict\";\n  \t// Fly-Out Navigation\n\t$(\".mvp-fly-but-click\").on('click', function(){\n\t\t$(\"#mvp-fly-wrap\").toggleClass(\"mvp-fly-menu\");\n  \t\t$(\".mvp-fly-but-wrap\").toggleClass(\"mvp-fly-open\");\n  \t\t$(\".mvp-fly-fade\").toggleClass(\"mvp-fly-fade-trans\");\n\t});\n\n\t// Back to Top Button\n    \tvar duration = 500;\n    \t$('.back-to-top').on('click', function(event) {\n          event.preventDefault();\n          $('html, body').animate({scrollTop: 0}, duration);\n          return false;\n    \t});\n\n \t// Search Toggle\n \t$(\".mvp-search-click\").on('click', function(){\n \t  $(\"#mvp-search-wrap\").toggleClass(\"mvp-search-toggle\");\n  \t});\n\n \t// Mobile Social Toggle\n \t$(\".mvp-mob-soc-click\").on('click', function(){\n \t  $(\".mvp-mob-soc-list\").toggleClass(\"mvp-mob-soc-tog\");\n  \t});\n\n \t// Trending Toggle\n \t$(\".mvp-post-trend-but-click\").on('click', function(){\n \t  $(\"#mvp-post-trend-wrap\").toggleClass(\"mvp-post-trend-tog\");\n  \t});\n\n   \t// Comments Toggle\n   \t$(\".mvp-com-click\").on('click', function(){\n\t  $(\"#comments\").show();\n  \t  $(\"#disqus_thread\").show();\n  \t  $(\"#mvp-comments-button\").hide();\n  \t});\n\n   \t// Continue Reading Toggle\n   \t$(\".mvp-ad-rel-click\").on('click', function(){\n\t  $(\"#mvp-content-main\").css('max-height','none');\n  \t  $('#mvp-ad-rel-wrap').css('margin-top','20px');\n  \t  $(\"#mvp-ad-rel-top\").hide();\n  \t});\n\n\t// Columns Toggle\n\t$('.mvp-side-tab-wrap').each(function() {\n\t\t$(this).find(\".mvp-tab-col-cont\").hide(); //Hide all content\n\t\t$(this).find(\"ul.mvp-col-tabs li.mvp-feat-col-tab\").addClass(\"active\").show(); //Activate first tab\n\t\t$(this).find(\".mvp-tab-col-cont:first\").show(); //Show first tab content\n\t});\n\n\t$(\"ul.mvp-col-tabs li\").on('click', function(e) {\n\t\t$(this).parents('.mvp-side-tab-wrap').find(\"ul.mvp-col-tabs li\").removeClass(\"active\"); //Remove any \"active\" class\n\t\t$(this).addClass(\"active\"); //Add \"active\" class to selected tab\n\t\t$(this).parents('.mvp-side-tab-wrap').find(\".mvp-tab-col-cont\").hide(); //Hide all tab content\n\n\t\tvar activeTab = $(this).find(\"a\").attr(\"href\"); //Find the href attribute value to identify the active tab + content\n\t\t$(this).parents('.mvp-side-tab-wrap').find(activeTab).fadeIn(); //Fade in the active ID content\n\n\t\te.preventDefault();\n\t});\n\n\t$(\"ul.mvp-col-tabs li a\").on('click', function(e) {\n\t\te.preventDefault();\n\t});\n\n\t$('.theiaStickySidebar').theiaStickySidebar({\n\t\t// Settings\n\t\tadditionalMarginTop: 30\n\t  });\n\n});\n\n\n// \t// Nicescroll\n\n// (function(jQuery){\n\n//   // globals\n//   var domfocus = false;\n//   var mousefocus = false;\n//   var zoomactive = false;\n//   var tabindexcounter = 5000;\n//   var ascrailcounter = 2000;\n//   var globalmaxzindex = 0;\n\n//   var $ = jQuery;  // sandbox\n\n//   // http://stackoverflow.com/questions/2161159/get-script-path\n//   function getScriptPath() {\n//     var scripts=document.getElementsByTagName('script');\n//     var path=scripts[scripts.length-1].src.split('?')[0];\n//     return (path.split('/').length>0) ? path.split('/').slice(0,-1).join('/')+'/' : '';\n//   }\n//   var scriptpath = getScriptPath();\n\n//   var vendors = ['ms','moz','webkit','o'];\n\n//   var setAnimationFrame = window.requestAnimationFrame||false;\n//   var clearAnimationFrame = window.cancelAnimationFrame||false;\n\n//   if (!setAnimationFrame) {\n//     for(var vx in vendors) {\n//       var v = vendors[vx];\n//       if (!setAnimationFrame) setAnimationFrame = window[v+'RequestAnimationFrame'];\n//       if (!clearAnimationFrame) clearAnimationFrame = window[v+'CancelAnimationFrame']||window[v+'CancelRequestAnimationFrame'];\n//     }\n//   }\n\n//   var clsMutationObserver = window.MutationObserver || window.WebKitMutationObserver || false;\n\n//   var _globaloptions = {\n//       zindex:\"auto\",\n//       cursoropacitymin:0,\n//       cursoropacitymax:1,\n//       cursorcolor:\"#424242\",\n//       cursorwidth:\"5px\",\n//       cursorborder:\"1px solid #fff\",\n//       cursorborderradius:\"5px\",\n//       scrollspeed:60,\n//       mousescrollstep:8*3,\n//       touchbehavior:false,\n//       hwacceleration:true,\n//       usetransition:true,\n//       boxzoom:false,\n//       dblclickzoom:true,\n//       gesturezoom:true,\n//       grabcursorenabled:true,\n//       autohidemode:true,\n//       background:\"\",\n//       iframeautoresize:true,\n//       cursorminheight:32,\n//       preservenativescrolling:true,\n//       railoffset:false,\n//       bouncescroll:true,\n//       spacebarenabled:true,\n//       railpadding:{top:0,right:0,left:0,bottom:0},\n//       disableoutline:true,\n//       horizrailenabled:true,\n//       railalign:\"right\",\n//       railvalign:\"bottom\",\n//       enabletranslate3d:true,\n//       enablemousewheel:true,\n//       enablekeyboard:true,\n//       smoothscroll:true,\n//       sensitiverail:true,\n//       enablemouselockapi:true,\n// //      cursormaxheight:false,\n//       cursorfixedheight:false,\n//       directionlockdeadzone:6,\n//       hidecursordelay:400,\n//       nativeparentscrolling:true,\n//       enablescrollonselection:true,\n//       overflowx:true,\n//       overflowy:true,\n//       cursordragspeed:0.3,\n//       rtlmode:false,\n//       cursordragontouch:false,\n//       oneaxismousemode:\"auto\"\n//   }\n\n//   var browserdetected = false;\n\n//   var getBrowserDetection = function() {\n\n//     if (browserdetected) return browserdetected;\n\n//     var domtest = document.createElement('DIV');\n\n//     var d = {};\n\n// \t\td.haspointerlock = \"pointerLockElement\" in document || \"mozPointerLockElement\" in document || \"webkitPointerLockElement\" in document;\n\n//     d.isopera = (\"opera\" in window);\n//     d.isopera12 = (d.isopera&&(\"getUserMedia\" in navigator));\n//     d.isoperamini = (Object.prototype.toString.call(window.operamini) === \"[object OperaMini]\");\n\n//     d.isie = ((\"all\" in document) && (\"attachEvent\" in domtest) && !d.isopera);\n//     d.isieold = (d.isie && !(\"msInterpolationMode\" in domtest.style));  // IE6 and older\n//     d.isie7 = d.isie&&!d.isieold&&(!(\"documentMode\" in document)||(document.documentMode==7));\n//     d.isie8 = d.isie&&(\"documentMode\" in document)&&(document.documentMode==8);\n//     d.isie9 = d.isie&&(\"performance\" in window)&&(document.documentMode>=9);\n//     d.isie10 = d.isie&&(\"performance\" in window)&&(document.documentMode>=10);\n\n//     d.isie9mobile = /iemobile.9/i.test(navigator.userAgent);  //wp 7.1 mango\n//     if (d.isie9mobile) d.isie9 = false;\n//     d.isie7mobile = (!d.isie9mobile&&d.isie7) && /iemobile/i.test(navigator.userAgent);  //wp 7.0\n\n//     d.ismozilla = (\"MozAppearance\" in domtest.style);\n\n//     d.iswebkit = (\"WebkitAppearance\" in domtest.style);\n\n//     d.ischrome = (\"chrome\" in window);\n// \t\td.ischrome22 = (d.ischrome&&d.haspointerlock);\n//     d.ischrome26 = (d.ischrome&&(\"transition\" in domtest.style));  // issue with transform detection (maintain prefix)\n\n//     d.cantouch = (\"ontouchstart\" in document.documentElement)||(\"ontouchstart\" in window);  // detection for Chrome Touch Emulation\n//     d.hasmstouch = (window.navigator.msPointerEnabled||false);  // IE10+ pointer events\n\n//     d.ismac = /^mac$/i.test(navigator.platform);\n\n//     d.isios = (d.cantouch && /iphone|ipad|ipod/i.test(navigator.platform));\n//     d.isios4 = ((d.isios)&&!(\"seal\" in Object));\n\n//     d.isandroid = (/android/i.test(navigator.userAgent));\n\n//     d.trstyle = false;\n//     d.hastransform = false;\n//     d.hastranslate3d = false;\n//     d.transitionstyle = false;\n//     d.hastransition = false;\n//     d.transitionend = false;\n\n//     var check = ['transform','msTransform','webkitTransform','MozTransform','OTransform'];\n//     for(var a=0;a<check.length;a++){\n//       if (typeof domtest.style[check[a]] != \"undefined\") {\n//         d.trstyle = check[a];\n//         break;\n//       }\n//     }\n//     d.hastransform = (d.trstyle != false);\n//     if (d.hastransform) {\n//       domtest.style[d.trstyle] = \"translate3d(1px,2px,3px)\";\n//       d.hastranslate3d = /translate3d/.test(domtest.style[d.trstyle]);\n//     }\n\n//     d.transitionstyle = false;\n//     d.prefixstyle = '';\n//     d.transitionend = false;\n//     var check = ['transition','webkitTransition','MozTransition','OTransition','OTransition','msTransition','KhtmlTransition'];\n//     var prefix = ['','-webkit-','-moz-','-o-','-o','-ms-','-khtml-'];\n//     var evs = ['transitionend','webkitTransitionEnd','transitionend','otransitionend','oTransitionEnd','msTransitionEnd','KhtmlTransitionEnd'];\n//     for(var a=0;a<check.length;a++) {\n//       if (check[a] in domtest.style) {\n//         d.transitionstyle = check[a];\n//         d.prefixstyle = prefix[a];\n//         d.transitionend = evs[a];\n//         break;\n//       }\n//     }\n//     if (d.ischrome26) {  // use always prefix\n//       d.prefixstyle = prefix[1];\n//     }\n\n//     d.hastransition = (d.transitionstyle);\n\n//     function detectCursorGrab() {\n//       var lst = ['-moz-grab','-webkit-grab','grab'];\n//       if ((d.ischrome&&!d.ischrome22)||d.isie) lst=[];  // force setting for IE returns false positive and chrome cursor bug\n//       for(var a=0;a<lst.length;a++) {\n//         var p = lst[a];\n//         domtest.style['cursor']=p;\n//         if (domtest.style['cursor']==p) return p;\n//       }\n//       return 'url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize';  // thank you google for custom cursor!\n//     }\n//     d.cursorgrabvalue = detectCursorGrab();\n\n//     d.hasmousecapture = (\"setCapture\" in domtest);\n\n//     d.hasMutationObserver = (clsMutationObserver !== false);\n\n//     domtest = null;  //memory released\n\n//     browserdetected = d;\n\n//     return d;\n//   }\n\n//   var NiceScrollClass = function(myopt,me) {\n\n//     var self = this;\n\n//     this.version = '3.5.0 BETA5';\n//     this.name = 'nicescroll';\n\n//     this.me = me;\n\n//     this.opt = {\n//       doc:$(\"body\"),\n//       win:false\n//     };\n\n//     $.extend(this.opt,_globaloptions);\n\n// // Options for internal use\n//     this.opt.snapbackspeed = 80;\n\n//     if (myopt||false) {\n//       for(var a in self.opt) {\n//         if (typeof myopt[a] != \"undefined\") self.opt[a] = myopt[a];\n//       }\n//     }\n\n//     this.doc = self.opt.doc;\n//     this.iddoc = (this.doc&&this.doc[0])?this.doc[0].id||'':'';\n//     this.ispage = /BODY|HTML/.test((self.opt.win)?self.opt.win[0].nodeName:this.doc[0].nodeName);\n//     this.haswrapper = (self.opt.win!==false);\n//     this.win = self.opt.win||(this.ispage?$(window):this.doc);\n//     this.docscroll = (this.ispage&&!this.haswrapper)?$(window):this.win;\n//     this.body = $(\"body\");\n//     this.viewport = false;\n\n//     this.isfixed = false;\n\n//     this.iframe = false;\n//     this.isiframe = ((this.doc[0].nodeName == 'IFRAME') && (this.win[0].nodeName == 'IFRAME'));\n\n//     this.istextarea = (this.win[0].nodeName == 'TEXTAREA');\n\n//     this.forcescreen = false; //force to use screen position on events\n\n//     this.canshowonmouseevent = (self.opt.autohidemode!=\"scroll\");\n\n// // Events jump table\n//     this.onmousedown = false;\n//     this.onmouseup = false;\n//     this.onmousemove = false;\n//     this.onmousewheel = false;\n//     this.onkeypress = false;\n//     this.ongesturezoom = false;\n//     this.onclick = false;\n\n// // Nicescroll custom events\n//     this.onscrollstart = false;\n//     this.onscrollend = false;\n//     this.onscrollcancel = false;\n\n//     this.onzoomin = false;\n//     this.onzoomout = false;\n\n// // Let's start!\n//     this.view = false;\n//     this.page = false;\n\n//     this.scroll = {x:0,y:0};\n//     this.scrollratio = {x:0,y:0};\n//     this.cursorheight = 20;\n//     this.scrollvaluemax = 0;\n\n//     this.checkrtlmode = false;\n\n//     this.scrollrunning = false;\n\n//     this.scrollmom = false;\n\n//     this.observer = false;\n//     this.observerremover = false;  // observer on parent for remove detection\n\n//     do {\n//       this.id = \"ascrail\"+(ascrailcounter++);\n//     } while (document.getElementById(this.id));\n\n//     this.rail = false;\n//     this.cursor = false;\n//     this.cursorfreezed = false;\n//     this.selectiondrag = false;\n\n//     this.zoom = false;\n//     this.zoomactive = false;\n\n//     this.hasfocus = false;\n//     this.hasmousefocus = false;\n\n//     this.visibility = true;\n//     this.locked = false;\n//     this.hidden = false; // rails always hidden\n//     this.cursoractive = true; // user can interact with cursors\n\n//     this.overflowx = self.opt.overflowx;\n//     this.overflowy = self.opt.overflowy;\n\n//     this.nativescrollingarea = false;\n//     this.checkarea = 0;\n\n//     this.events = [];  // event list for unbind\n\n//     this.saved = {};\n\n//     this.delaylist = {};\n//     this.synclist = {};\n\n//     this.lastdeltax = 0;\n//     this.lastdeltay = 0;\n\n//     this.detected = getBrowserDetection();\n\n//     var cap = $.extend({},this.detected);\n\n//     this.canhwscroll = (cap.hastransform&&self.opt.hwacceleration);\n//     this.ishwscroll = (this.canhwscroll&&self.haswrapper);\n\n//     this.istouchcapable = false;  // desktop devices with touch screen support\n\n// //## Check Chrome desktop with touch support\n//     if (cap.cantouch&&cap.ischrome&&!cap.isios&&!cap.isandroid) {\n//       this.istouchcapable = true;\n//       cap.cantouch = false;  // parse normal desktop events\n//     }\n\n// //## Firefox 18 nightly build (desktop) false positive (or desktop with touch support)\n//     if (cap.cantouch&&cap.ismozilla&&!cap.isios&&!cap.isandroid) {\n//       this.istouchcapable = true;\n//       cap.cantouch = false;  // parse normal desktop events\n//     }\n\n// //## disable MouseLock API on user request\n\n//     if (!self.opt.enablemouselockapi) {\n//       cap.hasmousecapture = false;\n//       cap.haspointerlock = false;\n//     }\n\n//     this.delayed = function(name,fn,tm,lazy) {\n//       var dd = self.delaylist[name];\n//       var nw = (new Date()).getTime();\n//       if (!lazy&&dd&&dd.tt) return false;\n//       if (dd&&dd.tt) clearTimeout(dd.tt);\n//       if (dd&&dd.last+tm>nw&&!dd.tt) {\n//         self.delaylist[name] = {\n//           last:nw+tm,\n//           tt:setTimeout(function(){self.delaylist[name].tt=0;fn.call();},tm)\n//         }\n//       }\n//       else if (!dd||!dd.tt) {\n//         self.delaylist[name] = {\n//           last:nw,\n//           tt:0\n//         }\n//         setTimeout(function(){fn.call();},0);\n//       }\n//     };\n\n//     this.debounced = function(name,fn,tm) {\n//       var dd = self.delaylist[name];\n//       var nw = (new Date()).getTime();\n//       self.delaylist[name] = fn;\n//       if (!dd) {\n//         setTimeout(function(){var fn=self.delaylist[name];self.delaylist[name]=false;fn.call();},tm);\n//       }\n//     }\n\n//     this.synched = function(name,fn) {\n\n//       function requestSync() {\n//         if (self.onsync) return;\n//         setAnimationFrame(function(){\n//           self.onsync = false;\n//           for(name in self.synclist){\n//             var fn = self.synclist[name];\n//             if (fn) fn.call(self);\n//             self.synclist[name] = false;\n//           }\n//         });\n//         self.onsync = true;\n//       };\n\n//       self.synclist[name] = fn;\n//       requestSync();\n//       return name;\n//     };\n\n//     this.unsynched = function(name) {\n//       if (self.synclist[name]) self.synclist[name] = false;\n//     }\n\n//     this.css = function(el,pars) {  // save & set\n//       for(var n in pars) {\n//         self.saved.css.push([el,n,el.css(n)]);\n//         el.css(n,pars[n]);\n//       }\n//     };\n\n//     this.scrollTop = function(val) {\n//       return (typeof val == \"undefined\") ? self.getScrollTop() : self.setScrollTop(val);\n//     };\n\n//     this.scrollLeft = function(val) {\n//       return (typeof val == \"undefined\") ? self.getScrollLeft() : self.setScrollLeft(val);\n//     };\n\n// // derived by by Dan Pupius www.pupius.net\n//     BezierClass = function(st,ed,spd,p1,p2,p3,p4) {\n//       this.st = st;\n//       this.ed = ed;\n//       this.spd = spd;\n\n//       this.p1 = p1||0;\n//       this.p2 = p2||1;\n//       this.p3 = p3||0;\n//       this.p4 = p4||1;\n\n//       this.ts = (new Date()).getTime();\n//       this.df = this.ed-this.st;\n//     };\n//     BezierClass.prototype = {\n//       B2:function(t){ return 3*t*t*(1-t) },\n//       B3:function(t){ return 3*t*(1-t)*(1-t) },\n//       B4:function(t){ return (1-t)*(1-t)*(1-t) },\n//       getNow:function(){\n//         var nw = (new Date()).getTime();\n//         var pc = 1-((nw-this.ts)/this.spd);\n//         var bz = this.B2(pc) + this.B3(pc) + this.B4(pc);\n//         return (pc<0) ? this.ed : this.st+Math.round(this.df*bz);\n//       },\n//       update:function(ed,spd){\n//         this.st = this.getNow();\n//         this.ed = ed;\n//         this.spd = spd;\n//         this.ts = (new Date()).getTime();\n//         this.df = this.ed-this.st;\n//         return this;\n//       }\n//     };\n\n//     if (this.ishwscroll) {\n//     // hw accelerated scroll\n//       this.doc.translate = {x:0,y:0,tx:\"0px\",ty:\"0px\"};\n\n//       //this one can help to enable hw accel on ios6 http://indiegamr.com/ios6-html-hardware-acceleration-changes-and-how-to-fix-them/\n//       if (cap.hastranslate3d&&cap.isios) this.doc.css(\"-webkit-backface-visibility\",\"hidden\");  // prevent flickering http://stackoverflow.com/questions/3461441/\n\n//       //derived from http://stackoverflow.com/questions/11236090/\n//       function getMatrixValues() {\n//         var tr = self.doc.css(cap.trstyle);\n//         if (tr&&(tr.substr(0,6)==\"matrix\")) {\n//           return tr.replace(/^.*\\((.*)\\)$/g, \"$1\").replace(/px/g,'').split(/, +/);\n//         }\n//         return false;\n//       }\n\n//       this.getScrollTop = function(last) {\n//         if (!last) {\n//           var mtx = getMatrixValues();\n//           if (mtx) return (mtx.length==16) ? -mtx[13] : -mtx[5];  //matrix3d 16 on IE10\n//           if (self.timerscroll&&self.timerscroll.bz) return self.timerscroll.bz.getNow();\n//         }\n//         return self.doc.translate.y;\n//       };\n\n//       this.getScrollLeft = function(last) {\n//         if (!last) {\n//           var mtx = getMatrixValues();\n//           if (mtx) return (mtx.length==16) ? -mtx[12] : -mtx[4];  //matrix3d 16 on IE10\n//           if (self.timerscroll&&self.timerscroll.bh) return self.timerscroll.bh.getNow();\n//         }\n//         return self.doc.translate.x;\n//       };\n\n//       if (document.createEvent) {\n//         this.notifyScrollEvent = function(el) {\n//           var e = document.createEvent(\"UIEvents\");\n//           e.initUIEvent(\"scroll\", false, true, window, 1);\n//           el.dispatchEvent(e);\n//         };\n//       }\n//       else if (document.fireEvent) {\n//         this.notifyScrollEvent = function(el) {\n//           var e = document.createEventObject();\n//           el.fireEvent(\"onscroll\");\n//           e.cancelBubble = true;\n//         };\n//       }\n//       else {\n//         this.notifyScrollEvent = function(el,add) {}; //NOPE\n//       }\n\n//       if (cap.hastranslate3d&&self.opt.enabletranslate3d) {\n//         this.setScrollTop = function(val,silent) {\n//           self.doc.translate.y = val;\n//           self.doc.translate.ty = (val*-1)+\"px\";\n//           self.doc.css(cap.trstyle,\"translate3d(\"+self.doc.translate.tx+\",\"+self.doc.translate.ty+\",0px)\");\n//           if (!silent) self.notifyScrollEvent(self.win[0]);\n//         };\n//         this.setScrollLeft = function(val,silent) {\n//           self.doc.translate.x = val;\n//           self.doc.translate.tx = (val*-1)+\"px\";\n//           self.doc.css(cap.trstyle,\"translate3d(\"+self.doc.translate.tx+\",\"+self.doc.translate.ty+\",0px)\");\n//           if (!silent) self.notifyScrollEvent(self.win[0]);\n//         };\n//       } else {\n//         this.setScrollTop = function(val,silent) {\n//           self.doc.translate.y = val;\n//           self.doc.translate.ty = (val*-1)+\"px\";\n//           self.doc.css(cap.trstyle,\"translate(\"+self.doc.translate.tx+\",\"+self.doc.translate.ty+\")\");\n//           if (!silent) self.notifyScrollEvent(self.win[0]);\n//         };\n//         this.setScrollLeft = function(val,silent) {\n//           self.doc.translate.x = val;\n//           self.doc.translate.tx = (val*-1)+\"px\";\n//           self.doc.css(cap.trstyle,\"translate(\"+self.doc.translate.tx+\",\"+self.doc.translate.ty+\")\");\n//           if (!silent) self.notifyScrollEvent(self.win[0]);\n//         };\n//       }\n//     } else {\n//     // native scroll\n//       this.getScrollTop = function() {\n//         return self.docscroll.scrollTop();\n//       };\n//       this.setScrollTop = function(val) {\n//         return self.docscroll.scrollTop(val);\n//       };\n//       this.getScrollLeft = function() {\n//         return self.docscroll.scrollLeft();\n//       };\n//       this.setScrollLeft = function(val) {\n//         return self.docscroll.scrollLeft(val);\n//       };\n//     }\n\n//     this.getTarget = function(e) {\n//       if (!e) return false;\n//       if (e.target) return e.target;\n//       if (e.srcElement) return e.srcElement;\n//       return false;\n//     };\n\n//     this.hasParent = function(e,id) {\n//       if (!e) return false;\n//       var el = e.target||e.srcElement||e||false;\n//       while (el && el.id != id) {\n//         el = el.parentNode||false;\n//       }\n//       return (el!==false);\n//     };\n\n//     function getZIndex() {\n//       var dom = self.win;\n//       if (\"zIndex\" in dom) return dom.zIndex();  // use jQuery UI method when available\n//       while (dom.length>0) {\n//         if (dom[0].nodeType==9) return false;\n//         var zi = dom.css('zIndex');\n//         if (!isNaN(zi)&&zi!=0) return parseInt(zi);\n//         dom = dom.parent();\n//       }\n//       return false;\n//     };\n\n// //inspired by http://forum.jquery.com/topic/width-includes-border-width-when-set-to-thin-medium-thick-in-ie\n//     var _convertBorderWidth = {\"thin\":1,\"medium\":3,\"thick\":5};\n//     function getWidthToPixel(dom,prop,chkheight) {\n//       var wd = dom.css(prop);\n//       var px = parseFloat(wd);\n//       if (isNaN(px)) {\n//         px = _convertBorderWidth[wd]||0;\n//         var brd = (px==3) ? ((chkheight)?(self.win.outerHeight() - self.win.innerHeight()):(self.win.outerWidth() - self.win.innerWidth())) : 1; //DON'T TRUST CSS\n//         if (self.isie8&&px) px+=1;\n//         return (brd) ? px : 0;\n//       }\n//       return px;\n//     };\n\n//     this.getOffset = function() {\n//       if (self.isfixed) return {top:parseFloat(self.win.css('top')),left:parseFloat(self.win.css('left'))};\n//       if (!self.viewport) return self.win.offset();\n//       var ww = self.win.offset();\n//       var vp = self.viewport.offset();\n//       return {top:ww.top-vp.top+self.viewport.scrollTop(),left:ww.left-vp.left+self.viewport.scrollLeft()};\n//     };\n\n//     this.updateScrollBar = function(len) {\n//       if (self.ishwscroll) {\n//         self.rail.css({height:self.win.innerHeight()});\n//         if (self.railh) self.railh.css({width:self.win.innerWidth()});\n//       } else {\n//         var wpos = self.getOffset();\n//         var pos = {top:wpos.top,left:wpos.left};\n//         pos.top+= getWidthToPixel(self.win,'border-top-width',true);\n//         var brd = (self.win.outerWidth() - self.win.innerWidth())/2;\n//         pos.left+= (self.rail.align) ? self.win.outerWidth() - getWidthToPixel(self.win,'border-right-width') - self.rail.width : getWidthToPixel(self.win,'border-left-width');\n\n//         var off = self.opt.railoffset;\n//         if (off) {\n//           if (off.top) pos.top+=off.top;\n//           if (self.rail.align&&off.left) pos.left+=off.left;\n//         }\n\n// \t\t\t\tif (!self.locked) self.rail.css({top:pos.top,left:pos.left,height:(len)?len.h:self.win.innerHeight()});\n\n// \t\t\t\tif (self.zoom) {\n// \t\t\t\t  self.zoom.css({top:pos.top+1,left:(self.rail.align==1) ? pos.left-20 : pos.left+self.rail.width+4});\n// \t\t\t  }\n\n// \t\t\t\tif (self.railh&&!self.locked) {\n// \t\t\t\t\tvar pos = {top:wpos.top,left:wpos.left};\n// \t\t\t\t\tvar y = (self.railh.align) ? pos.top + getWidthToPixel(self.win,'border-top-width',true) + self.win.innerHeight() - self.railh.height : pos.top + getWidthToPixel(self.win,'border-top-width',true);\n// \t\t\t\t\tvar x = pos.left + getWidthToPixel(self.win,'border-left-width');\n// \t\t\t\t\tself.railh.css({top:y,left:x,width:self.railh.width});\n// \t\t\t\t}\n\n\n//       }\n//     };\n\n//     this.doRailClick = function(e,dbl,hr) {\n\n//       var fn,pg,cur,pos;\n\n// //      if (self.rail.drag&&self.rail.drag.pt!=1) return;\n//       if (self.locked) return;\n// //      if (self.rail.drag) return;\n\n// //      self.cancelScroll();\n\n//       self.cancelEvent(e);\n\n//       if (dbl) {\n//         fn = (hr) ? self.doScrollLeft : self.doScrollTop;\n//         cur = (hr) ? ((e.pageX - self.railh.offset().left - (self.cursorwidth/2)) * self.scrollratio.x) : ((e.pageY - self.rail.offset().top - (self.cursorheight/2)) * self.scrollratio.y);\n//         fn(cur);\n//       } else {\n// //        console.log(e.pageY);\n//         fn = (hr) ? self.doScrollLeftBy : self.doScrollBy;\n//         cur = (hr) ? self.scroll.x : self.scroll.y;\n//         pos = (hr) ? e.pageX - self.railh.offset().left : e.pageY - self.rail.offset().top;\n//         pg = (hr) ? self.view.w : self.view.h;\n//         (cur>=pos) ? fn(pg) : fn(-pg);\n//       }\n\n//     }\n\n//     self.hasanimationframe = (setAnimationFrame);\n//     self.hascancelanimationframe = (clearAnimationFrame);\n\n//     if (!self.hasanimationframe) {\n//       setAnimationFrame=function(fn){return setTimeout(fn,15-Math.floor((+new Date)/1000)%16)}; // 1000/60)};\n//       clearAnimationFrame=clearInterval;\n//     }\n//     else if (!self.hascancelanimationframe) clearAnimationFrame=function(){self.cancelAnimationFrame=true};\n\n//     this.init = function() {\n\n//       self.saved.css = [];\n\n//       if (cap.isie7mobile) return true; // SORRY, DO NOT WORK!\n//       if (cap.isoperamini) return true; // SORRY, DO NOT WORK!\n\n//       if (cap.hasmstouch) self.css((self.ispage)?$(\"html\"):self.win,{'-ms-touch-action':'none'});\n\n//       self.zindex = \"auto\";\n//       if (!self.ispage&&self.opt.zindex==\"auto\") {\n//         self.zindex = getZIndex()||\"auto\";\n//       } else {\n//         self.zindex = self.opt.zindex;\n//       }\n\n//       if (!self.ispage&&self.zindex!=\"auto\") {\n//         if (self.zindex>globalmaxzindex) globalmaxzindex=self.zindex;\n//       }\n\n//       if (self.isie&&self.zindex==0&&self.opt.zindex==\"auto\") {  // fix IE auto == 0\n//         self.zindex=\"auto\";\n//       }\n\n// /*\n//       self.ispage = true;\n//       self.haswrapper = true;\n// //      self.win = $(window);\n//       self.docscroll = $(\"body\");\n// //      self.doc = $(\"body\");\n// */\n\n//       if (!self.ispage || (!cap.cantouch && !cap.isieold && !cap.isie9mobile)) {\n\n//         var cont = self.docscroll;\n//         if (self.ispage) cont = (self.haswrapper)?self.win:self.doc;\n\n//         if (!cap.isie9mobile) self.css(cont,{'overflow-y':'hidden'});\n\n//         if (self.ispage&&cap.isie7) {\n//           if (self.doc[0].nodeName=='BODY') self.css($(\"html\"),{'overflow-y':'hidden'});  //IE7 double scrollbar issue\n//           else if (self.doc[0].nodeName=='HTML') self.css($(\"body\"),{'overflow-y':'hidden'});  //IE7 double scrollbar issue\n//         }\n\n//         if (cap.isios&&!self.ispage&&!self.haswrapper) self.css($(\"body\"),{\"-webkit-overflow-scrolling\":\"touch\"});  //force hw acceleration\n\n//         var cursor = $(document.createElement('div'));\n//         cursor.css({\n//           position:\"relative\",top:0,\"float\":\"right\",width:self.opt.cursorwidth,height:\"0px\",\n//           'background-color':self.opt.cursorcolor,\n//           border:self.opt.cursorborder,\n//           'background-clip':'padding-box',\n//           '-webkit-border-radius':self.opt.cursorborderradius,\n//           '-moz-border-radius':self.opt.cursorborderradius,\n//           'border-radius':self.opt.cursorborderradius\n//         });\n\n//         cursor.hborder = parseFloat(cursor.outerHeight() - cursor.innerHeight());\n//         self.cursor = cursor;\n\n//         var rail = $(document.createElement('div'));\n//         rail.attr('id',self.id);\n//         rail.addClass('nicescroll-rails');\n\n//         var v,a,kp = [\"left\",\"right\"];  //\"top\",\"bottom\"\n//         for(var n in kp) {\n//           a=kp[n];\n//           v = self.opt.railpadding[a];\n//           (v) ? rail.css(\"padding-\"+a,v+\"px\") : self.opt.railpadding[a] = 0;\n//         }\n\n//         rail.append(cursor);\n\n//         rail.width = Math.max(parseFloat(self.opt.cursorwidth),cursor.outerWidth()) + self.opt.railpadding['left'] + self.opt.railpadding['right'];\n//         rail.css({width:rail.width+\"px\",'zIndex':self.zindex,\"background\":self.opt.background,cursor:\"default\"});\n\n//         rail.visibility = true;\n//         rail.scrollable = true;\n\n//         rail.align = (self.opt.railalign==\"left\") ? 0 : 1;\n\n//         self.rail = rail;\n\n//         self.rail.drag = false;\n\n//         var zoom = false;\n//         if (self.opt.boxzoom&&!self.ispage&&!cap.isieold) {\n//           zoom = document.createElement('div');\n//           self.bind(zoom,\"click\",self.doZoom);\n//           self.zoom = $(zoom);\n//           self.zoom.css({\"cursor\":\"pointer\",'z-index':self.zindex,'backgroundImage':'url('+scriptpath+'zoomico.png)','height':18,'width':18,'backgroundPosition':'0px 0px'});\n//           if (self.opt.dblclickzoom) self.bind(self.win,\"dblclick\",self.doZoom);\n//           if (cap.cantouch&&self.opt.gesturezoom) {\n//             self.ongesturezoom = function(e) {\n//               if (e.scale>1.5) self.doZoomIn(e);\n//               if (e.scale<0.8) self.doZoomOut(e);\n//               return self.cancelEvent(e);\n//             };\n//             self.bind(self.win,\"gestureend\",self.ongesturezoom);\n//           }\n//         }\n\n// // init HORIZ\n\n//         self.railh = false;\n\n//         if (self.opt.horizrailenabled) {\n\n//           self.css(cont,{'overflow-x':'hidden'});\n\n//           var cursor = $(document.createElement('div'));\n//           cursor.css({\n//             position:\"relative\",top:0,height:self.opt.cursorwidth,width:\"0px\",\n//             'background-color':self.opt.cursorcolor,\n//             border:self.opt.cursorborder,\n//             'background-clip':'padding-box',\n//             '-webkit-border-radius':self.opt.cursorborderradius,\n//             '-moz-border-radius':self.opt.cursorborderradius,\n//             'border-radius':self.opt.cursorborderradius\n//           });\n\n//           cursor.wborder = parseFloat(cursor.outerWidth() - cursor.innerWidth());\n//           self.cursorh = cursor;\n\n//           var railh = $(document.createElement('div'));\n//           railh.attr('id',self.id+'-hr');\n//           railh.addClass('nicescroll-rails');\n//           railh.height = Math.max(parseFloat(self.opt.cursorwidth),cursor.outerHeight());\n//           railh.css({height:railh.height+\"px\",'zIndex':self.zindex,\"background\":self.opt.background});\n\n//           railh.append(cursor);\n\n//           railh.visibility = true;\n//           railh.scrollable = true;\n\n//           railh.align = (self.opt.railvalign==\"top\") ? 0 : 1;\n\n//           self.railh = railh;\n\n//           self.railh.drag = false;\n\n//         }\n\n// //\n\n//         if (self.ispage) {\n//           rail.css({position:\"fixed\",top:\"0px\",height:\"100%\"});\n//           (rail.align) ? rail.css({right:\"0px\"}) : rail.css({left:\"0px\"});\n//           self.body.append(rail);\n//           if (self.railh) {\n//             railh.css({position:\"fixed\",left:\"0px\",width:\"100%\"});\n//             (railh.align) ? railh.css({bottom:\"0px\"}) : railh.css({top:\"0px\"});\n//             self.body.append(railh);\n//           }\n//         } else {\n//           if (self.ishwscroll) {\n//             if (self.win.css('position')=='static') self.css(self.win,{'position':'relative'});\n//             var bd = (self.win[0].nodeName == 'HTML') ? self.body : self.win;\n//             if (self.zoom) {\n//               self.zoom.css({position:\"absolute\",top:1,right:0,\"margin-right\":rail.width+4});\n//               bd.append(self.zoom);\n//             }\n//             rail.css({position:\"absolute\",top:0});\n//             (rail.align) ? rail.css({right:0}) : rail.css({left:0});\n//             bd.append(rail);\n//             if (railh) {\n//               railh.css({position:\"absolute\",left:0,bottom:0});\n//               (railh.align) ? railh.css({bottom:0}) : railh.css({top:0});\n//               bd.append(railh);\n//             }\n//           } else {\n//             self.isfixed = (self.win.css(\"position\")==\"fixed\");\n//             var rlpos = (self.isfixed) ? \"fixed\" : \"absolute\";\n\n//             if (!self.isfixed) self.viewport = self.getViewport(self.win[0]);\n//             if (self.viewport) {\n//               self.body = self.viewport;\n//               if ((/relative|absolute/.test(self.viewport.css(\"position\")))==false) self.css(self.viewport,{\"position\":\"relative\"});\n//             }\n\n//             rail.css({position:rlpos});\n//             if (self.zoom) self.zoom.css({position:rlpos});\n//             self.updateScrollBar();\n//             self.body.append(rail);\n//             if (self.zoom) self.body.append(self.zoom);\n//             if (self.railh) {\n//               railh.css({position:rlpos});\n//               self.body.append(railh);\n//             }\n//           }\n\n//           if (cap.isios) self.css(self.win,{'-webkit-tap-highlight-color':'rgba(0,0,0,0)','-webkit-touch-callout':'none'});  // prevent grey layer on click\n\n// \t\t\t\t\tif (cap.isie&&self.opt.disableoutline) self.win.attr(\"hideFocus\",\"true\");  // IE, prevent dotted rectangle on focused div\n// \t\t\t\t\tif (cap.iswebkit&&self.opt.disableoutline) self.win.css({\"outline\":\"none\"});\n// //          if (cap.isopera&&self.opt.disableoutline) self.win.css({\"outline\":\"0\"});  // Opera to test [TODO]\n\n//         }\n\n//         if (self.opt.autohidemode===false) {\n//           self.autohidedom = false;\n//           self.rail.css({opacity:self.opt.cursoropacitymax});\n//           if (self.railh) self.railh.css({opacity:self.opt.cursoropacitymax});\n//         }\n//         else if (self.opt.autohidemode===true) {\n//           self.autohidedom = $().add(self.rail);\n//           if (cap.isie8) self.autohidedom=self.autohidedom.add(self.cursor);\n//           if (self.railh) self.autohidedom=self.autohidedom.add(self.railh);\n//           if (self.railh&&cap.isie8) self.autohidedom=self.autohidedom.add(self.cursorh);\n//         }\n//         else if (self.opt.autohidemode==\"scroll\") {\n//           self.autohidedom = $().add(self.rail);\n//           if (self.railh) self.autohidedom=self.autohidedom.add(self.railh);\n//         }\n//         else if (self.opt.autohidemode==\"cursor\") {\n//           self.autohidedom = $().add(self.cursor);\n//           if (self.railh) self.autohidedom=self.autohidedom.add(self.cursorh);\n//         }\n//         else if (self.opt.autohidemode==\"hidden\") {\n//           self.autohidedom = false;\n//           self.hide();\n//           self.locked = false;\n//         }\n\n//         if (cap.isie9mobile) {\n\n//           self.scrollmom = new ScrollMomentumClass2D(self);\n\n//           /*\n//           var trace = function(msg) {\n//             var db = $(\"#debug\");\n//             if (isNaN(msg)&&(typeof msg != \"string\")) {\n//               var x = [];\n//               for(var a in msg) {\n//                 x.push(a+\":\"+msg[a]);\n//               }\n//               msg =\"{\"+x.join(\",\")+\"}\";\n//             }\n//             if (db.children().length>0) {\n//               db.children().eq(0).before(\"<div>\"+msg+\"</div>\");\n//             } else {\n//               db.append(\"<div>\"+msg+\"</div>\");\n//             }\n//           }\n//           window.onerror = function(msg,url,ln) {\n//             trace(\"ERR: \"+msg+\" at \"+ln);\n//           }\n// */\n\n//           self.onmangotouch = function(e) {\n//             var py = self.getScrollTop();\n//             var px = self.getScrollLeft();\n\n//             if ((py == self.scrollmom.lastscrolly)&&(px == self.scrollmom.lastscrollx)) return true;\n// //            $(\"#debug\").html('DRAG:'+py);\n\n//             var dfy = py-self.mangotouch.sy;\n//             var dfx = px-self.mangotouch.sx;\n//             var df = Math.round(Math.sqrt(Math.pow(dfx,2)+Math.pow(dfy,2)));\n//             if (df==0) return;\n\n//             var dry = (dfy<0)?-1:1;\n//             var drx = (dfx<0)?-1:1;\n\n//             var tm = +new Date();\n//             if (self.mangotouch.lazy) clearTimeout(self.mangotouch.lazy);\n\n//             if (((tm-self.mangotouch.tm)>80)||(self.mangotouch.dry!=dry)||(self.mangotouch.drx!=drx)) {\n// //              trace('RESET+'+(tm-self.mangotouch.tm));\n//               self.scrollmom.stop();\n//               self.scrollmom.reset(px,py);\n//               self.mangotouch.sy = py;\n//               self.mangotouch.ly = py;\n//               self.mangotouch.sx = px;\n//               self.mangotouch.lx = px;\n//               self.mangotouch.dry = dry;\n//               self.mangotouch.drx = drx;\n//               self.mangotouch.tm = tm;\n//             } else {\n\n//               self.scrollmom.stop();\n//               self.scrollmom.update(self.mangotouch.sx-dfx,self.mangotouch.sy-dfy);\n//               var gap = tm - self.mangotouch.tm;\n//               self.mangotouch.tm = tm;\n\n// //              trace('MOVE:'+df+\" - \"+gap);\n\n//               var ds = Math.max(Math.abs(self.mangotouch.ly-py),Math.abs(self.mangotouch.lx-px));\n//               self.mangotouch.ly = py;\n//               self.mangotouch.lx = px;\n\n//               if (ds>2) {\n//                 self.mangotouch.lazy = setTimeout(function(){\n// //                  trace('END:'+ds+'+'+gap);\n//                   self.mangotouch.lazy = false;\n//                   self.mangotouch.dry = 0;\n//                   self.mangotouch.drx = 0;\n//                   self.mangotouch.tm = 0;\n//                   self.scrollmom.doMomentum(30);\n//                 },100);\n//               }\n//             }\n//           }\n\n//           var top = self.getScrollTop();\n//           var lef = self.getScrollLeft();\n//           self.mangotouch = {sy:top,ly:top,dry:0,sx:lef,lx:lef,drx:0,lazy:false,tm:0};\n\n//           self.bind(self.docscroll,\"scroll\",self.onmangotouch);\n\n//         } else {\n\n//           if (cap.cantouch||self.istouchcapable||self.opt.touchbehavior||cap.hasmstouch) {\n\n//             self.scrollmom = new ScrollMomentumClass2D(self);\n\n//             self.ontouchstart = function(e) {\n//               if (e.pointerType&&e.pointerType!=2) return false;\n\n//               if (!self.locked) {\n\n//                 if (cap.hasmstouch) {\n//                   var tg = (e.target) ? e.target : false;\n//                   while (tg) {\n//                     var nc = $(tg).getNiceScroll();\n//                     if ((nc.length>0)&&(nc[0].me == self.me)) break;\n//                     if (nc.length>0) return false;\n//                     if ((tg.nodeName=='DIV')&&(tg.id==self.id)) break;\n//                     tg = (tg.parentNode) ? tg.parentNode : false;\n//                   }\n//                 }\n\n//                 self.cancelScroll();\n\n//                 var tg = self.getTarget(e);\n\n//                 if (tg) {\n//                   var skp = (/INPUT/i.test(tg.nodeName))&&(/range/i.test(tg.type));\n//                   if (skp) return self.stopPropagation(e);\n//                 }\n\n//                 if (!(\"clientX\" in e) && (\"changedTouches\" in e)) {\n//                   e.clientX = e.changedTouches[0].clientX;\n//                   e.clientY = e.changedTouches[0].clientY;\n//                 }\n\n//                 if (self.forcescreen) {\n//                   var le = e;\n//                   var e = {\"original\":(e.original)?e.original:e};\n//                   e.clientX = le.screenX;\n//                   e.clientY = le.screenY;\n//                 }\n\n//                 self.rail.drag = {x:e.clientX,y:e.clientY,sx:self.scroll.x,sy:self.scroll.y,st:self.getScrollTop(),sl:self.getScrollLeft(),pt:2,dl:false};\n\n//                 if (self.ispage||!self.opt.directionlockdeadzone) {\n//                   self.rail.drag.dl = \"f\";\n//                 } else {\n\n//                   var view = {\n//                     w:$(window).width(),\n//                     h:$(window).height()\n//                   };\n\n//                   var page = {\n//                     w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),\n//                     h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)\n//                   }\n\n//                   var maxh = Math.max(0,page.h - view.h);\n//                   var maxw = Math.max(0,page.w - view.w);\n\n//                   if (!self.rail.scrollable&&self.railh.scrollable) self.rail.drag.ck = (maxh>0) ? \"v\" : false;\n//                   else if (self.rail.scrollable&&!self.railh.scrollable) self.rail.drag.ck = (maxw>0) ? \"h\" : false;\n//                   else self.rail.drag.ck = false;\n//                   if (!self.rail.drag.ck) self.rail.drag.dl = \"f\";\n//                 }\n\n//                 if (self.opt.touchbehavior&&self.isiframe&&cap.isie) {\n//                   var wp = self.win.position();\n//                   self.rail.drag.x+=wp.left;\n//                   self.rail.drag.y+=wp.top;\n//                 }\n\n//                 self.hasmoving = false;\n//                 self.lastmouseup = false;\n//                 self.scrollmom.reset(e.clientX,e.clientY);\n//                 if (!cap.cantouch&&!this.istouchcapable&&!cap.hasmstouch) {\n\n//                   var ip = (tg)?/INPUT|SELECT|TEXTAREA/i.test(tg.nodeName):false;\n//                   if (!ip) {\n//                     if (!self.ispage&&cap.hasmousecapture) tg.setCapture();\n// //                  return self.cancelEvent(e);\n//                     return (self.opt.touchbehavior) ? self.cancelEvent(e) : self.stopPropagation(e);\n//                   }\n//                   if (/SUBMIT|CANCEL|BUTTON/i.test($(tg).attr('type'))) {\n//                     pc = {\"tg\":tg,\"click\":false};\n//                     self.preventclick = pc;\n//                   }\n\n//                 }\n//               }\n\n//             };\n\n//             self.ontouchend = function(e) {\n//               if (e.pointerType&&e.pointerType!=2) return false;\n//               if (self.rail.drag&&(self.rail.drag.pt==2)) {\n//                 self.scrollmom.doMomentum();\n//                 self.rail.drag = false;\n//                 if (self.hasmoving) {\n//                   self.hasmoving = false;\n//                   self.lastmouseup = true;\n//                   self.hideCursor();\n//                   if (cap.hasmousecapture) document.releaseCapture();\n//                   if (!cap.cantouch) return self.cancelEvent(e);\n//                 }\n//               }\n\n//             };\n\n//             var moveneedoffset = (self.opt.touchbehavior&&self.isiframe&&!cap.hasmousecapture);\n\n//             self.ontouchmove = function(e,byiframe) {\n\n//               if (e.pointerType&&e.pointerType!=2) return false;\n\n//               if (self.rail.drag&&(self.rail.drag.pt==2)) {\n//                 if (cap.cantouch&&(typeof e.original == \"undefined\")) return true;  // prevent ios \"ghost\" events by clickable elements\n\n//                 self.hasmoving = true;\n\n//                 if (self.preventclick&&!self.preventclick.click) {\n//                   self.preventclick.click = self.preventclick.tg.onclick||false;\n//                   self.preventclick.tg.onclick = self.onpreventclick;\n//                 }\n\n//                 var ev = $.extend({\"original\":e},e);\n//                 e = ev;\n\n//                 if ((\"changedTouches\" in e)) {\n//                   e.clientX = e.changedTouches[0].clientX;\n//                   e.clientY = e.changedTouches[0].clientY;\n//                 }\n\n//                 if (self.forcescreen) {\n//                   var le = e;\n//                   var e = {\"original\":(e.original)?e.original:e};\n//                   e.clientX = le.screenX;\n//                   e.clientY = le.screenY;\n//                 }\n\n//                 var ofx = ofy = 0;\n\n//                 if (moveneedoffset&&!byiframe) {\n//                   var wp = self.win.position();\n//                   ofx=-wp.left;\n//                   ofy=-wp.top;\n//                 }\n\n//                 var fy = e.clientY + ofy;\n//                 var my = (fy-self.rail.drag.y);\n//                 var fx = e.clientX + ofx;\n//                 var mx = (fx-self.rail.drag.x);\n\n//                 var ny = self.rail.drag.st-my;\n\n//                 if (self.ishwscroll&&self.opt.bouncescroll) {\n//                   if (ny<0) {\n//                     ny = Math.round(ny/2);\n// //                    fy = 0;\n//                   }\n//                   else if (ny>self.page.maxh) {\n//                     ny = self.page.maxh+Math.round((ny-self.page.maxh)/2);\n// //                    fy = 0;\n//                   }\n//                 } else {\n//                   if (ny<0) {ny=0;fy=0}\n//                   if (ny>self.page.maxh) {ny=self.page.maxh;fy=0}\n//                 }\n\n//                 if (self.railh&&self.railh.scrollable) {\n//                   var nx = self.rail.drag.sl-mx;\n\n//                   if (self.ishwscroll&&self.opt.bouncescroll) {\n//                     if (nx<0) {\n//                       nx = Math.round(nx/2);\n// //                      fx = 0;\n//                     }\n//                     else if (nx>self.page.maxw) {\n//                       nx = self.page.maxw+Math.round((nx-self.page.maxw)/2);\n// //                      fx = 0;\n//                     }\n//                   } else {\n//                     if (nx<0) {nx=0;fx=0}\n//                     if (nx>self.page.maxw) {nx=self.page.maxw;fx=0}\n//                   }\n\n//                 }\n\n//                 var grabbed = false;\n//                 if (self.rail.drag.dl) {\n//                   grabbed = true;\n//                   if (self.rail.drag.dl==\"v\") nx = self.rail.drag.sl;\n//                   else if (self.rail.drag.dl==\"h\") ny = self.rail.drag.st;\n//                 } else {\n//                   var ay = Math.abs(my);\n//                   var ax = Math.abs(mx);\n//                   var dz = self.opt.directionlockdeadzone;\n//                   if (self.rail.drag.ck==\"v\") {\n//                     if (ay>dz&&(ax<=(ay*0.3))) {\n//                       self.rail.drag = false;\n//                       return true;\n//                     }\n//                     else if (ax>dz) {\n//                       self.rail.drag.dl=\"f\";\n//                       $(\"body\").scrollTop($(\"body\").scrollTop());  // stop iOS native scrolling (when active javascript has blocked)\n//                     }\n//                   }\n//                   else if (self.rail.drag.ck==\"h\") {\n//                     if (ax>dz&&(ay<=(ax*0.3))) {\n//                       self.rail.drag = false;\n//                       return true;\n//                     }\n//                     else if (ay>dz) {\n//                       self.rail.drag.dl=\"f\";\n//                       $(\"body\").scrollLeft($(\"body\").scrollLeft());  // stop iOS native scrolling (when active javascript has blocked)\n//                     }\n//                   }\n//                 }\n\n//                 self.synched(\"touchmove\",function(){\n//                   if (self.rail.drag&&(self.rail.drag.pt==2)) {\n//                     if (self.prepareTransition) self.prepareTransition(0);\n//                     if (self.rail.scrollable) self.setScrollTop(ny);\n//                     self.scrollmom.update(fx,fy);\n//                     if (self.railh&&self.railh.scrollable) {\n//                       self.setScrollLeft(nx);\n//                       self.showCursor(ny,nx);\n//                     } else {\n//                       self.showCursor(ny);\n//                     }\n//                     if (cap.isie10) document.selection.clear();\n//                   }\n//                 });\n\n//                 if (cap.ischrome&&self.istouchcapable) grabbed=false;  //chrome touch emulation doesn't like!\n//                 if (grabbed) return self.cancelEvent(e);\n//               }\n\n//             };\n\n//           }\n\n//           self.onmousedown = function(e,hronly) {\n//             if (self.rail.drag&&self.rail.drag.pt!=1) return;\n//             if (self.locked) return self.cancelEvent(e);\n//             self.cancelScroll();\n//             self.rail.drag = {x:e.clientX,y:e.clientY,sx:self.scroll.x,sy:self.scroll.y,pt:1,hr:(!!hronly)};\n//             var tg = self.getTarget(e);\n//             if (!self.ispage&&cap.hasmousecapture) tg.setCapture();\n//             if (self.isiframe&&!cap.hasmousecapture) {\n//               self.saved[\"csspointerevents\"] = self.doc.css(\"pointer-events\");\n//               self.css(self.doc,{\"pointer-events\":\"none\"});\n//             }\n//             return self.cancelEvent(e);\n//           };\n\n//           self.onmouseup = function(e) {\n//             if (self.rail.drag) {\n//               if (cap.hasmousecapture) document.releaseCapture();\n//               if (self.isiframe&&!cap.hasmousecapture) self.doc.css(\"pointer-events\",self.saved[\"csspointerevents\"]);\n//               if(self.rail.drag.pt!=1)return;\n//               self.rail.drag = false;\n//               //if (!self.rail.active) self.hideCursor();\n//               return self.cancelEvent(e);\n//             }\n//           };\n\n//           self.onmousemove = function(e) {\n//             if (self.rail.drag) {\n//               if(self.rail.drag.pt!=1)return;\n\n//               if (cap.ischrome&&e.which==0) return self.onmouseup(e);\n\n//               self.cursorfreezed = true;\n\n//               if (self.rail.drag.hr) {\n//                 self.scroll.x = self.rail.drag.sx + (e.clientX-self.rail.drag.x);\n//                 if (self.scroll.x<0) self.scroll.x=0;\n//                 var mw = self.scrollvaluemaxw;\n//                 if (self.scroll.x>mw) self.scroll.x=mw;\n//               } else {\n//                 self.scroll.y = self.rail.drag.sy + (e.clientY-self.rail.drag.y);\n//                 if (self.scroll.y<0) self.scroll.y=0;\n//                 var my = self.scrollvaluemax;\n//                 if (self.scroll.y>my) self.scroll.y=my;\n//               }\n\n//               self.synched('mousemove',function(){\n//                 if (self.rail.drag&&(self.rail.drag.pt==1)) {\n//                   self.showCursor();\n//                   if (self.rail.drag.hr) self.doScrollLeft(Math.round(self.scroll.x*self.scrollratio.x),self.opt.cursordragspeed);\n//                   else self.doScrollTop(Math.round(self.scroll.y*self.scrollratio.y),self.opt.cursordragspeed);\n//                 }\n//               });\n\n//               return self.cancelEvent(e);\n//             }\n// /*\n//             else {\n//               self.checkarea = true;\n//             }\n// */\n//           };\n\n//           if (cap.cantouch||self.opt.touchbehavior) {\n\n//             self.onpreventclick = function(e) {\n//               if (self.preventclick) {\n//                 self.preventclick.tg.onclick = self.preventclick.click;\n//                 self.preventclick = false;\n//                 return self.cancelEvent(e);\n//               }\n//             }\n\n// //            self.onmousedown = self.ontouchstart;\n// //            self.onmouseup = self.ontouchend;\n// //            self.onmousemove = self.ontouchmove;\n\n//             self.bind(self.win,\"mousedown\",self.ontouchstart);  // control content dragging\n\n//             self.onclick = (cap.isios) ? false : function(e) {\n//               if (self.lastmouseup) {\n//                 self.lastmouseup = false;\n//                 return self.cancelEvent(e);\n//               } else {\n//                 return true;\n//               }\n//             };\n\n//             if (self.opt.grabcursorenabled&&cap.cursorgrabvalue) {\n//               self.css((self.ispage)?self.doc:self.win,{'cursor':cap.cursorgrabvalue});\n//               self.css(self.rail,{'cursor':cap.cursorgrabvalue});\n//             }\n\n//           } else {\n\n//             function checkSelectionScroll(e) {\n//               if (!self.selectiondrag) return;\n\n//               if (e) {\n//                 var ww = self.win.outerHeight();\n//                 var df = (e.pageY - self.selectiondrag.top);\n//                 if (df>0&&df<ww) df=0;\n//                 if (df>=ww) df-=ww;\n//                 self.selectiondrag.df = df;\n//               }\n//               if (self.selectiondrag.df==0) return;\n\n//               var rt = -Math.floor(self.selectiondrag.df/6)*2;\n// //              self.doScrollTop(self.getScrollTop(true)+rt);\n//               self.doScrollBy(rt);\n\n//               self.debounced(\"doselectionscroll\",function(){checkSelectionScroll()},50);\n//             }\n\n//             if (\"getSelection\" in document) {  // A grade - Major browsers\n//               self.hasTextSelected = function() {\n//                 return (document.getSelection().rangeCount>0);\n//               }\n//             }\n//             else if (\"selection\" in document) {  //IE9-\n//               self.hasTextSelected = function() {\n//                 return (document.selection.type != \"None\");\n//               }\n//             }\n//             else {\n//               self.hasTextSelected = function() {  // no support\n//                 return false;\n//               }\n//             }\n\n//             self.onselectionstart = function(e) {\n//               if (self.ispage) return;\n//               self.selectiondrag = self.win.offset();\n//             }\n//             self.onselectionend = function(e) {\n//               self.selectiondrag = false;\n//             }\n//             self.onselectiondrag = function(e) {\n//               if (!self.selectiondrag) return;\n//               if (self.hasTextSelected()) self.debounced(\"selectionscroll\",function(){checkSelectionScroll(e)},250);\n//             }\n\n\n//           }\n\n//           if (cap.hasmstouch) {\n//             self.css(self.rail,{'-ms-touch-action':'none'});\n//             self.css(self.cursor,{'-ms-touch-action':'none'});\n\n//             self.bind(self.win,\"MSPointerDown\",self.ontouchstart);\n//             self.bind(document,\"MSPointerUp\",self.ontouchend);\n//             self.bind(document,\"MSPointerMove\",self.ontouchmove);\n//             self.bind(self.cursor,\"MSGestureHold\",function(e){e.preventDefault()});\n//             self.bind(self.cursor,\"contextmenu\",function(e){e.preventDefault()});\n//           }\n\n//           if (this.istouchcapable) {  //desktop with screen touch enabled\n//             self.bind(self.win,\"touchstart\",self.ontouchstart);\n//             self.bind(document,\"touchend\",self.ontouchend);\n//             self.bind(document,\"touchcancel\",self.ontouchend);\n//             self.bind(document,\"touchmove\",self.ontouchmove);\n//           }\n\n//           self.bind(self.cursor,\"mousedown\",self.onmousedown);\n//           self.bind(self.cursor,\"mouseup\",self.onmouseup);\n\n//           if (self.railh) {\n//             self.bind(self.cursorh,\"mousedown\",function(e){self.onmousedown(e,true)});\n//             self.bind(self.cursorh,\"mouseup\",function(e){\n//               if (self.rail.drag&&self.rail.drag.pt==2) return;\n//               self.rail.drag = false;\n//               self.hasmoving = false;\n//               self.hideCursor();\n//               if (cap.hasmousecapture) document.releaseCapture();\n//               return self.cancelEvent(e);\n//             });\n//           }\n\n//           if (self.opt.cursordragontouch||!cap.cantouch&&!self.opt.touchbehavior) {\n\n//             self.rail.css({\"cursor\":\"default\"});\n//             self.railh&&self.railh.css({\"cursor\":\"default\"});\n\n//             self.jqbind(self.rail,\"mouseenter\",function() {\n//               if (self.canshowonmouseevent) self.showCursor();\n//               self.rail.active = true;\n//             });\n//             self.jqbind(self.rail,\"mouseleave\",function() {\n//               self.rail.active = false;\n//               if (!self.rail.drag) self.hideCursor();\n//             });\n\n//             if (self.opt.sensitiverail) {\n//               self.bind(self.rail,\"click\",function(e){self.doRailClick(e,false,false)});\n//               self.bind(self.rail,\"dblclick\",function(e){self.doRailClick(e,true,false)});\n//               self.bind(self.cursor,\"click\",function(e){self.cancelEvent(e)});\n//               self.bind(self.cursor,\"dblclick\",function(e){self.cancelEvent(e)});\n//             }\n\n//             if (self.railh) {\n//               self.jqbind(self.railh,\"mouseenter\",function() {\n//                 if (self.canshowonmouseevent) self.showCursor();\n//                 self.rail.active = true;\n//               });\n//               self.jqbind(self.railh,\"mouseleave\",function() {\n//                 self.rail.active = false;\n//                 if (!self.rail.drag) self.hideCursor();\n//               });\n\n//               if (self.opt.sensitiverail) {\n//                 self.bind(self.railh, \"click\", function(e){self.doRailClick(e,false,true)});\n//                 self.bind(self.railh, \"dblclick\", function(e){self.doRailClick(e, true, true) });\n//                 self.bind(self.cursorh, \"click\", function (e) { self.cancelEvent(e) });\n//                 self.bind(self.cursorh, \"dblclick\", function (e) { self.cancelEvent(e) });\n//               }\n\n//             }\n\n//           }\n\n//           if (!cap.cantouch&&!self.opt.touchbehavior) {\n\n//             self.bind((cap.hasmousecapture)?self.win:document,\"mouseup\",self.onmouseup);\n//             self.bind(document,\"mousemove\",self.onmousemove);\n//             if (self.onclick) self.bind(document,\"click\",self.onclick);\n\n//             if (!self.ispage&&self.opt.enablescrollonselection) {\n//               self.bind(self.win[0],\"mousedown\",self.onselectionstart);\n//               self.bind(document,\"mouseup\",self.onselectionend);\n//               self.bind(self.cursor,\"mouseup\",self.onselectionend);\n//               if (self.cursorh) self.bind(self.cursorh,\"mouseup\",self.onselectionend);\n//               self.bind(document,\"mousemove\",self.onselectiondrag);\n//             }\n\n// \t\t\t\t\t\tif (self.zoom) {\n// \t\t\t\t\t\t\tself.jqbind(self.zoom,\"mouseenter\",function() {\n// \t\t\t\t\t\t\t\tif (self.canshowonmouseevent) self.showCursor();\n// \t\t\t\t\t\t\t\tself.rail.active = true;\n// \t\t\t\t\t\t\t});\n// \t\t\t\t\t\t\tself.jqbind(self.zoom,\"mouseleave\",function() {\n// \t\t\t\t\t\t\t\tself.rail.active = false;\n// \t\t\t\t\t\t\t\tif (!self.rail.drag) self.hideCursor();\n// \t\t\t\t\t\t\t});\n// \t\t\t\t\t\t}\n\n//           } else {\n\n//             self.bind((cap.hasmousecapture)?self.win:document,\"mouseup\",self.ontouchend);\n//             self.bind(document,\"mousemove\",self.ontouchmove);\n//             if (self.onclick) self.bind(document,\"click\",self.onclick);\n\n//             if (self.opt.cursordragontouch) {\n//               self.bind(self.cursor,\"mousedown\",self.onmousedown);\n//               self.bind(self.cursor,\"mousemove\",self.onmousemove);\n//               self.cursorh&&self.bind(self.cursorh,\"mousedown\",self.onmousedown);\n//               self.cursorh&&self.bind(self.cursorh,\"mousemove\",self.onmousemove);\n//             }\n\n//           }\n\n// \t\t\t\t\tif (self.opt.enablemousewheel) {\n// \t\t\t\t\t\tif (!self.isiframe) self.bind((cap.isie&&self.ispage) ? document : self.win /*self.docscroll*/ ,\"mousewheel\",self.onmousewheel);\n// \t\t\t\t\t\tself.bind(self.rail,\"mousewheel\",self.onmousewheel);\n// \t\t\t\t\t\tif (self.railh) self.bind(self.railh,\"mousewheel\",self.onmousewheelhr);\n// \t\t\t\t\t}\n\n//           if (!self.ispage&&!cap.cantouch&&!(/HTML|BODY/.test(self.win[0].nodeName))) {\n//             if (!self.win.attr(\"tabindex\")) self.win.attr({\"tabindex\":tabindexcounter++});\n\n//             self.jqbind(self.win,\"focus\",function(e) {\n//               domfocus = (self.getTarget(e)).id||true;\n//               self.hasfocus = true;\n//               if (self.canshowonmouseevent) self.noticeCursor();\n//             });\n//             self.jqbind(self.win,\"blur\",function(e) {\n//               domfocus = false;\n//               self.hasfocus = false;\n//             });\n\n//             self.jqbind(self.win,\"mouseenter\",function(e) {\n//               mousefocus = (self.getTarget(e)).id||true;\n//               self.hasmousefocus = true;\n//               if (self.canshowonmouseevent) self.noticeCursor();\n//             });\n//             self.jqbind(self.win,\"mouseleave\",function() {\n//               mousefocus = false;\n//               self.hasmousefocus = false;\n//             });\n\n//           };\n\n//         }  // !ie9mobile\n\n//         //Thanks to http://www.quirksmode.org !!\n//         self.onkeypress = function(e) {\n//           if (self.locked&&self.page.maxh==0) return true;\n\n//           e = (e) ? e : window.e;\n//           var tg = self.getTarget(e);\n//           if (tg&&/INPUT|TEXTAREA|SELECT|OPTION/.test(tg.nodeName)) {\n//             var tp = tg.getAttribute('type')||tg.type||false;\n//             if ((!tp)||!(/submit|button|cancel/i.tp)) return true;\n//           }\n\n//           if (self.hasfocus||(self.hasmousefocus&&!domfocus)||(self.ispage&&!domfocus&&!mousefocus)) {\n//             var key = e.keyCode;\n\n//             if (self.locked&&key!=27) return self.cancelEvent(e);\n\n//             var ctrl = e.ctrlKey||false;\n//             var shift = e.shiftKey || false;\n\n//             var ret = false;\n//             switch (key) {\n//               case 38:\n//               case 63233: //safari\n//                 self.doScrollBy(24*3);\n//                 ret = true;\n//                 break;\n//               case 40:\n//               case 63235: //safari\n//                 self.doScrollBy(-24*3);\n//                 ret = true;\n//                 break;\n//               case 37:\n//               case 63232: //safari\n//                 if (self.railh) {\n//                   (ctrl) ? self.doScrollLeft(0) : self.doScrollLeftBy(24*3);\n//                   ret = true;\n//                 }\n//                 break;\n//               case 39:\n//               case 63234: //safari\n//                 if (self.railh) {\n//                   (ctrl) ? self.doScrollLeft(self.page.maxw) : self.doScrollLeftBy(-24*3);\n//                   ret = true;\n//                 }\n//                 break;\n//               case 33:\n//               case 63276: // safari\n//                 self.doScrollBy(self.view.h);\n//                 ret = true;\n//                 break;\n//               case 34:\n//               case 63277: // safari\n//                 self.doScrollBy(-self.view.h);\n//                 ret = true;\n//                 break;\n//               case 36:\n//               case 63273: // safari\n//                 (self.railh&&ctrl) ? self.doScrollPos(0,0) : self.doScrollTo(0);\n//                 ret = true;\n//                 break;\n//               case 35:\n//               case 63275: // safari\n//                 (self.railh&&ctrl) ? self.doScrollPos(self.page.maxw,self.page.maxh) : self.doScrollTo(self.page.maxh);\n//                 ret = true;\n//                 break;\n//               case 32:\n//                 if (self.opt.spacebarenabled) {\n//                   (shift) ? self.doScrollBy(self.view.h) : self.doScrollBy(-self.view.h);\n//                   ret = true;\n//                 }\n//                 break;\n//               case 27: // ESC\n//                 if (self.zoomactive) {\n//                   self.doZoom();\n//                   ret = true;\n//                 }\n//                 break;\n//             }\n//             if (ret) return self.cancelEvent(e);\n//           }\n//         };\n\n//         if (self.opt.enablekeyboard) self.bind(document,(cap.isopera&&!cap.isopera12)?\"keypress\":\"keydown\",self.onkeypress);\n\n//         self.bind(window,'resize',self.lazyResize);\n//         self.bind(window,'orientationchange',self.lazyResize);\n\n//         self.bind(window,\"load\",self.lazyResize);\n\n//         if (cap.ischrome&&!self.ispage&&!self.haswrapper) { //chrome void scrollbar bug - it persists in version 26\n//           var tmp=self.win.attr(\"style\");\n// \t\t\t\t\tvar ww = parseFloat(self.win.css(\"width\"))+1;\n//           self.win.css('width',ww);\n//           self.synched(\"chromefix\",function(){self.win.attr(\"style\",tmp)});\n//         }\n\n\n// // Trying a cross-browser implementation - good luck!\n\n//         self.onAttributeChange = function(e) {\n//           self.lazyResize(250);\n//         }\n\n//         if (!self.ispage&&!self.haswrapper) {\n//           // redesigned MutationObserver for Chrome18+/Firefox14+/iOS6+ with support for: remove div, add/remove content\n//           if (clsMutationObserver !== false) {\n//             self.observer = new clsMutationObserver(function(mutations) {\n//               mutations.forEach(self.onAttributeChange);\n//             });\n//             self.observer.observe(self.win[0],{childList: true, characterData: false, attributes: true, subtree: false});\n\n//             self.observerremover = new clsMutationObserver(function(mutations) {\n//                mutations.forEach(function(mo){\n//                  if (mo.removedNodes.length>0) {\n//                    for (var dd in mo.removedNodes) {\n//                      if (mo.removedNodes[dd]==self.win[0]) return self.remove();\n//                    }\n//                  }\n//                });\n//             });\n//             self.observerremover.observe(self.win[0].parentNode,{childList: true, characterData: false, attributes: false, subtree: false});\n\n//           } else {\n//             self.bind(self.win,(cap.isie&&!cap.isie9)?\"propertychange\":\"DOMAttrModified\",self.onAttributeChange);\n//             if (cap.isie9) self.win[0].attachEvent(\"onpropertychange\",self.onAttributeChange); //IE9 DOMAttrModified bug\n//             self.bind(self.win,\"DOMNodeRemoved\",function(e){\n//               if (e.target==self.win[0]) self.remove();\n//             });\n//           }\n//         }\n\n// //\n\n//         if (!self.ispage&&self.opt.boxzoom) self.bind(window,\"resize\",self.resizeZoom);\n//         if (self.istextarea) self.bind(self.win,\"mouseup\",self.lazyResize);\n\n//         self.checkrtlmode = true;\n//         self.lazyResize(30);\n\n//       }\n\n//       if (this.doc[0].nodeName == 'IFRAME') {\n//         function oniframeload(e) {\n//           self.iframexd = false;\n//           try {\n//             var doc = 'contentDocument' in this ? this.contentDocument : this.contentWindow.document;\n//             var a = doc.domain;\n//           } catch(e){self.iframexd = true;doc=false};\n\n//           if (self.iframexd) {\n//             if (\"console\" in window) console.log('NiceScroll error: policy restriced iframe');\n//             return true;  //cross-domain - I can't manage this\n//           }\n\n//           self.forcescreen = true;\n\n//           if (self.isiframe) {\n//             self.iframe = {\n//               \"doc\":$(doc),\n//               \"html\":self.doc.contents().find('html')[0],\n//               \"body\":self.doc.contents().find('body')[0]\n//             };\n//             self.getContentSize = function(){\n//               return {\n//                 w:Math.max(self.iframe.html.scrollWidth,self.iframe.body.scrollWidth),\n//                 h:Math.max(self.iframe.html.scrollHeight,self.iframe.body.scrollHeight)\n//               }\n//             }\n//             self.docscroll = $(self.iframe.body);//$(this.contentWindow);\n//           }\n\n//           if (!cap.isios&&self.opt.iframeautoresize&&!self.isiframe) {\n//             self.win.scrollTop(0); // reset position\n//             self.doc.height(\"\");  //reset height to fix browser bug\n//             var hh=Math.max(doc.getElementsByTagName('html')[0].scrollHeight,doc.body.scrollHeight);\n//             self.doc.height(hh);\n//           }\n//           self.lazyResize(30);\n\n//           if (cap.isie7) self.css($(self.iframe.html),{'overflow-y':'hidden'});\n//           //self.css($(doc.body),{'overflow-y':'hidden'});\n//           self.css($(self.iframe.body),{'overflow-y':'hidden'});\n\n//           if (cap.isios&&self.haswrapper) {\n//             self.css($(doc.body),{'-webkit-transform':'translate3d(0,0,0)'});  // avoid iFrame content clipping - thanks to http://blog.derraab.com/2012/04/02/avoid-iframe-content-clipping-with-css-transform-on-ios/\n\n//             console.log(1);\n\n//           }\n\n//           if ('contentWindow' in this) {\n//             self.bind(this.contentWindow,\"scroll\",self.onscroll);  //IE8 & minor\n//           } else {\n//             self.bind(doc,\"scroll\",self.onscroll);\n//           }\n\n//           if (self.opt.enablemousewheel) {\n//             self.bind(doc,\"mousewheel\",self.onmousewheel);\n//           }\n\n//           if (self.opt.enablekeyboard) self.bind(doc,(cap.isopera)?\"keypress\":\"keydown\",self.onkeypress);\n\n//           if (cap.cantouch||self.opt.touchbehavior) {\n//             self.bind(doc,\"mousedown\",self.ontouchstart);\n//             self.bind(doc,\"mousemove\",function(e){self.ontouchmove(e,true)});\n//             if (self.opt.grabcursorenabled&&cap.cursorgrabvalue) self.css($(doc.body),{'cursor':cap.cursorgrabvalue});\n//           }\n\n//           self.bind(doc,\"mouseup\",self.ontouchend);\n\n//           if (self.zoom) {\n//             if (self.opt.dblclickzoom) self.bind(doc,'dblclick',self.doZoom);\n//             if (self.ongesturezoom) self.bind(doc,\"gestureend\",self.ongesturezoom);\n//           }\n//         };\n\n//         if (this.doc[0].readyState&&this.doc[0].readyState==\"complete\"){\n//           setTimeout(function(){oniframeload.call(self.doc[0],false)},500);\n//         }\n//         self.bind(this.doc,\"load\",oniframeload);\n\n//       }\n\n//     };\n\n//     this.showCursor = function(py,px) {\n//       if (self.cursortimeout) {\n//         clearTimeout(self.cursortimeout);\n//         self.cursortimeout = 0;\n//       }\n//       if (!self.rail) return;\n//       if (self.autohidedom) {\n//         self.autohidedom.stop().css({opacity:self.opt.cursoropacitymax});\n//         self.cursoractive = true;\n//       }\n\n//       if (!self.rail.drag||self.rail.drag.pt!=1) {\n//         if ((typeof py != \"undefined\")&&(py!==false)) {\n//           self.scroll.y = Math.round(py * 1/self.scrollratio.y);\n//         }\n//         if (typeof px != \"undefined\") {\n//           self.scroll.x = Math.round(px * 1/self.scrollratio.x);\n//         }\n//       }\n\n//       self.cursor.css({height:self.cursorheight,top:self.scroll.y});\n//       if (self.cursorh) {\n//         (!self.rail.align&&self.rail.visibility) ? self.cursorh.css({width:self.cursorwidth,left:self.scroll.x+self.rail.width}) : self.cursorh.css({width:self.cursorwidth,left:self.scroll.x});\n//         self.cursoractive = true;\n//       }\n\n//       if (self.zoom) self.zoom.stop().css({opacity:self.opt.cursoropacitymax});\n//     };\n\n//     this.hideCursor = function(tm) {\n//       if (self.cursortimeout) return;\n//       if (!self.rail) return;\n//       if (!self.autohidedom) return;\n//       self.cursortimeout = setTimeout(function() {\n//          if (!self.rail.active||!self.showonmouseevent) {\n//            self.autohidedom.stop().animate({opacity:self.opt.cursoropacitymin});\n//            if (self.zoom) self.zoom.stop().animate({opacity:self.opt.cursoropacitymin});\n//            self.cursoractive = false;\n//          }\n//          self.cursortimeout = 0;\n//       },tm||self.opt.hidecursordelay);\n//     };\n\n//     this.noticeCursor = function(tm,py,px) {\n//       self.showCursor(py,px);\n//       if (!self.rail.active) self.hideCursor(tm);\n//     };\n\n//     this.getContentSize =\n//       (self.ispage) ?\n//         function(){\n//           return {\n//             w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),\n//             h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)\n//           }\n//         }\n//       : (self.haswrapper) ?\n//         function(){\n//           return {\n//             w:self.doc.outerWidth()+parseInt(self.win.css('paddingLeft'))+parseInt(self.win.css('paddingRight')),\n//             h:self.doc.outerHeight()+parseInt(self.win.css('paddingTop'))+parseInt(self.win.css('paddingBottom'))\n//           }\n//         }\n//       : function() {\n//         return {\n//           w:self.docscroll[0].scrollWidth,\n//           h:self.docscroll[0].scrollHeight\n//         }\n//       };\n\n//     this.onResize = function(e,page) {\n\n// \t  if (!self.win) return false;\n\n//       if (!self.haswrapper&&!self.ispage) {\n//         if (self.win.css('display')=='none') {\n//           if (self.visibility) self.hideRail().hideRailHr();\n//           return false;\n//         } else {\n//           if (!self.hidden&&!self.visibility) self.showRail().showRailHr();\n//         }\n//       }\n\n//       var premaxh = self.page.maxh;\n//       var premaxw = self.page.maxw;\n\n//       var preview = {h:self.view.h,w:self.view.w};\n\n//       self.view = {\n//         w:(self.ispage) ? self.win.width() : parseInt(self.win[0].clientWidth),\n//         h:(self.ispage) ? self.win.height() : parseInt(self.win[0].clientHeight)\n//       };\n\n//       self.page = (page) ? page : self.getContentSize();\n\n//       self.page.maxh = Math.max(0,self.page.h - self.view.h);\n//       self.page.maxw = Math.max(0,self.page.w - self.view.w);\n\n//       if ((self.page.maxh==premaxh)&&(self.page.maxw==premaxw)&&(self.view.w==preview.w)) {\n//         // test position\n//         if (!self.ispage) {\n//           var pos = self.win.offset();\n//           if (self.lastposition) {\n//             var lst = self.lastposition;\n//             if ((lst.top==pos.top)&&(lst.left==pos.left)) return self; //nothing to do\n//           }\n//           self.lastposition = pos;\n//         } else {\n//           return self; //nothing to do\n//         }\n//       }\n\n//       if (self.page.maxh==0) {\n//         self.hideRail();\n//         self.scrollvaluemax = 0;\n//         self.scroll.y = 0;\n//         self.scrollratio.y = 0;\n//         self.cursorheight = 0;\n//         self.setScrollTop(0);\n//         self.rail.scrollable = false;\n//       } else {\n//         self.rail.scrollable = true;\n//       }\n\n//       if (self.page.maxw==0) {\n//         self.hideRailHr();\n//         self.scrollvaluemaxw = 0;\n//         self.scroll.x = 0;\n//         self.scrollratio.x = 0;\n//         self.cursorwidth = 0;\n//         self.setScrollLeft(0);\n//         self.railh.scrollable = false;\n//       } else {\n//         self.railh.scrollable = true;\n//       }\n\n//       self.locked = (self.page.maxh==0)&&(self.page.maxw==0);\n//       if (self.locked) {\n// \t\t\t\tif (!self.ispage) self.updateScrollBar(self.view);\n// \t\t\t  return false;\n// \t\t  }\n\n//       if (!self.hidden&&!self.visibility) {\n//         self.showRail().showRailHr();\n//       }\n//       else if (!self.hidden&&!self.railh.visibility) self.showRailHr();\n\n//       if (self.istextarea&&self.win.css('resize')&&self.win.css('resize')!='none') self.view.h-=20;\n\n//       self.cursorheight = Math.min(self.view.h,Math.round(self.view.h * (self.view.h / self.page.h)));\n//       self.cursorheight = (self.opt.cursorfixedheight) ? self.opt.cursorfixedheight : Math.max(self.opt.cursorminheight,self.cursorheight);\n\n//       self.cursorwidth = Math.min(self.view.w,Math.round(self.view.w * (self.view.w / self.page.w)));\n//       self.cursorwidth = (self.opt.cursorfixedheight) ? self.opt.cursorfixedheight : Math.max(self.opt.cursorminheight,self.cursorwidth);\n\n//       self.scrollvaluemax = self.view.h-self.cursorheight-self.cursor.hborder;\n\n//       if (self.railh) {\n//         self.railh.width = (self.page.maxh>0) ? (self.view.w-self.rail.width) : self.view.w;\n//         self.scrollvaluemaxw = self.railh.width-self.cursorwidth-self.cursorh.wborder;\n//       }\n\n//       if (self.checkrtlmode&&self.railh) {\n//         self.checkrtlmode = false;\n//         if (self.opt.rtlmode&&self.scroll.x==0) self.setScrollLeft(self.page.maxw);\n//       }\n\n//       if (!self.ispage) self.updateScrollBar(self.view);\n\n//       self.scrollratio = {\n//         x:(self.page.maxw/self.scrollvaluemaxw),\n//         y:(self.page.maxh/self.scrollvaluemax)\n//       };\n\n//       var sy = self.getScrollTop();\n//       if (sy>self.page.maxh) {\n//         self.doScrollTop(self.page.maxh);\n//       } else {\n//         self.scroll.y = Math.round(self.getScrollTop() * (1/self.scrollratio.y));\n//         self.scroll.x = Math.round(self.getScrollLeft() * (1/self.scrollratio.x));\n//         if (self.cursoractive) self.noticeCursor();\n//       }\n\n//       if (self.scroll.y&&(self.getScrollTop()==0)) self.doScrollTo(Math.floor(self.scroll.y*self.scrollratio.y));\n\n//       return self;\n//     };\n\n//     this.resize = self.onResize;\n\n//     this.lazyResize = function(tm) {   // event debounce\n//       tm = (isNaN(tm)) ? 30 : tm;\n//       self.delayed('resize',self.resize,tm);\n//       return self;\n//     }\n\n// // modified by MDN https://developer.mozilla.org/en-US/docs/DOM/Mozilla_event_reference/wheel\n//     function _modernWheelEvent(dom,name,fn,bubble) {\n//       self._bind(dom,name,function(e){\n//         var  e = (e) ? e : window.event;\n//         var event = {\n//           original: e,\n//           target: e.target || e.srcElement,\n//           type: \"wheel\",\n//           deltaMode: e.type == \"MozMousePixelScroll\" ? 0 : 1,\n//           deltaX: 0,\n//           deltaZ: 0,\n//           preventDefault: function() {\n//             e.preventDefault ? e.preventDefault() : e.returnValue = false;\n//             return false;\n//           },\n//           stopImmediatePropagation: function() {\n//             (e.stopImmediatePropagation) ? e.stopImmediatePropagation() : e.cancelBubble = true;\n//           }\n//         };\n\n//         if (name==\"mousewheel\") {\n//           event.deltaY = - 1/40 * e.wheelDelta;\n//           e.wheelDeltaX && (event.deltaX = - 1/40 * e.wheelDeltaX);\n//         } else {\n//           event.deltaY = e.detail;\n//         }\n\n//         return fn.call(dom,event);\n//       },bubble);\n//     };\n\n//     this._bind = function(el,name,fn,bubble) {  // primitive bind\n//       self.events.push({e:el,n:name,f:fn,b:bubble,q:false});\n//       if (el.addEventListener) {\n//         el.addEventListener(name,fn,bubble||false);\n//       }\n//       else if (el.attachEvent) {\n//         el.attachEvent(\"on\"+name,fn);\n//       }\n//       else {\n//         el[\"on\"+name] = fn;\n//       }\n//     };\n\n//     this.jqbind = function(dom,name,fn) {  // use jquery bind for non-native events (mouseenter/mouseleave)\n//       self.events.push({e:dom,n:name,f:fn,q:true});\n//       $(dom).bind(name,fn);\n//     }\n\n//     this.bind = function(dom,name,fn,bubble) {  // touch-oriented & fixing jquery bind\n//       var el = (\"jquery\" in dom) ? dom[0] : dom;\n\n//       if (name=='mousewheel') {\n//         if (\"onwheel\" in self.win) {\n//           self._bind(el,\"wheel\",fn,bubble||false);\n//         } else {\n//           var wname = (typeof document.onmousewheel != \"undefined\") ? \"mousewheel\" : \"DOMMouseScroll\";  // older IE/Firefox\n//           _modernWheelEvent(el,wname,fn,bubble||false);\n//           if (wname==\"DOMMouseScroll\") _modernWheelEvent(el,\"MozMousePixelScroll\",fn,bubble||false);  // Firefox legacy\n//         }\n//       }\n//       else if (el.addEventListener) {\n//         if (cap.cantouch && /mouseup|mousedown|mousemove/.test(name)) {  // touch device support\n//           var tt=(name=='mousedown')?'touchstart':(name=='mouseup')?'touchend':'touchmove';\n//           self._bind(el,tt,function(e){\n//             if (e.touches) {\n//               if (e.touches.length<2) {var ev=(e.touches.length)?e.touches[0]:e;ev.original=e;fn.call(this,ev);}\n//             }\n//             else if (e.changedTouches) {var ev=e.changedTouches[0];ev.original=e;fn.call(this,ev);}  //blackberry\n//           },bubble||false);\n//         }\n//         self._bind(el,name,fn,bubble||false);\n//         if (cap.cantouch && name==\"mouseup\") self._bind(el,\"touchcancel\",fn,bubble||false);\n//       }\n//       else {\n//         self._bind(el,name,function(e) {\n//           e = e||window.event||false;\n//           if (e) {\n//             if (e.srcElement) e.target=e.srcElement;\n//           }\n//           if (!(\"pageY\" in e)) {\n//             e.pageX = e.clientX + document.documentElement.scrollLeft;\n//             e.pageY = e.clientY + document.documentElement.scrollTop;\n//           }\n//           return ((fn.call(el,e)===false)||bubble===false) ? self.cancelEvent(e) : true;\n//         });\n//       }\n//     };\n\n//     this._unbind = function(el,name,fn,bub) {  // primitive unbind\n//       if (el.removeEventListener) {\n//         el.removeEventListener(name,fn,bub);\n//       }\n//       else if (el.detachEvent) {\n//         el.detachEvent('on'+name,fn);\n//       } else {\n//         el['on'+name] = false;\n//       }\n//     };\n\n//     this.unbindAll = function() {\n//       for(var a=0;a<self.events.length;a++) {\n//         var r = self.events[a];\n//         (r.q) ? r.e.unbind(r.n,r.f) : self._unbind(r.e,r.n,r.f,r.b);\n//       }\n//     };\n\n//     // Thanks to http://www.switchonthecode.com !!\n//     this.cancelEvent = function(e) {\n//       var e = (e.original) ? e.original : (e) ? e : window.event||false;\n//       if (!e) return false;\n//       if(e.preventDefault) e.preventDefault();\n//       if(e.stopPropagation) e.stopPropagation();\n//       if(e.preventManipulation) e.preventManipulation();  //IE10\n//       e.cancelBubble = true;\n//       e.cancel = true;\n//       e.returnValue = false;\n//       return false;\n//     };\n\n//     this.stopPropagation = function(e) {\n//       var e = (e.original) ? e.original : (e) ? e : window.event||false;\n//       if (!e) return false;\n//       if (e.stopPropagation) return e.stopPropagation();\n//       if (e.cancelBubble) e.cancelBubble=true;\n//       return false;\n//     }\n\n//     this.showRail = function() {\n//       if ((self.page.maxh!=0)&&(self.ispage||self.win.css('display')!='none')) {\n//         self.visibility = true;\n//         self.rail.visibility = true;\n//         self.rail.css('display','block');\n//       }\n//       return self;\n//     };\n\n//     this.showRailHr = function() {\n//       if (!self.railh) return self;\n//       if ((self.page.maxw!=0)&&(self.ispage||self.win.css('display')!='none')) {\n//         self.railh.visibility = true;\n//         self.railh.css('display','block');\n//       }\n//       return self;\n//     };\n\n//     this.hideRail = function() {\n//       self.visibility = false;\n//       self.rail.visibility = false;\n//       self.rail.css('display','none');\n//       return self;\n//     };\n\n//     this.hideRailHr = function() {\n//       if (!self.railh) return self;\n//       self.railh.visibility = false;\n//       self.railh.css('display','none');\n//       return self;\n//     };\n\n//     this.show = function() {\n//       self.hidden = false;\n//       self.locked = false;\n//       return self.showRail().showRailHr();\n//     };\n\n//     this.hide = function() {\n//       self.hidden = true;\n//       self.locked = true;\n//       return self.hideRail().hideRailHr();\n//     };\n\n//     this.toggle = function() {\n//       return (self.hidden) ? self.show() : self.hide();\n//     };\n\n//     this.remove = function() {\n//       self.stop();\n//       if (self.cursortimeout) clearTimeout(self.cursortimeout);\n//       self.doZoomOut();\n//       self.unbindAll();\n\n//       if (cap.isie9) self.win[0].detachEvent(\"onpropertychange\",self.onAttributeChange); //IE9 DOMAttrModified bug\n\n//       if (self.observer !== false) self.observer.disconnect();\n//       if (self.observerremover !== false) self.observerremover.disconnect();\n\n//       self.events = null;\n\n//       if (self.cursor) {\n//         self.cursor.remove();\n//       }\n//       if (self.cursorh) {\n//         self.cursorh.remove();\n//       }\n//       if (self.rail) {\n//         self.rail.remove();\n//       }\n//       if (self.railh) {\n//         self.railh.remove();\n//       }\n//       if (self.zoom) {\n//         self.zoom.remove();\n//       }\n//       for(var a=0;a<self.saved.css.length;a++) {\n//         var d=self.saved.css[a];\n//         d[0].css(d[1],(typeof d[2]==\"undefined\") ? '' : d[2]);\n//       }\n//       self.saved = false;\n//       self.me.data('__nicescroll',''); //erase all traces\n\n//       // memory leak fixed by GianlucaGuarini - thanks a lot!\n//       // remove the current nicescroll from the $.nicescroll array & normalize array\n//       var lst = $.nicescroll;\n//       lst.each(function(i){\n//         if (!this) return;\n//         if(this.id === self.id) {\n//           delete lst[i];\n//           for(var b=++i;b<lst.length;b++,i++) lst[i]=lst[b];\n//           lst.length--;\n//           if (lst.length) delete lst[lst.length];\n//         }\n//       });\n\n//       for (var i in self) {\n//         self[i] = null;\n//         delete self[i];\n//       }\n\n//       self = null;\n\n//     };\n\n//     this.scrollstart = function(fn) {\n//       this.onscrollstart = fn;\n//       return self;\n//     }\n//     this.scrollend = function(fn) {\n//       this.onscrollend = fn;\n//       return self;\n//     }\n//     this.scrollcancel = function(fn) {\n//       this.onscrollcancel = fn;\n//       return self;\n//     }\n\n//     this.zoomin = function(fn) {\n//       this.onzoomin = fn;\n//       return self;\n//     }\n//     this.zoomout = function(fn) {\n//       this.onzoomout = fn;\n//       return self;\n//     }\n\n//     this.isScrollable = function(e) {\n//       var dom = (e.target) ? e.target : e;\n//       if (dom.nodeName == 'OPTION') return true;\n//       while (dom&&(dom.nodeType==1)&&!(/BODY|HTML/.test(dom.nodeName))) {\n//         var dd = $(dom);\n//         var ov = dd.css('overflowY')||dd.css('overflowX')||dd.css('overflow')||'';\n//         if (/scroll|auto/.test(ov)) return (dom.clientHeight!=dom.scrollHeight);\n//         dom = (dom.parentNode) ? dom.parentNode : false;\n//       }\n//       return false;\n//     };\n\n//     this.getViewport = function(me) {\n//       var dom = (me&&me.parentNode) ? me.parentNode : false;\n//       while (dom&&(dom.nodeType==1)&&!(/BODY|HTML/.test(dom.nodeName))) {\n//         var dd = $(dom);\n//         var ov = dd.css('overflowY')||dd.css('overflowX')||dd.css('overflow')||'';\n//         if ((/scroll|auto/.test(ov))&&(dom.clientHeight!=dom.scrollHeight)) return dd;\n//         if (dd.getNiceScroll().length>0) return dd;\n//         dom = (dom.parentNode) ? dom.parentNode : false;\n//       }\n//       return false;\n//     };\n\n//     function execScrollWheel(e,hr,chkscroll) {\n//       var px,py;\n//       var rt = 1;\n\n//       if (e.deltaMode==0) {  // PIXEL\n//         px = -Math.floor(e.deltaX*(self.opt.mousescrollstep/(18*3)));\n//         py = -Math.floor(e.deltaY*(self.opt.mousescrollstep/(18*3)));\n//       }\n//       else if (e.deltaMode==1) {  // LINE\n//         px = -Math.floor(e.deltaX*self.opt.mousescrollstep);\n//         py = -Math.floor(e.deltaY*self.opt.mousescrollstep);\n//       }\n\n//       if (hr&&self.opt.oneaxismousemode&&(px==0)&&py) {  // classic vertical-only mousewheel + browser with x/y support\n//         px = py;\n//         py = 0;\n//       }\n\n//       if (px) {\n//         if (self.scrollmom) {self.scrollmom.stop()}\n//         self.lastdeltax+=px;\n//         self.debounced(\"mousewheelx\",function(){var dt=self.lastdeltax;self.lastdeltax=0;if(!self.rail.drag){self.doScrollLeftBy(dt)}},120);\n//       }\n//       if (py) {\n//         if (self.opt.nativeparentscrolling&&chkscroll&&!self.ispage&&!self.zoomactive) {\n//           if (py<0) {\n//             if (self.getScrollTop()>=self.page.maxh) return true;\n//           } else {\n//             if (self.getScrollTop()<=0) return true;\n//           }\n//         }\n//         if (self.scrollmom) {self.scrollmom.stop()}\n//         self.lastdeltay+=py;\n//         self.debounced(\"mousewheely\",function(){var dt=self.lastdeltay;self.lastdeltay=0;if(!self.rail.drag){self.doScrollBy(dt)}},120);\n//       }\n\n//       e.stopImmediatePropagation();\n//       return e.preventDefault();\n// //      return self.cancelEvent(e);\n//     };\n\n//     this.onmousewheel = function(e) {\n//       if (self.locked) {\n//         self.debounced(\"checkunlock\",self.resize,250);\n//         return true;\n//       }\n//       if (self.rail.drag) return self.cancelEvent(e);\n\n//       if (self.opt.oneaxismousemode==\"auto\"&&e.deltaX!=0) self.opt.oneaxismousemode = false;  // check two-axis mouse support (not very elegant)\n\n//       if (self.opt.oneaxismousemode&&e.deltaX==0) {\n//         if (!self.rail.scrollable) {\n//           if (self.railh&&self.railh.scrollable) {\n//             return self.onmousewheelhr(e);\n//           } else {\n//             return true;\n//           }\n//         }\n//       }\n\n//       var nw = +(new Date());\n//       var chk = false;\n//       if (self.opt.preservenativescrolling&&((self.checkarea+600)<nw)) {\n// //        self.checkarea = false;\n//         self.nativescrollingarea = self.isScrollable(e);\n//         chk = true;\n//       }\n//       self.checkarea = nw;\n//       if (self.nativescrollingarea) return true; // this isn't my business\n// //      if (self.locked) return self.cancelEvent(e);\n//       var ret = execScrollWheel(e,false,chk);\n//       if (ret) self.checkarea = 0;\n//       return ret;\n//     };\n\n//     this.onmousewheelhr = function(e) {\n//       if (self.locked||!self.railh.scrollable) return true;\n//       if (self.rail.drag) return self.cancelEvent(e);\n\n//       var nw = +(new Date());\n//       var chk = false;\n//       if (self.opt.preservenativescrolling&&((self.checkarea+600)<nw)) {\n// //        self.checkarea = false;\n//         self.nativescrollingarea = self.isScrollable(e);\n//         chk = true;\n//       }\n//       self.checkarea = nw;\n//       if (self.nativescrollingarea) return true; // this isn't my business\n//       if (self.locked) return self.cancelEvent(e);\n\n//       return execScrollWheel(e,true,chk);\n//     };\n\n//     this.stop = function() {\n//       self.cancelScroll();\n//       if (self.scrollmon) self.scrollmon.stop();\n//       self.cursorfreezed = false;\n//       self.scroll.y = Math.round(self.getScrollTop() * (1/self.scrollratio.y));\n//       self.noticeCursor();\n//       return self;\n//     };\n\n//     this.getTransitionSpeed = function(dif) {\n//       var sp = Math.round(self.opt.scrollspeed*10);\n//       var ex = Math.min(sp,Math.round((dif / 20) * self.opt.scrollspeed));\n//       return (ex>20) ? ex : 0;\n//     }\n\n//     if (!self.opt.smoothscroll) {\n//       this.doScrollLeft = function(x,spd) {  //direct\n//         var y = self.getScrollTop();\n//         self.doScrollPos(x,y,spd);\n//       }\n//       this.doScrollTop = function(y,spd) {   //direct\n//         var x = self.getScrollLeft();\n//         self.doScrollPos(x,y,spd);\n//       }\n//       this.doScrollPos = function(x,y,spd) {  //direct\n//         var nx = (x>self.page.maxw) ? self.page.maxw : x;\n//         if (nx<0) nx=0;\n//         var ny = (y>self.page.maxh) ? self.page.maxh : y;\n//         if (ny<0) ny=0;\n//         self.synched('scroll',function(){\n//           self.setScrollTop(ny);\n//           self.setScrollLeft(nx);\n//         });\n//       }\n//       this.cancelScroll = function() {}; // direct\n//     }\n//     else if (self.ishwscroll&&cap.hastransition&&self.opt.usetransition) {\n//       this.prepareTransition = function(dif,istime) {\n//         var ex = (istime) ? ((dif>20)?dif:0) : self.getTransitionSpeed(dif);\n//         var trans = (ex) ? cap.prefixstyle+'transform '+ex+'ms ease-out' : '';\n//         if (!self.lasttransitionstyle||self.lasttransitionstyle!=trans) {\n//           self.lasttransitionstyle = trans;\n//           self.doc.css(cap.transitionstyle,trans);\n//         }\n//         return ex;\n//       };\n\n//       this.doScrollLeft = function(x,spd) {  //trans\n//         var y = (self.scrollrunning) ? self.newscrolly : self.getScrollTop();\n//         self.doScrollPos(x,y,spd);\n//       }\n\n//       this.doScrollTop = function(y,spd) {   //trans\n//         var x = (self.scrollrunning) ? self.newscrollx : self.getScrollLeft();\n//         self.doScrollPos(x,y,spd);\n//       }\n\n//       this.doScrollPos = function(x,y,spd) {  //trans\n\n//         var py = self.getScrollTop();\n//         var px = self.getScrollLeft();\n\n//         if (((self.newscrolly-py)*(y-py)<0)||((self.newscrollx-px)*(x-px)<0)) self.cancelScroll();  //inverted movement detection\n\n//         if (self.opt.bouncescroll==false) {\n//           if (y<0) y=0;\n//           else if (y>self.page.maxh) y=self.page.maxh;\n//           if (x<0) x=0;\n//           else if (x>self.page.maxw) x=self.page.maxw;\n//         }\n\n//         if (self.scrollrunning&&x==self.newscrollx&&y==self.newscrolly) return false;\n\n//         self.newscrolly = y;\n//         self.newscrollx = x;\n\n//         self.newscrollspeed = spd||false;\n\n//         if (self.timer) return false;\n\n//         self.timer = setTimeout(function(){\n\n//           var top = self.getScrollTop();\n//           var lft = self.getScrollLeft();\n\n//           var dst = {};\n//           dst.x = x-lft;\n//           dst.y = y-top;\n//           dst.px = lft;\n//           dst.py = top;\n\n//           var dd = Math.round(Math.sqrt(Math.pow(dst.x,2)+Math.pow(dst.y,2)));\n\n// //          var df = (self.newscrollspeed) ? self.newscrollspeed : dd;\n\n//           var ms = (self.newscrollspeed && self.newscrollspeed>1) ? self.newscrollspeed : self.getTransitionSpeed(dd);\n//           if (self.newscrollspeed&&self.newscrollspeed<=1) ms*=self.newscrollspeed;\n\n//           self.prepareTransition(ms,true);\n\n//           if (self.timerscroll&&self.timerscroll.tm) clearInterval(self.timerscroll.tm);\n\n//           if (ms>0) {\n\n//             if (!self.scrollrunning&&self.onscrollstart) {\n//               var info = {\"type\":\"scrollstart\",\"current\":{\"x\":lft,\"y\":top},\"request\":{\"x\":x,\"y\":y},\"end\":{\"x\":self.newscrollx,\"y\":self.newscrolly},\"speed\":ms};\n//               self.onscrollstart.call(self,info);\n//             }\n\n//             if (cap.transitionend) {\n//               if (!self.scrollendtrapped) {\n//                 self.scrollendtrapped = true;\n//                 self.bind(self.doc,cap.transitionend,self.onScrollEnd,false); //I have got to do something usefull!!\n//               }\n//             } else {\n//               if (self.scrollendtrapped) clearTimeout(self.scrollendtrapped);\n//               self.scrollendtrapped = setTimeout(self.onScrollEnd,ms);  // simulate transitionend event\n//             }\n\n//             var py = top;\n//             var px = lft;\n//             self.timerscroll = {\n//               bz: new BezierClass(py,self.newscrolly,ms,0,0,0.58,1),\n//               bh: new BezierClass(px,self.newscrollx,ms,0,0,0.58,1)\n//             };\n//             if (!self.cursorfreezed) self.timerscroll.tm=setInterval(function(){self.showCursor(self.getScrollTop(),self.getScrollLeft())},60);\n\n//           }\n\n//           self.synched(\"doScroll-set\",function(){\n//             self.timer = 0;\n//             if (self.scrollendtrapped) self.scrollrunning = true;\n//             self.setScrollTop(self.newscrolly);\n//             self.setScrollLeft(self.newscrollx);\n//             if (!self.scrollendtrapped) self.onScrollEnd();\n//           });\n\n\n//         },50);\n\n//       };\n\n//       this.cancelScroll = function() {\n//         if (!self.scrollendtrapped) return true;\n//         var py = self.getScrollTop();\n//         var px = self.getScrollLeft();\n//         self.scrollrunning = false;\n//         if (!cap.transitionend) clearTimeout(cap.transitionend);\n//         self.scrollendtrapped = false;\n//         self._unbind(self.doc,cap.transitionend,self.onScrollEnd);\n//         self.prepareTransition(0);\n//         self.setScrollTop(py); // fire event onscroll\n//         if (self.railh) self.setScrollLeft(px);\n//         if (self.timerscroll&&self.timerscroll.tm) clearInterval(self.timerscroll.tm);\n//         self.timerscroll = false;\n\n//         self.cursorfreezed = false;\n\n//         //self.noticeCursor(false,py,px);\n//         self.showCursor(py,px);\n//         return self;\n//       };\n//       this.onScrollEnd = function() {\n//         if (self.scrollendtrapped) self._unbind(self.doc,cap.transitionend,self.onScrollEnd);\n//         self.scrollendtrapped = false;\n//         self.prepareTransition(0);\n//         if (self.timerscroll&&self.timerscroll.tm) clearInterval(self.timerscroll.tm);\n//         self.timerscroll = false;\n//         var py = self.getScrollTop();\n//         var px = self.getScrollLeft();\n//         self.setScrollTop(py);  // fire event onscroll\n//         if (self.railh) self.setScrollLeft(px);  // fire event onscroll left\n\n//         self.noticeCursor(false,py,px);\n\n//         self.cursorfreezed = false;\n\n//         if (py<0) py=0\n//         else if (py>self.page.maxh) py=self.page.maxh;\n//         if (px<0) px=0\n//         else if (px>self.page.maxw) px=self.page.maxw;\n//         if((py!=self.newscrolly)||(px!=self.newscrollx)) return self.doScrollPos(px,py,self.opt.snapbackspeed);\n\n//         if (self.onscrollend&&self.scrollrunning) {\n//           var info = {\"type\":\"scrollend\",\"current\":{\"x\":px,\"y\":py},\"end\":{\"x\":self.newscrollx,\"y\":self.newscrolly}};\n//           self.onscrollend.call(self,info);\n//         }\n//         self.scrollrunning = false;\n\n//       };\n\n//     } else {\n\n//       this.doScrollLeft = function(x,spd) {  //no-trans\n//         var y = (self.scrollrunning) ? self.newscrolly : self.getScrollTop();\n//         self.doScrollPos(x,y,spd);\n//       }\n\n//       this.doScrollTop = function(y,spd) {  //no-trans\n//         var x = (self.scrollrunning) ? self.newscrollx : self.getScrollLeft();\n//         self.doScrollPos(x,y,spd);\n//       }\n\n//       this.doScrollPos = function(x,y,spd) {  //no-trans\n//         var y = ((typeof y == \"undefined\")||(y===false)) ? self.getScrollTop(true) : y;\n\n//         if  ((self.timer)&&(self.newscrolly==y)&&(self.newscrollx==x)) return true;\n\n//         if (self.timer) clearAnimationFrame(self.timer);\n//         self.timer = 0;\n\n//         var py = self.getScrollTop();\n//         var px = self.getScrollLeft();\n\n//         if (((self.newscrolly-py)*(y-py)<0)||((self.newscrollx-px)*(x-px)<0)) self.cancelScroll();  //inverted movement detection\n\n//         self.newscrolly = y;\n//         self.newscrollx = x;\n\n//         if (!self.bouncescroll||!self.rail.visibility) {\n//           if (self.newscrolly<0) {\n//             self.newscrolly = 0;\n//           }\n//           else if (self.newscrolly>self.page.maxh) {\n//             self.newscrolly = self.page.maxh;\n//           }\n//         }\n//         if (!self.bouncescroll||!self.railh.visibility) {\n//           if (self.newscrollx<0) {\n//             self.newscrollx = 0;\n//           }\n//           else if (self.newscrollx>self.page.maxw) {\n//             self.newscrollx = self.page.maxw;\n//           }\n//         }\n\n//         self.dst = {};\n//         self.dst.x = x-px;\n//         self.dst.y = y-py;\n//         self.dst.px = px;\n//         self.dst.py = py;\n\n//         var dst = Math.round(Math.sqrt(Math.pow(self.dst.x,2)+Math.pow(self.dst.y,2)));\n\n//         self.dst.ax = self.dst.x / dst;\n//         self.dst.ay = self.dst.y / dst;\n\n//         var pa = 0;\n//         var pe = dst;\n\n//         if (self.dst.x==0) {\n//           pa = py;\n//           pe = y;\n//           self.dst.ay = 1;\n//           self.dst.py = 0;\n//         } else if (self.dst.y==0) {\n//           pa = px;\n//           pe = x;\n//           self.dst.ax = 1;\n//           self.dst.px = 0;\n//         }\n\n//         var ms = self.getTransitionSpeed(dst);\n//         if (spd&&spd<=1) ms*=spd;\n//         if (ms>0) {\n//           self.bzscroll = (self.bzscroll) ? self.bzscroll.update(pe,ms) : new BezierClass(pa,pe,ms,0,1,0,1);\n//         } else {\n//           self.bzscroll = false;\n//         }\n\n//         if (self.timer) return;\n\n//         if ((py==self.page.maxh&&y>=self.page.maxh)||(px==self.page.maxw&&x>=self.page.maxw)) self.checkContentSize();\n\n//         var sync = 1;\n\n//         function scrolling() {\n//           if (self.cancelAnimationFrame) return true;\n\n//           self.scrollrunning = true;\n\n//           sync = 1-sync;\n//           if (sync) return (self.timer = setAnimationFrame(scrolling)||1);\n\n//           var done = 0;\n\n//           var sc = sy = self.getScrollTop();\n//           if (self.dst.ay) {\n//             sc = (self.bzscroll) ? self.dst.py + (self.bzscroll.getNow()*self.dst.ay) : self.newscrolly;\n//             var dr=sc-sy;\n//             if ((dr<0&&sc<self.newscrolly)||(dr>0&&sc>self.newscrolly)) sc = self.newscrolly;\n//             self.setScrollTop(sc);\n//             if (sc == self.newscrolly) done=1;\n//           } else {\n//             done=1;\n//           }\n\n//           var scx = sx = self.getScrollLeft();\n//           if (self.dst.ax) {\n//             scx = (self.bzscroll) ? self.dst.px + (self.bzscroll.getNow()*self.dst.ax) : self.newscrollx;\n//             var dr=scx-sx;\n//             if ((dr<0&&scx<self.newscrollx)||(dr>0&&scx>self.newscrollx)) scx = self.newscrollx;\n//             self.setScrollLeft(scx);\n//             if (scx == self.newscrollx) done+=1;\n//           } else {\n//             done+=1;\n//           }\n\n//           if (done==2) {\n//             self.timer = 0;\n//             self.cursorfreezed = false;\n//             self.bzscroll = false;\n//             self.scrollrunning = false;\n//             if (sc<0) sc=0;\n//             else if (sc>self.page.maxh) sc=self.page.maxh;\n//             if (scx<0) scx=0;\n//             else if (scx>self.page.maxw) scx=self.page.maxw;\n//             if ((scx!=self.newscrollx)||(sc!=self.newscrolly)) self.doScrollPos(scx,sc);\n//             else {\n//               if (self.onscrollend) {\n//                 var info = {\"type\":\"scrollend\",\"current\":{\"x\":sx,\"y\":sy},\"end\":{\"x\":self.newscrollx,\"y\":self.newscrolly}};\n//                 self.onscrollend.call(self,info);\n//               }\n//             }\n//           } else {\n//             self.timer = setAnimationFrame(scrolling)||1;\n//           }\n//         };\n//         self.cancelAnimationFrame=false;\n//         self.timer = 1;\n\n//         if (self.onscrollstart&&!self.scrollrunning) {\n//           var info = {\"type\":\"scrollstart\",\"current\":{\"x\":px,\"y\":py},\"request\":{\"x\":x,\"y\":y},\"end\":{\"x\":self.newscrollx,\"y\":self.newscrolly},\"speed\":ms};\n//           self.onscrollstart.call(self,info);\n//         }\n\n//         scrolling();\n\n//         if ((py==self.page.maxh&&y>=py)||(px==self.page.maxw&&x>=px)) self.checkContentSize();\n\n//         self.noticeCursor();\n//       };\n\n//       this.cancelScroll = function() {\n//         if (self.timer) clearAnimationFrame(self.timer);\n//         self.timer = 0;\n//         self.bzscroll = false;\n//         self.scrollrunning = false;\n//         return self;\n//       };\n\n//     }\n\n//     this.doScrollBy = function(stp,relative) {\n//       var ny = 0;\n//       if (relative) {\n//         ny = Math.floor((self.scroll.y-stp)*self.scrollratio.y)\n//       } else {\n//         var sy = (self.timer) ? self.newscrolly : self.getScrollTop(true);\n//         ny = sy-stp;\n//       }\n//       if (self.bouncescroll) {\n//         var haf = Math.round(self.view.h/2);\n//         if (ny<-haf) ny=-haf\n//         else if (ny>(self.page.maxh+haf)) ny = (self.page.maxh+haf);\n//       }\n//       self.cursorfreezed = false;\n\n//       py = self.getScrollTop(true);\n//       if (ny<0&&py<=0) return self.noticeCursor();\n//       else if (ny>self.page.maxh&&py>=self.page.maxh) {\n//         self.checkContentSize();\n//         return self.noticeCursor();\n//       }\n\n//       self.doScrollTop(ny);\n//     };\n\n//     this.doScrollLeftBy = function(stp,relative) {\n//       var nx = 0;\n//       if (relative) {\n//         nx = Math.floor((self.scroll.x-stp)*self.scrollratio.x)\n//       } else {\n//         var sx = (self.timer) ? self.newscrollx : self.getScrollLeft(true);\n//         nx = sx-stp;\n//       }\n//       if (self.bouncescroll) {\n//         var haf = Math.round(self.view.w/2);\n//         if (nx<-haf) nx=-haf\n//         else if (nx>(self.page.maxw+haf)) nx = (self.page.maxw+haf);\n//       }\n//       self.cursorfreezed = false;\n\n//       px = self.getScrollLeft(true);\n//       if (nx<0&&px<=0) return self.noticeCursor();\n//       else if (nx>self.page.maxw&&px>=self.page.maxw) return self.noticeCursor();\n\n//       self.doScrollLeft(nx);\n//     };\n\n//     this.doScrollTo = function(pos,relative) {\n//       var ny = (relative) ? Math.round(pos*self.scrollratio.y) : pos;\n//       if (ny<0) ny=0\n//       else if (ny>self.page.maxh) ny = self.page.maxh;\n//       self.cursorfreezed = false;\n//       self.doScrollTop(pos);\n//     };\n\n//     this.checkContentSize = function() {\n//       var pg = self.getContentSize();\n//       if ((pg.h!=self.page.h)||(pg.w!=self.page.w)) self.resize(false,pg);\n//     };\n\n//     self.onscroll = function(e) {\n//       if (self.rail.drag) return;\n//       if (!self.cursorfreezed) {\n//         self.synched('scroll',function(){\n//           self.scroll.y = Math.round(self.getScrollTop() * (1/self.scrollratio.y));\n//           if (self.railh) self.scroll.x = Math.round(self.getScrollLeft() * (1/self.scrollratio.x));\n//           self.noticeCursor();\n//         });\n//       }\n//     };\n//     self.bind(self.docscroll,\"scroll\",self.onscroll);\n\n//     this.doZoomIn = function(e) {\n//       if (self.zoomactive) return;\n//       self.zoomactive = true;\n\n//       self.zoomrestore = {\n//         style:{}\n//       };\n//       var lst = ['position','top','left','zIndex','backgroundColor','marginTop','marginBottom','marginLeft','marginRight'];\n//       var win = self.win[0].style;\n//       for(var a in lst) {\n//         var pp = lst[a];\n//         self.zoomrestore.style[pp] = (typeof win[pp] != \"undefined\") ? win[pp] : '';\n//       }\n\n//       self.zoomrestore.style.width = self.win.css('width');\n//       self.zoomrestore.style.height = self.win.css('height');\n\n//       self.zoomrestore.padding = {\n//         w:self.win.outerWidth()-self.win.width(),\n//         h:self.win.outerHeight()-self.win.height()\n//       };\n\n//       if (cap.isios4) {\n//         self.zoomrestore.scrollTop = $(window).scrollTop();\n//         $(window).scrollTop(0);\n//       }\n\n//       self.win.css({\n//         \"position\":(cap.isios4)?\"absolute\":\"fixed\",\n//         \"top\":0,\n//         \"left\":0,\n//         \"z-index\":globalmaxzindex+100,\n//         \"margin\":\"0px\"\n//       });\n//       var bkg = self.win.css(\"backgroundColor\");\n//       if (bkg==\"\"||/transparent|rgba\\(0, 0, 0, 0\\)|rgba\\(0,0,0,0\\)/.test(bkg)) self.win.css(\"backgroundColor\",\"#fff\");\n//       self.rail.css({\"z-index\":globalmaxzindex+101});\n//       self.zoom.css({\"z-index\":globalmaxzindex+102});\n//       self.zoom.css('backgroundPosition','0px -18px');\n//       self.resizeZoom();\n\n//       if (self.onzoomin) self.onzoomin.call(self);\n\n//       return self.cancelEvent(e);\n//     };\n\n//     this.doZoomOut = function(e) {\n//       if (!self.zoomactive) return;\n//       self.zoomactive = false;\n\n//       self.win.css(\"margin\",\"\");\n//       self.win.css(self.zoomrestore.style);\n\n//       if (cap.isios4) {\n//         $(window).scrollTop(self.zoomrestore.scrollTop);\n//       }\n\n//       self.rail.css({\"z-index\":self.zindex});\n//       self.zoom.css({\"z-index\":self.zindex});\n//       self.zoomrestore = false;\n//       self.zoom.css('backgroundPosition','0px 0px');\n//       self.onResize();\n\n//       if (self.onzoomout) self.onzoomout.call(self);\n\n//       return self.cancelEvent(e);\n//     };\n\n//     this.doZoom = function(e) {\n//       return (self.zoomactive) ? self.doZoomOut(e) : self.doZoomIn(e);\n//     };\n\n//     this.resizeZoom = function() {\n//       if (!self.zoomactive) return;\n\n//       var py = self.getScrollTop(); //preserve scrolling position\n//       self.win.css({\n//         width:$(window).width()-self.zoomrestore.padding.w+\"px\",\n//         height:$(window).height()-self.zoomrestore.padding.h+\"px\"\n//       });\n//       self.onResize();\n\n//       self.setScrollTop(Math.min(self.page.maxh,py));\n//     };\n\n//     this.init();\n\n//     $.nicescroll.push(this);\n\n//   };\n\n// // Inspired by the work of Kin Blas\n// // http://webpro.host.adobe.com/people/jblas/momentum/includes/jquery.momentum.0.7.js\n\n\n//   var ScrollMomentumClass2D = function(nc) {\n//     var self = this;\n//     this.nc = nc;\n\n//     this.lastx = 0;\n//     this.lasty = 0;\n//     this.speedx = 0;\n//     this.speedy = 0;\n//     this.lasttime = 0;\n//     this.steptime = 0;\n//     this.snapx = false;\n//     this.snapy = false;\n//     this.demulx = 0;\n//     this.demuly = 0;\n\n//     this.lastscrollx = -1;\n//     this.lastscrolly = -1;\n\n//     this.chkx = 0;\n//     this.chky = 0;\n\n//     this.timer = 0;\n\n//     this.time = function() {\n//       return +new Date();//beautifull hack\n//     };\n\n//     this.reset = function(px,py) {\n//       self.stop();\n//       var now = self.time();\n//       self.steptime = 0;\n//       self.lasttime = now;\n//       self.speedx = 0;\n//       self.speedy = 0;\n//       self.lastx = px;\n//       self.lasty = py;\n//       self.lastscrollx = -1;\n//       self.lastscrolly = -1;\n//     };\n\n//     this.update = function(px,py) {\n//       var now = self.time();\n//       self.steptime = now - self.lasttime;\n//       self.lasttime = now;\n//       var dy = py - self.lasty;\n//       var dx = px - self.lastx;\n//       var sy = self.nc.getScrollTop();\n//       var sx = self.nc.getScrollLeft();\n//       var newy = sy + dy;\n//       var newx = sx + dx;\n//       self.snapx = (newx<0)||(newx>self.nc.page.maxw);\n//       self.snapy = (newy<0)||(newy>self.nc.page.maxh);\n//       self.speedx = dx;\n//       self.speedy = dy;\n//       self.lastx = px;\n//       self.lasty = py;\n//     };\n\n//     this.stop = function() {\n//       self.nc.unsynched(\"domomentum2d\");\n//       if (self.timer) clearTimeout(self.timer);\n//       self.timer = 0;\n//       self.lastscrollx = -1;\n//       self.lastscrolly = -1;\n//     };\n\n//     this.doSnapy = function(nx,ny) {\n//       var snap = false;\n\n//       if (ny<0) {\n//         ny=0;\n//         snap=true;\n//       }\n//       else if (ny>self.nc.page.maxh) {\n//         ny=self.nc.page.maxh;\n//         snap=true;\n//       }\n\n//       if (nx<0) {\n//         nx=0;\n//         snap=true;\n//       }\n//       else if (nx>self.nc.page.maxw) {\n//         nx=self.nc.page.maxw;\n//         snap=true;\n//       }\n\n//       if (snap) self.nc.doScrollPos(nx,ny,self.nc.opt.snapbackspeed);\n//     };\n\n//     this.doMomentum = function(gp) {\n//       var t = self.time();\n//       var l = (gp) ? t+gp : self.lasttime;\n\n//       var sl = self.nc.getScrollLeft();\n//       var st = self.nc.getScrollTop();\n\n//       var pageh = self.nc.page.maxh;\n//       var pagew = self.nc.page.maxw;\n\n//       self.speedx = (pagew>0) ? Math.min(60,self.speedx) : 0;\n//       self.speedy = (pageh>0) ? Math.min(60,self.speedy) : 0;\n\n//       var chk = l && (t - l) <= 60;\n\n//       if ((st<0)||(st>pageh)||(sl<0)||(sl>pagew)) chk = false;\n\n//       var sy = (self.speedy && chk) ? self.speedy : false;\n//       var sx = (self.speedx && chk) ? self.speedx : false;\n\n//       if (sy||sx) {\n//         var tm = Math.max(16,self.steptime); //timeout granularity\n\n//         if (tm>50) {  // do smooth\n//           var xm = tm/50;\n//           self.speedx*=xm;\n//           self.speedy*=xm;\n//           tm = 50;\n//         }\n\n//         self.demulxy = 0;\n\n//         self.lastscrollx = self.nc.getScrollLeft();\n//         self.chkx = self.lastscrollx;\n//         self.lastscrolly = self.nc.getScrollTop();\n//         self.chky = self.lastscrolly;\n\n//         var nx = self.lastscrollx;\n//         var ny = self.lastscrolly;\n\n//         var onscroll = function(){\n//           var df = ((self.time()-t)>600) ? 0.04 : 0.02;\n\n//           if (self.speedx) {\n//             nx = Math.floor(self.lastscrollx - (self.speedx*(1-self.demulxy)));\n//             self.lastscrollx = nx;\n//             if ((nx<0)||(nx>pagew)) df=0.10;\n//           }\n\n//           if (self.speedy) {\n//             ny = Math.floor(self.lastscrolly - (self.speedy*(1-self.demulxy)));\n//             self.lastscrolly = ny;\n//             if ((ny<0)||(ny>pageh)) df=0.10;\n//           }\n\n//           self.demulxy = Math.min(1,self.demulxy+df);\n\n//           self.nc.synched(\"domomentum2d\",function(){\n\n//             if (self.speedx) {\n//               var scx = self.nc.getScrollLeft();\n//               if (scx!=self.chkx) self.stop();\n//               self.chkx=nx;\n//               self.nc.setScrollLeft(nx);\n//             }\n\n//             if (self.speedy) {\n//               var scy = self.nc.getScrollTop();\n//               if (scy!=self.chky) self.stop();\n//               self.chky=ny;\n//               self.nc.setScrollTop(ny);\n//             }\n\n//             if(!self.timer) {\n//               self.nc.hideCursor();\n//               self.doSnapy(nx,ny);\n//             }\n\n//           });\n\n//           if (self.demulxy<1) {\n//             self.timer = setTimeout(onscroll,tm);\n//           } else {\n//             self.stop();\n//             self.nc.hideCursor();\n//             self.doSnapy(nx,ny);\n//           }\n//         };\n\n//         onscroll();\n\n//       } else {\n//         self.doSnapy(self.nc.getScrollLeft(),self.nc.getScrollTop());\n//       }\n\n//     }\n\n//   };\n\n\n// // override jQuery scrollTop\n\n//   var _scrollTop = jQuery.fn.scrollTop; // preserve original function\n\n//   jQuery.cssHooks[\"pageYOffset\"] = {\n//     get: function(elem,computed,extra) {\n//       var nice = $.data(elem,'__nicescroll')||false;\n//       return (nice&&nice.ishwscroll) ? nice.getScrollTop() : _scrollTop.call(elem);\n//     },\n//     set: function(elem,value) {\n//       var nice = $.data(elem,'__nicescroll')||false;\n//       (nice&&nice.ishwscroll) ? nice.setScrollTop(parseInt(value)) : _scrollTop.call(elem,value);\n//       return this;\n//     }\n//   };\n\n// /*\n//   $.fx.step[\"scrollTop\"] = function(fx){\n//     $.cssHooks[\"scrollTop\"].set( fx.elem, fx.now + fx.unit );\n//   };\n// */\n\n//   jQuery.fn.scrollTop = function(value) {\n//     if (typeof value == \"undefined\") {\n//       var nice = (this[0]) ? $.data(this[0],'__nicescroll')||false : false;\n//       return (nice&&nice.ishwscroll) ? nice.getScrollTop() : _scrollTop.call(this);\n//     } else {\n//       return this.each(function() {\n//         var nice = $.data(this,'__nicescroll')||false;\n//         (nice&&nice.ishwscroll) ? nice.setScrollTop(parseInt(value)) : _scrollTop.call($(this),value);\n//       });\n//     }\n//   }\n\n// // override jQuery scrollLeft\n\n//   var _scrollLeft = jQuery.fn.scrollLeft; // preserve original function\n\n//   $.cssHooks.pageXOffset = {\n//     get: function(elem,computed,extra) {\n//       var nice = $.data(elem,'__nicescroll')||false;\n//       return (nice&&nice.ishwscroll) ? nice.getScrollLeft() : _scrollLeft.call(elem);\n//     },\n//     set: function(elem,value) {\n//       var nice = $.data(elem,'__nicescroll')||false;\n//       (nice&&nice.ishwscroll) ? nice.setScrollLeft(parseInt(value)) : _scrollLeft.call(elem,value);\n//       return this;\n//     }\n//   };\n\n// /*\n//   $.fx.step[\"scrollLeft\"] = function(fx){\n//     $.cssHooks[\"scrollLeft\"].set( fx.elem, fx.now + fx.unit );\n//   };\n// */\n\n//   jQuery.fn.scrollLeft = function(value) {\n//     if (typeof value == \"undefined\") {\n//       var nice = (this[0]) ? $.data(this[0],'__nicescroll')||false : false;\n//       return (nice&&nice.ishwscroll) ? nice.getScrollLeft() : _scrollLeft.call(this);\n//     } else {\n//       return this.each(function() {\n//         var nice = $.data(this,'__nicescroll')||false;\n//         (nice&&nice.ishwscroll) ? nice.setScrollLeft(parseInt(value)) : _scrollLeft.call($(this),value);\n//       });\n//     }\n//   }\n\n//   var NiceScrollArray = function(doms) {\n//     var self = this;\n//     this.length = 0;\n//     this.name = \"nicescrollarray\";\n\n//     this.each = function(fn) {\n//       for(var a=0,i=0;a<self.length;a++) fn.call(self[a],i++);\n//       return self;\n//     };\n\n//     this.push = function(nice) {\n//       self[self.length]=nice;\n//       self.length++;\n//     };\n\n//     this.eq = function(idx) {\n//       return self[idx];\n//     };\n\n//     if (doms) {\n//       for(a=0;a<doms.length;a++) {\n//         var nice = $.data(doms[a],'__nicescroll')||false;\n//         if (nice) {\n//           this[this.length]=nice;\n//           this.length++;\n//         }\n//       };\n//     }\n\n//     return this;\n//   };\n\n//   function mplex(el,lst,fn) {\n//     for(var a=0;a<lst.length;a++) fn(el,lst[a]);\n//   };\n//   mplex(\n//     NiceScrollArray.prototype,\n//     ['show','hide','toggle','onResize','resize','remove','stop','doScrollPos'],\n//     function(e,n) {\n//       e[n] = function(){\n//         var args = arguments;\n//         return this.each(function(){\n//           this[n].apply(this,args);\n//         });\n//       };\n//     }\n//   );\n\n//   jQuery.fn.getNiceScroll = function(index) {\n//     if (typeof index == \"undefined\") {\n//       return new NiceScrollArray(this);\n//     } else {\n//       var nice = this[index]&&$.data(this[index],'__nicescroll')||false;\n//       return nice;\n//     }\n//   };\n\n//   jQuery.extend(jQuery.expr[':'], {\n//     nicescroll: function(a) {\n//       return ($.data(a,'__nicescroll'))?true:false;\n//     }\n//   });\n\n//   $.fn.niceScroll = function(wrapper,opt) {\n//     if (typeof opt==\"undefined\") {\n//       if ((typeof wrapper==\"object\")&&!(\"jquery\" in wrapper)) {\n//         opt = wrapper;\n//         wrapper = false;\n//       }\n//     }\n//     var ret = new NiceScrollArray();\n//     if (typeof opt==\"undefined\") opt = {};\n\n//     if (wrapper||false) {\n//       opt.doc = $(wrapper);\n//       opt.win = $(this);\n//     }\n//     var docundef = !(\"doc\" in opt);\n//     if (!docundef&&!(\"win\" in opt)) opt.win = $(this);\n\n//     this.each(function() {\n//       var nice = $(this).data('__nicescroll')||false;\n//       if (!nice) {\n//         opt.doc = (docundef) ? $(this) : opt.doc;\n//         nice = new NiceScrollClass(opt,$(this));\n//         $(this).data('__nicescroll',nice);\n//       }\n//       ret.push(nice);\n//     });\n//     return (ret.length==1) ? ret[0] : ret;\n//   };\n\n//   window.NiceScroll = {\n//     getjQuery:function(){return jQuery}\n//   };\n\n//   if (!$.nicescroll) {\n//    $.nicescroll = new NiceScrollArray();\n//    $.nicescroll.options = _globaloptions;\n//   }\n\n// })( jQuery );\n"]},"metadata":{},"sourceType":"module"}